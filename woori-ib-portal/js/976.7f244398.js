"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[976],{49015:function(e,a,d){d.a(e,(async function(e,o){try{var t=d(66252),s=d(43493),l=d(90121),n=e([l]);l=(n.then?(await n)():n)[0],a["Z"]=(0,t.aZ)({name:"com211001sc02",components:{BreadCrumb:l.Z},data(){const e=[],a=[{key:"01",value:"Active"},{key:"02",value:"Inactive"}],d={standardCodeDomainName:this.$route.query.standardCodeDomainName,standardCodeDomainNo:this.$route.query.standardCodeDomainNo,businessCommonStatusCode:"01",standardCodeDetailLanguageList:[{languageCode:"En",standardCodeValueDesc:"",businessCommonStatusCode:"01"}],standardCodeValue:"",standardCodeDisplayOrder:0},o=!0,t=!1,s=!1,l=!1,n=!1,i="";return{isEditable:o,form:d,commonCodeValue:e,isInValidInput:t,isInValidAdd:n,isCodeValueDuplicated:s,isDescriptionDuplicated:l,dataLength:i,statusCode:a,operationMode:"normal",approvalRes:{}}},updated(){this.isCodeValueDuplicated=this.handleDuplicateCodeValue(this.commonCodeValue),this.isDescriptionDuplicated=this.handleDuplicateDescription(this.commonCodeValue)},async mounted(){""===this.approvalType?this.requestCommonCodeValue():await this.$approval.getAuthorizationDetail().then((async e=>{let a=JSON.parse(e.body.requestContent);this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.commonCodeValue=a.list,this.commonCodeValue=this.commonCodeValue.map((e=>({businessCommonStatusCode:e.businessCommonStatusCode,standardCodeDisplayOrder:e.standardCodeDisplayOrder,standardCodeDomainName:e.standardCodeDomainName,standardCodeDomainNo:e.standardCodeDomainNo,standardCodeValue:e.standardCodeValue,standardCodeDetailLanguageList:0!==e.standardCodeDetailLanguageList.length?e.standardCodeDetailLanguageList:[{languageCode:"En",businessCommonStatusCode:"01",standardCodeValueDesc:""}]})))}))},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},covertCodeValue(){return(e,a)=>`${e} : ${a}`}},methods:{async requestCommonCodeValue(){const e={standardCodeDomainName:this.$route.query.standardCodeDomainName},a=await this.$request.getRequest("COM21100112",e,!1);if(a.header.result){this.commonCodeValue=a.body.valueCodeList;for(let e=0;e<a.body.valueCodeList.length;e++)this.commonCodeValue[e].standardCodeDetailLanguageList=a.body.valueCodeList[e].standardCodeDetailLanguageList.filter((e=>"En"==e.languageCode))}this.commonCodeValue=this.commonCodeValue.map((e=>({businessCommonStatusCode:e.businessCommonStatusCode,standardCodeDisplayOrder:e.standardCodeDisplayOrder,standardCodeDomainName:e.standardCodeDomainName,standardCodeDomainNo:e.standardCodeDomainNo,standardCodeValue:e.standardCodeValue,standardCodeDetailLanguageList:0!==e.standardCodeDetailLanguageList.length?e.standardCodeDetailLanguageList:[{languageCode:"En",businessCommonStatusCode:"01",standardCodeValueDesc:""}]}))),this.dataLength=a.body.codeDataLengthContent},async handleEdit(){this.commonCodeValue=this.commonCodeValue.map(((e,a)=>({businessCommonStatusCode:e.businessCommonStatusCode,standardCodeDisplayOrder:a+1,standardCodeDomainName:e.standardCodeDomainName,standardCodeDomainNo:e.standardCodeDomainNo,standardCodeValue:e.standardCodeValue,standardCodeDetailLanguageList:e.standardCodeDetailLanguageList})));const e={list:this.commonCodeValue},a=await this.$request.getRequest("COM21100132",e,!1);a.header.result&&(this.isEditable=!0,this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.requestCommonCodeValue(),s.Fy.dismiss()}}))},handleReorder(e){this.commonCodeValue=e.detail.complete(this.commonCodeValue)},handleActionClick(e){switch(e){case"edit":this.isInValidAdd=!1,this.isEditable=!1;break;case"cancel":this.$dialog.onOpen({content:`${this.$t("message.cancel_without_saving_changes")}`,dialogMode:"Question",btnLabel:this.$t("common.confirm"),callback:()=>{this.requestCommonCodeValue(),this.isEditable=!0,this.isInValidAdd=!1,this.isInValidInput=!1}});break;case"add":this.form.standardCodeValue&&this.form.standardCodeDetailLanguageList[0].languageCode&&this.form.standardCodeDetailLanguageList[0].standardCodeValueDesc&&this.form.standardCodeDetailLanguageList[0].businessCommonStatusCode&&this.isCodeValueDuplicated&&this.isDescriptionDuplicated?(this.form.standardCodeDisplayOrder=this.commonCodeValue.length+1,this.commonCodeValue.push(JSON.parse(JSON.stringify(this.form))),this.form.standardCodeValue="",this.form.standardCodeDetailLanguageList[0].standardCodeValueDesc="",this.isInValidAdd=!1,this.$util.scrollToElement("inp_error")):this.form.standardCodeValue&&this.form.standardCodeDetailLanguageList[0].languageCode&&this.form.standardCodeDetailLanguageList[0].standardCodeValueDesc&&this.form.standardCodeDetailLanguageList[0].businessCommonStatusCode&&this.isCodeValueDuplicated&&this.isDescriptionDuplicated||(this.isInValidAdd=!0,this.$util.scrollToElement("inp_error"));break;case"save":var a=this.handleCommonCodeValidation(this.commonCodeValue),d=this.handleCodeValueValidation(this.commonCodeValue);a&&d?this.$dialog.onOpen({content:this.$t("message.would_you_like_to_save"),dialogMode:"Question",callback:()=>{this.handleEdit(),this.isEditable=!0,this.isInValidInput=!1}}):a&&d||(this.isInValidInput=!0,this.$util.scrollToElement("inp_error"));break;case"list":this.$router.push("COM211001SC00");break}},handleCommonCodeValidation(e){let a=!0;for(let d=0;d<e.length;d++)""!==e[d].standardCodeValue?e[d]:a=!1;return a},handleCodeValueValidation(e){let a=!0;for(let d=0;d<e.length;d++)for(let o=0;o<e[d].standardCodeDetailLanguageList.length;o++)e[d].standardCodeDetailLanguageList[o].businessCommonStatusCode&&e[d].standardCodeDetailLanguageList[o].languageCode&&e[d].standardCodeDetailLanguageList[o].standardCodeValueDesc?e[d].standardCodeDetailLanguageList[o]:a=!1;return a},handleDuplicateCodeValue(e){let a=!0;for(let d=0;d<e.length;d++)e[d].standardCodeValue!==this.form.standardCodeValue||(a=!1);return a},handleDuplicateDescription(e){let a=!0;for(let d=0;d<e.length;d++)for(let o=0;o<e[d].standardCodeDetailLanguageList.length;o++)e[d].standardCodeDetailLanguageList[o].standardCodeValueDesc!==this.form.standardCodeDetailLanguageList[0].standardCodeValueDesc||(a=!1);return a},checkSpace(e){this.$validate.validateSpace(e)}}}),o()}catch(i){o(i)}}))},50976:function(e,a,d){d.a(e,(async function(e,o){try{d.r(a);var t=d(14237),s=d(94295),l=(d(3503),d(83744)),n=e([s]);s=(n.then?(await n)():n)[0];const i=(0,l.Z)(s.Z,[["render",t.s],["__scopeId","data-v-d0eb62b8"]]);a["default"]=i,o()}catch(i){o(i)}}))},3503:function(){},94295:function(e,a,d){d.a(e,(async function(e,o){try{d.d(a,{Z:function(){return t.Z}});var t=d(49015),s=e([t]);t=(s.then?(await s)():s)[0],o()}catch(l){o(l)}}))},14237:function(e,a,d){d.d(a,{s:function(){return ie}});var o=d(66252),t=d(3577),s=d(49963);const l=e=>((0,o.dD)("data-v-d0eb62b8"),e=e(),(0,o.Cn)(),e),n={class:"contentWrap"},i=l((()=>(0,o._)("h1",{class:"title_name"},(0,t.zw)("Value of Code Register/Edit"),-1))),r={class:"cont"},u={class:"card_box"},c={class:"row gap"},m={class:"col"},p={class:"form01"},C=l((()=>(0,o._)("span",{class:"require"},"*",-1))),h={class:"inp"},g={key:0,class:"txt_error"},_={key:1,class:"txt_error"},V={class:"col",style:{display:"none"}},D={class:"form01"},v={class:"inp_box"},b={class:"inp"},f={class:"col"},y={class:"form01"},w=l((()=>(0,o._)("span",{class:"require"},"*",-1))),L={class:"inp"},k={key:0,class:"txt_error"},$={key:1,class:"txt_error"},I={class:"col"},q={class:"form01"},z=l((()=>(0,o._)("span",{class:"require"},"*",-1))),E={class:"row"},M={class:"col"},S={class:"row gap sub_form"},x={class:"col"},U={class:"form02"},A={class:"vbot"},N={class:"row gap"},O={class:"col"},W={class:"form01"},R=l((()=>(0,o._)("span",{class:"require"},"*",-1))),T={class:"inp"},j={key:0,class:"txt_error"},K={class:"col",style:{display:"none"}},Z={class:"form01"},H=l((()=>(0,o._)("span",{class:"require"},"*",-1))),Y={class:"inp"},B={key:0,class:"txt_error"},J={class:"col"},F={class:"form01"},Q=l((()=>(0,o._)("span",{class:"require"},"*",-1))),G={class:"inp"},P={key:0,class:"txt_error"},X={class:"col"},ee={class:"form01"},ae=l((()=>(0,o._)("span",{class:"require"},"*",-1))),de={class:"col auto"},oe={key:0,class:"footer_btn"},te={class:"left_side"},se={class:"right_side"},le={class:"edit"},ne={class:"save"};function ie(e,a){const d=(0,o.up)("BreadCrumb"),l=(0,o.up)("ion-input"),ie=(0,o.up)("ion-select-option"),re=(0,o.up)("ion-select"),ue=(0,o.up)("ion-button"),ce=(0,o.up)("ion-reorder"),me=(0,o.up)("ion-reorder-group"),pe=(0,o.up)("ApprovalReason");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(d,{staticScreenName:"Value of Code Register/Edit"}),i,(0,o._)("div",r,[(0,o._)("div",u,[(0,o._)("h4",null,(0,t.zw)(e.$t("com211001sc02.value")),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.form.standardCodeDetailLanguageList,(d=>((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",m,[(0,o._)("dl",p,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("com211001sc02.code_value")),1),C]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,t.C_)(["inp_box",{inp_error:e.isInValidAdd&&!e.form.standardCodeValue||e.isInValidAdd&&!e.isCodeValueDuplicated}])},[(0,o._)("div",h,[(0,o.Wm)(l,{class:"line",placeholder:e.$t("com211001sc02.placeholder.enter_code"),onKeydown:e.checkSpace,modelValue:e.form.standardCodeValue,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.standardCodeValue=a),maxLength:e.dataLength,readonly:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","onKeydown","modelValue","maxLength","readonly"])]),!e.form.standardCodeValue&&e.isInValidAdd?((0,o.wg)(),(0,o.iD)("p",g,(0,t.zw)(e.$t("error_text.field_empty")),1)):!e.isCodeValueDuplicated&&e.isInValidAdd?((0,o.wg)(),(0,o.iD)("p",_,(0,t.zw)(e.$t("error_text.duplicate")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",V,[(0,o._)("dl",D,[(0,o._)("dt",null,(0,t.zw)(e.$t("com211001sc02.value_description_eng")),1),(0,o._)("dd",null,[(0,o._)("div",v,[(0,o._)("div",b,[(0,o.Wm)(l,{class:"line",placeholder:e.$t("com211001sc02.placeholder.enter_code"),disabled:"",modelValue:d.languageCode,"onUpdate:modelValue":e=>d.languageCode=e},null,8,["placeholder","modelValue","onUpdate:modelValue"])])])])])]),(0,o._)("div",f,[(0,o._)("dl",y,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("Description")),1),w]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,t.C_)(["inp_box",{inp_error:e.isInValidAdd&&!d.standardCodeValueDesc||e.isInValidAdd&&!e.isDescriptionDuplicated}])},[(0,o._)("div",L,[(0,o.Wm)(l,{class:"line",placeholder:e.$t("com211001sc02.placeholder.enter_description"),modelValue:d.standardCodeValueDesc,"onUpdate:modelValue":e=>d.standardCodeValueDesc=e,modelModifiers:{trim:!0},readonly:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","modelValue","onUpdate:modelValue","readonly"])]),!d.standardCodeValueDesc&&e.isInValidAdd?((0,o.wg)(),(0,o.iD)("p",k,(0,t.zw)(e.$t("error_text.field_empty")),1)):!e.isDescriptionDuplicated&&e.isInValidAdd?((0,o.wg)(),(0,o.iD)("p",$,(0,t.zw)(e.$t("error_text.duplicate")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",I,[(0,o._)("dl",q,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("com211001sc02.status_code")),1),z]),(0,o._)("dd",null,[(0,o.Wm)(re,{interface:"popover",interfaceOptions:{size:"cover"},class:"line",modelValue:e.form.businessCommonStatusCode,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.businessCommonStatusCode=a),disabled:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.statusCode,(a=>((0,o.wg)(),(0,o.j4)(ie,{value:a.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.covertCodeValue(a.key,a.value)),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue"])])])])])))),256)),(0,o._)("div",E,[(0,o._)("div",M,[(0,o.Wm)(me,{disabled:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode,onIonItemReorder:a[2]||(a[2]=a=>e.handleReorder(a))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.commonCodeValue,((a,d)=>((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",x,[(0,o._)("dl",U,[(0,o._)("dt",A,(0,t.zw)(e.$t("common.display"))+" "+(0,t.zw)(d+1),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.standardCodeDetailLanguageList,(d=>((0,o.wg)(),(0,o.iD)("dd",null,[(0,o._)("div",N,[(0,o._)("div",O,[(0,o._)("dl",W,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("com211001sc02.code_value")),1),R]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,t.C_)(["inp_box",{inp_error:e.isInValidInput&&!a.standardCodeValue}])},[(0,o._)("div",T,[(0,o.Wm)(l,{class:(0,t.C_)(["line",{invalidInput:e.isInValidInput&&!a.standardCodeValue}]),modelValue:a.standardCodeValue,"onUpdate:modelValue":e=>a.standardCodeValue=e,disabled:"",maxLength:e.dataLength},null,8,["modelValue","onUpdate:modelValue","maxLength","class"])]),!a.standardCodeValue&&e.isInValidInput?((0,o.wg)(),(0,o.iD)("p",j,(0,t.zw)(e.$t("error_text.field_empty")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",K,[(0,o._)("dl",Z,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("com211001sc02.value_description_eng")),1),H]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,t.C_)(["inp_box",{inp_error:e.isInValidInput&&!a.standardCodeValue}])},[(0,o._)("div",Y,[(0,o.Wm)(l,{class:(0,t.C_)(["line",{invalidInput:e.isInValidInput&&!a.standardCodeDetailLanguageList[0].languageCode}]),modelValue:d.languageCode,"onUpdate:modelValue":e=>d.languageCode=e,readonly:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","onUpdate:modelValue","readonly","class"])]),a.standardCodeValue?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",B,(0,t.zw)(e.$t("error_text.field_empty")),1))],2)])])]),(0,o._)("div",J,[(0,o._)("dl",F,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("Description")),1),Q]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,t.C_)(["inp_box",{inp_error:e.isInValidInput&&!d.standardCodeValueDesc}])},[(0,o._)("div",G,[(0,o.Wm)(l,{class:(0,t.C_)(["line",{invalidInput:e.isInValidInput&&!d.standardCodeValueDesc}]),modelValue:d.standardCodeValueDesc,"onUpdate:modelValue":e=>d.standardCodeValueDesc=e,readonly:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},null,8,["class","modelValue","onUpdate:modelValue","readonly"])]),!d.standardCodeValueDesc&&e.isInValidInput?((0,o.wg)(),(0,o.iD)("p",P,(0,t.zw)(e.$t("error_text.field_empty")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",X,[(0,o._)("dl",ee,[(0,o._)("dt",null,[(0,o.Uk)((0,t.zw)(e.$t("com211001sc02.status_code")),1),ae]),(0,o._)("dd",null,[(0,o.Wm)(re,{class:"line",interface:"popover",interfaceOptions:{size:"cover"},modelValue:a.businessCommonStatusCode,"onUpdate:modelValue":e=>a.businessCommonStatusCode=e,disabled:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.statusCode,(e=>((0,o.wg)(),(0,o.j4)(ie,{value:e.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,t.zw)(e.key)+" : "+(0,t.zw)(e.value),1)])),_:2},1032,["value"])))),256))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])])]),(0,o.wy)((0,o._)("div",de,[(0,o.Wm)(ce,{slot:"end",disabled:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,o.w5)((()=>[(0,o.Wm)(ue,{class:"btn_drag"})])),_:1},8,["disabled"])],512),[[s.F8,!e.isEditable]])])])))),256))])])])))),256))])),_:1},8,["disabled"])])])]),"normal"==e.operationMode?((0,o.wg)(),(0,o.iD)("div",oe,[(0,o._)("div",te,[e.isEditable?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(ue,{key:0,class:"btn03",onClick:a[3]||(a[3]=a=>e.handleActionClick("cancel"))},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,t.zw)(e.$t("common.cancel")),1)])),_:1})),e.isEditable?((0,o.wg)(),(0,o.j4)(ue,{key:1,class:"btn02",onClick:a[4]||(a[4]=a=>e.handleActionClick("list"))},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,t.zw)(e.$t("common.list")),1)])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",se,[e.isEditable?((0,o.wg)(),(0,o.j4)(ue,{key:0,class:"btn02 btn_ico",onClick:a[5]||(a[5]=a=>e.handleActionClick("edit"))},{default:(0,o.w5)((()=>[(0,o._)("span",le,(0,t.zw)(e.$t("common.edit")),1)])),_:1})):(0,o.kq)("",!0),e.isEditable?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(ue,{key:1,class:"btn01 btn_ico",onClick:a[6]||(a[6]=a=>e.handleActionClick("save"))},{default:(0,o.w5)((()=>[(0,o._)("span",ne,(0,t.zw)(e.$t("common.save")),1)])),_:1})),(0,o.Wm)(ue,{class:"btn01",onClick:a[7]||(a[7]=a=>e.handleActionClick("add")),disabled:e.isEditable||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,t.zw)(e.$t("common.add")),1)])),_:1},8,["disabled"])])])):(0,o.kq)("",!0),"normal"!==e.operationMode?((0,o.wg)(),(0,o.j4)(pe,{key:1,payload:e.approvalRes},null,8,["payload"])):(0,o.kq)("",!0)])])}}}]);
//# sourceMappingURL=976.7f244398.js.map