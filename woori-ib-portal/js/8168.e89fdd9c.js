"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[8168,5037],{23799:function(e,t,a){a.a(e,(async function(e,s){try{var i,n=a(66252),o=a(2262),d=a(41762),r=a(43493),l=a(67609),c=a(15828),u=a(90121),p=a(67201),m=e([u]);u=(m.then?(await m)():m)[0],function(e){e["amountFee"]="01",e["rateFee"]="02"}(i||(i={})),t["Z"]=(0,n.aZ)({name:"pfm202001sc01",components:{VueDatePicker:d.Z,currencyInput:l.Z,ModifyCard:c.Z,BreadCrumb:u.Z,SelectOption:p.Z},data(){const e=(0,o.iH)({productFeeCode:"",feeCurrencyCode:"",applyStartDate:new Date,applySeqNo:"",applyEndDate:new Date,feeApplyStatusCode:"",baseFeeRate:"0",baseFeeAmount:"0",baseFeeApplyStartAmount:"0",feeMinAmount:"0",feeMaxAmount:"0",minFeeRate:"0",maxFeeRate:"0",feeCalcApplyBaseCode:"01",firstRegisterBranchCode:"",firstRegisterTellerID:"",firstRegisterTellerName:"",firstRegisterDate:"",firstRegisterTime:"",lastChangeBranchCode:"",lastChangeTellerID:"",lastChangeTellerName:"",lastChangeDate:"",lastChangeTime:"",deleteBranchCode:"",deleteTellerID:"",deleteTellerName:"",deleteDate:"",deleteTime:""});return{dataFeeByTransaction:e,modifyCard:{registerTellerId:"",registerTellerName:"",registerDate:"",registerTime:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:"",deleteTellerId:"",deleteTellerName:"",deleteDate:"",deleteTime:""},feeCalcMethodTypeCodes:[],productFeeCode:"",isEdit:!0,isDisableField:!0,isRequiredFiled:!1,isInvalidFeeAmount:!1,isInvalidFeeRate:!1,isInvalidApplyStartDate:!1,isInvalidMinAmount:!1,isInvalidBaseFeeAmount:!1,isInvalidMinFeeRate:!1,isInvalidBaseFeeRate:!1,isDisableFeeCalcBaseCode:!1,isInvalidFeeCalcBaseCode:!1,isDisableBaseFeeRate:!1,isDisableBaseFeeAmount:!1,commonValue:{FeeApplyStatusCode:[],FeeCurrencyCode:[]},operationMode:"normal",approvalRes:{},productFee:{calcCode:"",startDate:new Date,endDate:new Date}}},watch:{productFeeCode(e){this.feeCalcMethodTypeCodes.map(((t,a)=>{Number(e)==a&&(this.productFee.startDate=this.$datetime.convertStringToDate(t.applyStartDate),this.productFee.endDate=this.$datetime.convertStringToDate(t.applyEndDate),this.productFee.calcCode=t.feeCalcApplyBaseCode,"register"==this.displayType&&(this.dataFeeByTransaction.productFeeCode=t.productFeeCode,this.dataFeeByTransaction.feeCurrencyCode=t.feeCurrencyCode,this.dataFeeByTransaction.applyStartDate=this.$datetime.convertStringToDate(t.applyStartDate),this.dataFeeByTransaction.applyEndDate=this.$datetime.convertStringToDate(t.applyEndDate)))}))},dataFeeByTransaction:{handler(e){"02"==e.feeCalcApplyBaseCode?(Number(e.feeMinAmount)>Number(e.feeMaxAmount)?this.isInvalidMinAmount=!0:this.isInvalidMinAmount=!1,this.isDisableFeeCalcBaseCode=!1,this.isDisableBaseFeeRate=!1,this.isDisableBaseFeeAmount=!0,this.dataFeeByTransaction.baseFeeAmount=0):(this.isDisableFeeCalcBaseCode=!0,this.isDisableBaseFeeRate=!0,this.isDisableBaseFeeAmount=!1,this.dataFeeByTransaction.baseFeeRate=0,e.feeMaxAmount=e.baseFeeAmount,e.feeMinAmount=e.baseFeeAmount)},deep:!0}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},displayType(){return this.$route.query.type},getProductFeeCode(){return this.$route.query.productFeeCode},queryRoute(){return this.$route.query},btnDelete(){return!("register"===this.displayType||!this.isEdit)},btnCancel(){return"register"==this.displayType||0==this.isEdit},btnList(){return!("register"===this.displayType||!this.isEdit)},btnEdit(){return!("register"===this.displayType||!this.isEdit)},formattedStartDate(){return this.$datetime.formatVueDatePicker(this.dataFeeByTransaction.applyStartDate)},formattedEndDate(){return this.$datetime.formatVueDatePicker(this.dataFeeByTransaction.applyEndDate)},invalidBaseFeeAmount(){return Number(this.dataFeeByTransaction.baseFeeAmount)>Number(this.dataFeeByTransaction.feeMaxAmount)},invalidMinFeeRate(){return Number(this.dataFeeByTransaction.minFeeRate)>Number(this.dataFeeByTransaction.baseFeeRate)},isDisableRate(){return this.productFee.calcCode!==i.rateFee},isDisableAmount(){return this.productFee.calcCode!==i.amountFee},isInvalidFieldFeeCalcBaseCode(){return""===this.dataFeeByTransaction.feeCalcApplyBaseCode},invalidFeeMinAmountByFeeCalc(){return Number(this.dataFeeByTransaction.feeMinAmount)>Number(this.dataFeeByTransaction.feeMaxAmount)}},async created(){if(""===this.approvalType)switch(await this.requestFeeCalcMethodTypeCode(),this.displayType){case"register":this.isDisableField=!1,this.dataFeeByTransaction.feeApplyStatusCode=this.$store.state.CommonCodeModule.commonCode.FeeApplyStatusCode[0].key;break;case"edit":this.requestFeeByTransactionDetail()}else await this.requestFeeCalcMethodTypeCode(),await this.$approval.getAuthorizationDetail().then((async e=>{let t=JSON.parse(e.body.requestContent);if(this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal","delete"==this.$util.checkServiceIdType(e.body.serviceID)){const e={productFeeCode:t.productFeeCode,feeCurrencyCode:t.feeCurrencyCode,applyStartDate:t.applyStartDate,applySeqNo:Number(t.applySeqNo)},a=await this.$request.getRequest("PFM20200112",e,!1),s=a.body,i={applyStartDate:s.applyStartDate?this.$datetime.convertStringToDate(s.applyStartDate):"",applyEndDate:s.applyEndDate?this.$datetime.convertStringToDate(s.applyEndDate):"",baseFeeAmount:s.baseFeeAmount?this.$format.formatCurrency(s.baseFeeAmount,s.feeCurrencyCode):"",baseFeeApplyStartAmount:s.baseFeeApplyStartAmount?this.$format.formatCurrency(s.baseFeeApplyStartAmount,s.feeCurrencyCode):"",feeMaxAmount:s.feeMaxAmount?this.$format.formatCurrency(s.feeMaxAmount,s.feeCurrencyCode):"",feeMinAmount:s.feeMinAmount?this.$format.formatCurrency(s.feeMinAmount,s.feeCurrencyCode):""};this.dataFeeByTransaction={...a.body,...i}}else{const e=t,a={applyStartDate:e.applyStartDate?this.$datetime.convertStringToDate(e.applyStartDate):"",applyEndDate:e.applyEndDate?this.$datetime.convertStringToDate(e.applyEndDate):"",baseFeeAmount:e.baseFeeAmount?this.$format.formatCurrency(e.baseFeeAmount,e.feeCurrencyCode):"",baseFeeApplyStartAmount:e.baseFeeApplyStartAmount?this.$format.formatCurrency(e.baseFeeApplyStartAmount,e.feeCurrencyCode):"",feeMaxAmount:e.feeMaxAmount?this.$format.formatCurrency(e.feeMaxAmount,e.feeCurrencyCode):"",feeMinAmount:e.feeMinAmount?this.$format.formatCurrency(e.feeMinAmount,e.feeCurrencyCode):""};this.dataFeeByTransaction={...t,...a}}}))},methods:{async requestFeeCalcMethodTypeCode(){await this.$request.getRequest("PFM20100113",{feeCalcMethodTypeCode:"01"},!1).then((e=>{e.header.result&&(this.feeCalcMethodTypeCodes=e.body.list,"register"===this.displayType&&(this.dataFeeByTransaction.productFeeCode=e.body.list[0].productFeeCode,this.dataFeeByTransaction.feeCurrencyCode=e.body.list[0].feeCurrencyCode))}))},async requestFeeByTransactionDetail(){const e={productFeeCode:this.queryRoute.productFeeCode,feeCurrencyCode:this.queryRoute.feeCurrencyCode,applyStartDate:this.queryRoute.applyStartDate,applySeqNo:Number(this.queryRoute.applySeqNo)},t=await this.$request.getRequest("PFM20200112",e,!1),a=t?.body,s={applyStartDate:a.applyStartDate?this.$datetime.convertStringToDate(a.applyStartDate):"",applyEndDate:a.applyEndDate?this.$datetime.convertStringToDate(a.applyEndDate):"",baseFeeAmount:a.baseFeeAmount?this.$format.formatCurrency(a.baseFeeAmount,a.feeCurrencyCode):"",baseFeeApplyStartAmount:a.baseFeeApplyStartAmount?this.$format.formatCurrency(a.baseFeeApplyStartAmount,a.feeCurrencyCode):"",feeMaxAmount:a.feeMaxAmount?this.$format.formatCurrency(a.feeMaxAmount,a.feeCurrencyCode):"",feeMinAmount:a.feeMinAmount?this.$format.formatCurrency(a.feeMinAmount,a.feeCurrencyCode):""};this.dataFeeByTransaction={...t.body,...s},this.dataFeeByTransaction.productFeeCode&&(this.feeCalcMethodTypeCodes.map(((e,t)=>{e.productFeeCode==this.dataFeeByTransaction.productFeeCode&&(this.productFeeCode=t.toString(),console.log("item.productFeeCode",e.productFeeCode),console.log(this.dataFeeByTransaction.productFeeCode))})),this.modifyCard={registerTellerId:t.body.firstRegisterTellerID,registerTellerName:t.body.firstRegisterTellerName,registerDate:t.body.firstRegisterDate,registerTime:t.body.firstRegisterTime,updatedTellerId:"04"===this.dataFeeByTransaction.feeApplyStatusCode?"":t.body.lastChangeTellerID,updatedTellerName:"04"===this.dataFeeByTransaction.feeApplyStatusCode?"":t.body.lastChangeTellerName,updatedDate:"04"===this.dataFeeByTransaction.feeApplyStatusCode?"":t.body.lastChangeDate,updatedTime:"04"===this.dataFeeByTransaction.feeApplyStatusCode?"":t.body.lastChangeTime,deleteTellerId:"04"===this.dataFeeByTransaction.feeApplyStatusCode?t.body.lastChangeTellerID:"",deleteTellerName:"04"===this.dataFeeByTransaction.feeApplyStatusCode?t.body.lastChangeTellerName:"",deleteDate:"04"===this.dataFeeByTransaction.feeApplyStatusCode?t.body.lastChangeDate:"",deleteTime:"04"===this.dataFeeByTransaction.feeApplyStatusCode?t.body.lastChangeTime:""})},async handleDeleteRequest(){const e={applySeqNo:Number(this.dataFeeByTransaction.applySeqNo),applyStartDate:this.$datetime.convertDateToString(this.dataFeeByTransaction.applyStartDate),productFeeCode:this.dataFeeByTransaction.productFeeCode,feeCurrencyCode:this.dataFeeByTransaction.feeCurrencyCode};await this.$request.getRequest("PFM20200141",e,!1).then((e=>{e.header.result&&(this.$router.push("PFM202001SC00"),this.$dialog.onOpen({content:this.$t("message.delete_success"),dialogMode:"Success",callback:()=>{r.Fy.dismiss()}}))}))},async handleRegisterRequest(){const e={productFeeCode:this.dataFeeByTransaction.productFeeCode,feeCurrencyCode:this.dataFeeByTransaction.feeCurrencyCode,applyStartDate:this.$datetime.convertDateToString(this.dataFeeByTransaction.applyStartDate),applyEndDate:this.$datetime.convertDateToString(this.dataFeeByTransaction.applyEndDate),baseFeeRate:Number(this.dataFeeByTransaction.baseFeeRate),baseFeeAmount:Number(this.dataFeeByTransaction.baseFeeAmount)?Number(this.dataFeeByTransaction.baseFeeAmount):0,baseFeeApplyStartAmount:Number(this.dataFeeByTransaction.baseFeeApplyStartAmount),feeMinAmount:Number(this.dataFeeByTransaction.feeMinAmount)?Number(this.dataFeeByTransaction.feeMinAmount):0,feeMaxAmount:Number(this.dataFeeByTransaction.feeMaxAmount)?Number(this.dataFeeByTransaction.feeMaxAmount):0,minFeeRate:Number(this.dataFeeByTransaction.minFeeRate)?Number(this.dataFeeByTransaction.minFeeRate):0,maxFeeRate:Number(this.dataFeeByTransaction.maxFeeRate)?Number(this.dataFeeByTransaction.maxFeeRate):0,feeCalcApplyBaseCode:this.dataFeeByTransaction.feeCalcApplyBaseCode};await this.$request.getRequest("PFM20200121",e,!1).then((e=>{e.header.result&&(this.$router.push("PFM202001SC00"),this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{r.Fy.dismiss()}}))}))},async handleEditRequest(){const e={productFeeCode:this.dataFeeByTransaction.productFeeCode,feeCurrencyCode:this.dataFeeByTransaction.feeCurrencyCode,applyStartDate:this.$datetime.convertDateToString(this.dataFeeByTransaction.applyStartDate),applySeqNo:Number(this.dataFeeByTransaction.applySeqNo),applyEndDate:this.$datetime.convertDateToString(this.dataFeeByTransaction.applyEndDate),feeApplyStatusCode:this.dataFeeByTransaction.feeApplyStatusCode,baseFeeRate:Number(this.dataFeeByTransaction.baseFeeRate),baseFeeAmount:this.dataFeeByTransaction.baseFeeAmount?Number(this.$format.unformatCurrency(this.dataFeeByTransaction.baseFeeAmount)):0,baseFeeApplyStartAmount:this.dataFeeByTransaction.baseFeeApplyStartAmount?Number(this.$format.unformatCurrency(this.dataFeeByTransaction.baseFeeApplyStartAmount)):0,feeMinAmount:this.dataFeeByTransaction.feeMinAmount?Number(this.$format.unformatCurrency(this.dataFeeByTransaction.feeMinAmount)):0,feeMaxAmount:this.dataFeeByTransaction.feeMaxAmount?Number(this.$format.unformatCurrency(this.dataFeeByTransaction.feeMaxAmount)):0,minFeeRate:this.dataFeeByTransaction.minFeeRate?Number(this.dataFeeByTransaction.minFeeRate):0,maxFeeRate:this.dataFeeByTransaction.maxFeeRate?Number(this.dataFeeByTransaction.maxFeeRate):0,feeCalcApplyBaseCode:this.dataFeeByTransaction.feeCalcApplyBaseCode};await this.$request.getRequest("PFM20200131",e,!1).then((e=>{e.header.result&&(this.isEdit=!0,this.isDisableField=!0,this.isRequiredFiled=!1,this.requestFeeByTransactionDetail(),this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.requestFeeByTransactionDetail(),r.Fy.dismiss()}}))}))},handleSave(){switch(this.$route.query.type){case"register":this.handleRegisterRequest();break;default:this.handleEditRequest()}},handleClickAction(e){switch(e){case"edit":this.isEdit=!1,this.isDisableField=!1;break;case"list":this.$router.push("PFM202001SC00");break;case"delete":this.$dialog.onOpen({content:this.$t("message.would_you_like_to_delete"),dialogMode:"Question",callback:()=>{this.handleDeleteRequest(),r.Fy.dismiss()}});break;case"cancel":"register"==this.displayType?this.$dialog.onOpen({content:this.$t("message.are_you_sure_you_want_to_cancel_registration?"),dialogMode:"Question",callback:()=>{r.Fy.dismiss(),this.$router.push("PFM202001SC00")}}):this.$dialog.onOpen({content:this.$t("message.cancel_without_saving_changes"),dialogMode:"Question",callback:()=>{this.isEdit=!0,this.isDisableField=!0,this.isRequiredFiled=!1,this.requestFeeByTransactionDetail(),r.Fy.dismiss()}});break;case"save":var{productFeeCode:t,feeMinAmount:a,feeMaxAmount:s,applyStartDate:i,applyEndDate:n}=this.dataFeeByTransaction;!t||Number(a)>Number(s)||0==this.$validate.startDateEndDateValidation(i,n)||this.isInvalidFieldFeeCalcBaseCode?(this.isRequiredFiled=!0,this.isInvalidMinAmount=!0,this.isInvalidBaseFeeAmount=!0,this.isInvalidApplyStartDate=!0,this.isInvalidFeeCalcBaseCode=!0,this.$util.scrollToElement("inp_error")):this.$dialog.onOpen({content:this.$t("message.would_you_like_to_save"),dialogMode:"Question",callback:()=>{r.Fy.dismiss(),this.handleSave()}});break}}}}),s()}catch(y){s(y)}}))},67609:function(e,t,a){a.d(t,{Z:function(){return F}});var s=a(66252),i=a(3577);const n={key:0,class:"unit"};function o(e,t){const a=(0,s.up)("ion-input");return(0,s.wg)(),(0,s.j4)(a,{class:(0,i.C_)([[e.showCurrency&&"inp_amount","line","type_amount","right"===e.textAlign?"align-right":""],"type_amount"]),value:e.displayVal,maxLength:16,style:(0,i.j5)({"text-align":e.textAlign}),onKeydown:e.onKeyDown,onIonInput:e.onChange,onIonBlur:e.onBlur,onIonFocus:e.onFocus},{default:(0,s.w5)((()=>[e.showCurrency?((0,s.wg)(),(0,s.iD)("span",n,(0,i.zw)(e.currency),1)):(0,s.kq)("",!0)])),_:1},8,["class","value","style","onKeydown","onIonInput","onIonBlur","onIonFocus"])}const d=8,r=37,l=39,c=46,u=13,p=190;var m=(0,s.aZ)({name:"CurrencyInput",props:{modelValue:{type:String,required:!0},currency:{type:String,required:!0,default:"USD"},showCurrency:{type:Boolean,default:!0},autoConvert:{type:String,default:"USD"},textAlign:{type:String,default:"right"}},emits:["update:modelValue"],data(){return{displayVal:"0",isFocus:!1}},mounted(){"KHR"==this.autoConvert?this.onFormat(""+4e3*Number(this.modelValue)):this.onFormat(this.modelValue)},watch:{modelValue(e,t){"KHR"==this.autoConvert?e!==t&&(this.isFocus?this.onUnformat(4e3*e):this.onFormat(4e3*e)):e!==t&&(this.isFocus?this.onUnformat(e):this.onFormat(e))},currency(){"KHR"==this.autoConvert?this.isFocus?this.onUnformat(4e3*Number(this.modelValue)):this.onFormat(4e3*Number(this.modelValue)):this.isFocus?this.onUnformat(this.modelValue):this.onFormat(this.modelValue)}},methods:{onUnformat(e){if(!e||"0"==e||0==e||"0.00"==e)return void(this.displayVal="0");const t=e.toString();if("string"==typeof t&&t.includes(",")){const e=t.toString();this.displayVal=this.$format.unformatCurrency(e)}else this.displayVal=t},onFormat(e){if(!e||"0"==e||0==e)return void(this.displayVal="USD"==this.currency?"0.00":"0");const t=e.toString();if("string"!=typeof t||t.includes(","))this.displayVal=t;else{const e=parseFloat(t);this.displayVal=this.$format.formatCurrency(e,this.currency)}},onChange(e){const t=e.target.value;this.$emit("update:modelValue",t)},onKeyDown(e){const t=e,a=t.which?t.which:t.keyCode;if(/\d/.test(e.key)||a===d||a===r||a===l||a===c||a===u||a===p){if(a===u)this.onBlur();else if(a===p)("KHR"==this.currency||"string"===typeof this.modelValue&&this.modelValue.includes("."))&&e.preventDefault();else if(/\d/.test(e.key)&&"string"===typeof this.modelValue&&this.modelValue.includes(".")){const a=this.modelValue.split(".");a.length>1&&e.currentTarget.getInputElement().then((e=>{const s=e.selectionEnd;(s==this.modelValue.length&&2==a[1].length||s==this.modelValue.length-1&&2==a[1].length||s==this.modelValue.length-2&&2==a[1].length)&&t.preventDefault()}))}}else t.preventDefault()},onBlur(){this.onFormat(this.modelValue),this.isFocus=!1},onFocus(){this.onUnformat(this.modelValue),this.isFocus=!0}}}),y=a(83744);const h=(0,y.Z)(m,[["render",o],["__scopeId","data-v-50b37962"]]);var F=h},15828:function(e,t,a){a.d(t,{Z:function(){return F}});var s=a(66252),i=a(3577);const n={key:0,class:"row gap detail_info"},o={key:0,class:"col"},d={class:"sub"},r={key:1,class:"col"},l={class:"sub"},c={key:2,class:"col"},u={class:"sub"};function p(e,t){return e.isShowRegister||e.isShowUpdate||e.isShowDelete?((0,s.wg)(),(0,s.iD)("div",n,[e.isShowRegister?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("dl",null,[(0,s._)("dt",null,(0,i.zw)(e.$t("common.created_date")),1),(0,s._)("dd",null,[(0,s._)("strong",null,(0,i.zw)(e.createdEmployee),1),(0,s.Uk)(),(0,s._)("span",d,(0,i.zw)(e.createdDate),1)])])])):(0,s.kq)("",!0),e.isShowUpdate?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("dl",null,[(0,s._)("dt",null,(0,i.zw)(e.$t("common.updated_date")),1),(0,s._)("dd",null,[(0,s._)("strong",null,(0,i.zw)(e.updatedEmployee),1),(0,s._)("span",l,(0,i.zw)(e.updatedDate),1)])])])):(0,s.kq)("",!0),e.isShowDelete?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("dl",null,[(0,s._)("dt",null,(0,i.zw)(e.$t("common.deleted_date")),1),(0,s._)("dd",null,[(0,s._)("strong",null,(0,i.zw)(e.deletedEmployee),1),(0,s._)("span",u,(0,i.zw)(e.deletedDate),1)])])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var m=(0,s.aZ)({name:"modify-card",props:{data:{type:Object,required:!0}},computed:{createdEmployee(){return`${this.data.registerTellerName||""} ${this.data.registerTellerId?.trim()?`(${this.data.registerTellerId})`:""}`},createdDate(){return`${this.$datetime.formatStringToTime(this.data.registerTime?this.data.registerTime:"")} ${this.$datetime.formatStringToStringDate(this.data.registerDate?this.data.registerDate:"")}`},updatedEmployee(){return`${this.data.updatedTellerName||""} ${this.data.updatedTellerId?.trim()?`(${this.data.updatedTellerId})`:""}`},updatedDate(){return`${this.$datetime.formatStringToTime(this.data.updatedTime?this.data.updatedTime:"")} ${this.$datetime.formatStringToStringDate(this.data.updatedDate?this.data.updatedDate:"")}`},deletedEmployee(){return`${this.data.deleteTellerName||""} ${this.data.deleteTellerId?.trim()?`(${this.data.deleteTellerId})`:""}`},deletedDate(){return`${this.$datetime.formatStringToTime(this.data.deleteTime?this.data.deleteTime:"")} ${this.$datetime.formatStringToStringDate(this.data.deleteDate?this.data.deleteDate:"")}`},isShowRegister(){return!!(this.data.registerDate?.trim()||this.data.registerTime?.trim()||this.data.registerTellerId?.trim()||this.data.registerTellerName?.trim())},isShowUpdate(){return!!(this.data.updatedDate?.trim()||this.data.updatedTime?.trim()||this.data.updatedTellerId?.trim()||this.data.updatedTellerName?.trim())},isShowDelete(){return!!(this.data.deleteDate?.trim()||this.data.deleteTime?.trim()||this.data.deleteTellerId?.trim()||this.data.deleteTellerName?.trim())}}}),y=a(83744);const h=(0,y.Z)(m,[["render",p]]);var F=h},15037:function(e,t,a){a.a(e,(async function(e,s){try{a.r(t);var i=a(9699),n=a(86601),o=(a(32948),a(83744)),d=e([n]);n=(d.then?(await d)():d)[0];const r=(0,o.Z)(n.Z,[["render",i.s],["__scopeId","data-v-7e258a90"]]);t["default"]=r,s()}catch(r){s(r)}}))},32948:function(){},86601:function(e,t,a){a.a(e,(async function(e,s){try{a.d(t,{Z:function(){return i.Z}});var i=a(23799),n=e([i]);i=(n.then?(await n)():n)[0],s()}catch(o){s(o)}}))},9699:function(e,t,a){a.d(t,{s:function(){return we}});var s=a(66252),i=a(3577);const n=e=>((0,s.dD)("data-v-7e258a90"),e=e(),(0,s.Cn)(),e),o={class:"contentWrap"},d={class:"title_name"},r={class:"cont"},l={class:"card_box"},c={class:"row gap"},u={class:"col"},p={class:"form01"},m={class:"inp_box"},y={class:"inp"},h={key:0,class:"txt_error"},F={class:"col"},f={class:"form01"},C={class:"inp_box"},_={class:"inp"},b={class:"col"},T={class:"form01"},g={class:"inp_box"},D={class:"inp"},v={class:"row gap"},B={class:"col"},A={class:"form01"},S={class:"inp_box type_datetime"},$={class:"inp"},w={class:"dp__action_buttons"},M=["onClick"],k=["onClick"],R={class:"col-4"},q={class:"form01"},x={class:"inp_box type_datetime"},V=["placeholder"],N={class:"dp__action_buttons"},I=["onClick"],E=["onClick"],z={class:"col"},U={class:"form01"},W={class:"inp_box"},P={class:"inp"},Z={class:"row gap"},O={class:"col"},K={class:"form01"},j=n((()=>(0,s._)("span",{class:"require"},"*",-1))),H={class:"inp_box"},L={class:"inp"},Q={key:0,class:"txt_error"},J={class:"col"},Y={class:"form01"},G={class:"inp_box"},X={class:"inp"},ee=n((()=>(0,s._)("span",{class:"unit"},"%",-1))),te={class:"col-4"},ae={class:"form01"},se={class:"inp_box"},ie={class:"inp"},ne={class:"unit"},oe={class:"row gap"},de={class:"col"},re={class:"form01"},le={class:"inp_box"},ce={class:"inp"},ue={class:"unit"},pe={key:0,class:"txt_error"},me={class:"col"},ye={class:"form01"},he={class:"inp_box"},Fe={class:"inp"},fe={class:"unit"},Ce={key:0,class:"txt_error"},_e={class:"col"},be={class:"form01"},Te={class:"inp_box"},ge={class:"inp"},De={class:"unit"},ve={key:0,class:"footer_btn"},Be={class:"left_side"},Ae={class:"right_side"},Se={class:"edit"},$e={class:"save"};function we(e,t){const a=(0,s.up)("BreadCrumb"),n=(0,s.up)("ion-select-option"),we=(0,s.up)("ion-select"),Me=(0,s.up)("ion-input"),ke=(0,s.up)("ion-button"),Re=(0,s.up)("VueDatePicker"),qe=(0,s.up)("SelectOption"),xe=(0,s.up)("currencyInput"),Ve=(0,s.up)("ModifyCard"),Ne=(0,s.up)("ApprovalReason");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(a,{staticScreenName:"register"==e.$route.query.type?"Fee By Transaction Register":"Fee By Transaction Edit"},null,8,["staticScreenName"]),(0,s._)("h1",d,(0,i.zw)("register"===e.displayType?e.$t("fee_info.fee_by_transaction_register"):e.$t("fee_info.fee_by_transaction_edit")),1),(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("dl",p,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.product_fee_code")),1),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)({inp_error:e.isRequiredFiled&&!e.dataFeeByTransaction.productFeeCode})},[(0,s._)("div",m,[(0,s._)("div",y,[(0,s.Wm)(we,{interface:"popover",interfaceOptions:{size:"cover"},class:(0,i.C_)(["line",{invalidInput:e.isRequiredFiled&&!e.dataFeeByTransaction.productFeeCode}]),placeholder:e.$t("pfm202001sc01.select_code"),"selected-text":e.dataFeeByTransaction.productFeeCode,disabled:"register"!==e.displayType||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.productFeeCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.productFeeCode=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.feeCalcMethodTypeCodes,((e,t)=>((0,s.wg)(),(0,s.j4)(n,{key:t,value:t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(`${e.productFeeCode}:${e.feeName}`),1)])),_:2},1032,["value"])))),128))])),_:1},8,["class","placeholder","selected-text","disabled","modelValue"])])]),e.isRequiredFiled&&!e.dataFeeByTransaction.productFeeCode?((0,s.wg)(),(0,s.iD)("p",h,(0,i.zw)(e.$t("error_text.please_select_type_code")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",F,[(0,s._)("dl",f,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.fee_currency_code")),1),(0,s._)("dd",null,[(0,s._)("div",C,[(0,s._)("div",_,[(0,s.Wm)(Me,{class:"line",placeholder:e.$t("pfm202001sc01.auto_generate"),readonly:!0,modelValue:e.dataFeeByTransaction.feeCurrencyCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dataFeeByTransaction.feeCurrencyCode=t)},null,8,["placeholder","modelValue"])])])])])]),(0,s._)("div",b,[(0,s._)("dl",T,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.apply_seq_no")),1),(0,s._)("dd",null,[(0,s._)("div",g,[(0,s._)("div",D,[(0,s.Wm)(Me,{class:"line",type:"number",placeholder:e.$t("pfm202001sc01.auto_generate_no"),readonly:!0,modelValue:e.dataFeeByTransaction.applySeqNo,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dataFeeByTransaction.applySeqNo=t)},null,8,["placeholder","modelValue"])])])])])])]),(0,s._)("div",v,[(0,s._)("div",B,[(0,s._)("dl",A,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.apply_start_date")),1),(0,s._)("dd",null,[(0,s.Wm)(Re,{placeholder:e.$t("pfm202001sc01.enter_date"),disabled:"edit"==e.displayType||"read"==e.operationMode||"approval"==e.operationMode,"enable-time-picker":!1,type:"date","max-date":e.dataFeeByTransaction.applyEndDate,"min-date":e.productFee.startDate,modelValue:e.dataFeeByTransaction.applyStartDate,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dataFeeByTransaction.applyStartDate=t)},{trigger:(0,s.w5)((()=>[(0,s._)("div",S,[(0,s._)("div",$,[(0,s.Wm)(Me,{class:"line",value:e.formattedStartDate,disabled:"edit"==e.displayType||"read"==e.operationMode||"approval"==e.operationMode},null,8,["value","disabled"]),(0,s.Wm)(ke,{class:"btn_date",disabled:"edit"==e.displayType||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,s.w5)((()=>[(0,s.Uk)("Calendar")])),_:1},8,["disabled"])])])])),"action-row":(0,s.w5)((({closePicker:e,selectDate:t})=>[(0,s._)("div",w,[(0,s._)("button",{type:"button",class:"btn_refresh",onClick:e},"Cancel",8,M),(0,s._)("button",{type:"button",class:"",onClick:t},"Select",8,k)])])),_:1},8,["placeholder","disabled","max-date","min-date","modelValue"])])])]),(0,s._)("div",R,[(0,s._)("dl",q,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.apply_end_date")),1),(0,s._)("dd",null,[(0,s.Wm)(Re,{placeholder:e.$t("pfm202001sc01.enter_date"),"enable-time-picker":!1,disabled:e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,type:"date","min-date":e.dataFeeByTransaction.applyStartDate,"max-date":e.productFee.endDate,modelValue:e.dataFeeByTransaction.applyEndDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dataFeeByTransaction.applyEndDate=t)},{trigger:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s._)("div",{class:"inp",placeholder:e.$t("pfm202001sc01.enter_date")},[(0,s.Wm)(Me,{class:"line",value:e.formattedEndDate,disabled:e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode},null,8,["value","disabled"]),(0,s.Wm)(ke,{class:"btn_date",disabled:e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,s.w5)((()=>[(0,s.Uk)("Calendar")])),_:1},8,["disabled"])],8,V)])])),"action-row":(0,s.w5)((({closePicker:e,selectDate:t})=>[(0,s._)("div",N,[(0,s._)("button",{type:"button",class:"btn_refresh",onClick:e},"Cancel",8,I),(0,s._)("button",{type:"button",class:"",onClick:t},"Select",8,E)])])),_:1},8,["placeholder","disabled","min-date","max-date","modelValue"])])])]),(0,s._)("div",z,[(0,s._)("dl",U,[(0,s._)("dt",null,(0,i.zw)(e.$t("pfm204001sc00.fee_apply_status")),1),(0,s._)("dd",null,[(0,s._)("div",W,[(0,s._)("div",P,[(0,s.Wm)(qe,{data:e.$store.state.CommonCodeModule.commonCode.FeeApplyStatusCode,modelValue:e.dataFeeByTransaction.feeApplyStatusCode,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dataFeeByTransaction.feeApplyStatusCode=t),value:e.$store.state.CommonCodeModule.commonCode.FeeApplyStatusCode[0],disabled:"register"===e.$route.query.type||e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0,class:"line"},null,8,["data","modelValue","value","disabled"])])])])])])]),(0,s._)("div",Z,[(0,s._)("div",O,[(0,s._)("dl",K,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(e.$t("fee_info.fee_calc_apply_base_code")),1),j]),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)({inp_error:e.isInvalidFeeCalcBaseCode&&!e.dataFeeByTransaction.feeCalcApplyBaseCode})},[(0,s._)("div",H,[(0,s._)("div",L,[(0,s.Wm)(qe,{data:e.$store.state.CommonCodeModule.commonCode.FeeCalcApplyBaseCode,modelValue:e.dataFeeByTransaction.feeCalcApplyBaseCode,"onUpdate:modelValue":t[6]||(t[6]=t=>e.dataFeeByTransaction.feeCalcApplyBaseCode=t),value:e.$store.state.CommonCodeModule.commonCode.FeeCalcApplyBaseCode[0],disabled:e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,showKey:!1,class:"line"},null,8,["data","modelValue","value","disabled"])])]),e.isInvalidFeeCalcBaseCode&&!e.dataFeeByTransaction.feeCalcApplyBaseCode?((0,s.wg)(),(0,s.iD)("div",Q,(0,i.zw)(e.$t("error_text.rage_start_amount_cannot_exceed_rage_end_amount")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",J,[(0,s._)("dl",Y,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.base_fee_rate")),1),(0,s._)("dd",null,[(0,s._)("div",null,[(0,s._)("div",G,[(0,s._)("div",X,[(0,s.Wm)(Me,{class:(0,i.C_)(["line type_rate",{invalidInput:e.invalidBaseFeeRate&&e.isInvalidBaseFeeRate}]),type:"number",maxLength:"2",placeholder:e.$t("pfm202001sc01.enter_fee_rate"),readonly:e.isDisableBaseFeeRate||e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.dataFeeByTransaction.baseFeeRate,"onUpdate:modelValue":t[7]||(t[7]=t=>e.dataFeeByTransaction.baseFeeRate=t)},null,8,["class","placeholder","readonly","modelValue"]),ee])])])])])]),(0,s._)("div",te,[(0,s._)("dl",ae,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.base_fee_apply_start_amount")),1),(0,s._)("dd",null,[(0,s._)("div",se,[(0,s._)("div",ie,[(0,s.Wm)(xe,{showCurrency:!1,"text-align":"left",currency:e.dataFeeByTransaction.feeCurrencyCode,class:"line",type:"text",placeholder:e.$t("pfm202001sc01.enter_amount"),disabled:e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.dataFeeByTransaction.baseFeeApplyStartAmount,"onUpdate:modelValue":t[8]||(t[8]=t=>e.dataFeeByTransaction.baseFeeApplyStartAmount=t)},null,8,["currency","placeholder","disabled","modelValue"]),(0,s._)("span",ne,(0,i.zw)(e.dataFeeByTransaction.feeCurrencyCode),1)])])])])])]),(0,s._)("div",oe,[(0,s._)("div",de,[(0,s._)("dl",re,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.fee_min_amount")),1),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)({inp_error:e.invalidFeeMinAmountByFeeCalc&&e.isInvalidMinAmount})},[(0,s._)("div",le,[(0,s._)("div",ce,[(0,s.Wm)(xe,{showCurrency:!1,"text-align":"left",currency:e.dataFeeByTransaction.feeCurrencyCode,class:(0,i.C_)(["line",{invalidInput:e.dataFeeByTransaction.feeMinAmount>e.dataFeeByTransaction.baseFeeAmount&&e.isInvalidMinAmount}]),placeholder:e.$t("pfm202001sc01.enter_amount"),disabled:e.isDisableFeeCalcBaseCode||e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.dataFeeByTransaction.feeMinAmount,"onUpdate:modelValue":t[9]||(t[9]=t=>e.dataFeeByTransaction.feeMinAmount=t)},null,8,["currency","class","placeholder","disabled","modelValue"]),(0,s._)("span",ue,(0,i.zw)(e.dataFeeByTransaction.feeCurrencyCode),1)])]),e.invalidFeeMinAmountByFeeCalc&&e.isInvalidMinAmount?((0,s.wg)(),(0,s.iD)("p",pe,(0,i.zw)(e.$t("error_text.min_amount_invalid")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",me,[(0,s._)("dl",ye,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.base_fee_amount")),1),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)({inp_error:e.invalidBaseFeeAmount&&e.isInvalidBaseFeeAmount})},[(0,s._)("div",he,[(0,s._)("div",Fe,[(0,s.Wm)(xe,{showCurrency:!1,"text-align":"left",currency:e.dataFeeByTransaction.feeCurrencyCode,class:"line",type:"text",placeholder:e.$t("pfm202001sc01.enter_fee"),disabled:e.isDisableBaseFeeAmount||e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.dataFeeByTransaction.baseFeeAmount,"onUpdate:modelValue":t[10]||(t[10]=t=>e.dataFeeByTransaction.baseFeeAmount=t)},null,8,["currency","placeholder","disabled","modelValue"]),(0,s._)("span",fe,(0,i.zw)(e.dataFeeByTransaction.feeCurrencyCode),1)])]),e.invalidBaseFeeAmount&&e.isInvalidBaseFeeAmount?((0,s.wg)(),(0,s.iD)("p",Ce,(0,i.zw)(e.$t("error_text.base_amount_invalid")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",_e,[(0,s._)("dl",be,[(0,s._)("dt",null,(0,i.zw)(e.$t("fee_info.fee_max_amount")),1),(0,s._)("dd",null,[(0,s._)("div",Te,[(0,s._)("div",ge,[(0,s.Wm)(xe,{class:"line",type:"text","text-align":"left",clearOnEdit:0==e.dataFeeByTransaction.feeMaxAmount,showCurrency:!1,currency:e.dataFeeByTransaction.feeCurrencyCode,placeholder:e.$t("pfm202001sc01.enter_fee"),disabled:e.isDisableFeeCalcBaseCode||e.isDisableField||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.dataFeeByTransaction.feeMaxAmount,"onUpdate:modelValue":t[11]||(t[11]=t=>e.dataFeeByTransaction.feeMaxAmount=t)},null,8,["clearOnEdit","currency","placeholder","disabled","modelValue"]),(0,s._)("span",De,(0,i.zw)(e.dataFeeByTransaction.feeCurrencyCode),1)])])])])])]),(0,s.Wm)(Ve,{data:e.modifyCard},null,8,["data"])]),"normal"==e.operationMode?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",Be,[e.btnDelete?((0,s.wg)(),(0,s.j4)(ke,{key:0,class:"btn03",disabled:"04"===e.dataFeeByTransaction.feeApplyStatusCode,onClick:t[12]||(t[12]=t=>e.handleClickAction("delete"))},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,i.zw)(e.$t("common.delete")),1)])),_:1},8,["disabled"])):(0,s.kq)("",!0),e.btnCancel?((0,s.wg)(),(0,s.j4)(ke,{key:1,class:"btn03",onClick:t[13]||(t[13]=t=>e.handleClickAction("cancel"))},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,i.zw)(e.$t("common.cancel")),1)])),_:1})):(0,s.kq)("",!0),e.btnList?((0,s.wg)(),(0,s.j4)(ke,{key:2,class:"btn02",onClick:t[14]||(t[14]=t=>e.handleClickAction("list"))},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,i.zw)(e.$t("common.list")),1)])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",Ae,[e.btnEdit?((0,s.wg)(),(0,s.j4)(ke,{key:0,class:"btn02 btn_ico",onClick:t[15]||(t[15]=t=>e.handleClickAction("edit"))},{default:(0,s.w5)((()=>[(0,s._)("span",Se,(0,i.zw)(e.$t("common.edit")),1)])),_:1})):((0,s.wg)(),(0,s.j4)(ke,{key:1,class:"btn01 btn_ico",onClick:t[16]||(t[16]=t=>e.handleClickAction("save"))},{default:(0,s.w5)((()=>[(0,s._)("span",$e,(0,i.zw)(e.$t("common.save")),1)])),_:1}))])])):(0,s.kq)("",!0),"normal"!==e.operationMode?((0,s.wg)(),(0,s.j4)(Ne,{key:1,payload:e.approvalRes},null,8,["payload"])):(0,s.kq)("",!0)])])}}}]);
//# sourceMappingURL=8168.e89fdd9c.js.map