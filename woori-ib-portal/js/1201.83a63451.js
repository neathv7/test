"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[1201],{52466:function(t,e,i){i.a(t,(async function(t,a){try{var o=i(66252),s=i(90987),l=i(42615),n=i(43493),d=i(44345),r=i(65836),c=i(41762),h=i(15828),u=i(90121),m=i(67201),p=i(94249),f=t([u]);u=(f.then?(await f)():f)[0];const g=new s.l;e["Z"]=(0,o.aZ)({name:"icm211001sc01",components:{baseTab:d.Z,basePan:r.Z,VueDatePicker:c.Z,ModifyCard:h.Z,BreadCrumb:u.Z,SelectOption:m.Z,TextEditor:p.Z},data(){return{headersIcon:[{key:"En",name:"common.english"},{key:"Km",name:"common.khmer"},{key:"Ko",name:"common.korean"}],promotionDetailsLangDefaultValue:[{languageCode:"common.english",title:"",description:"",contentHtml:""},{languageCode:"common.khmer",title:"",description:"",contentHtml:""},{languageCode:"common.korean",title:"",description:"",contentHtml:""},{languageCode:"common.japanese",title:"",description:"",contentHtml:""},{languageCode:"common.chinese",title:"",description:"",contentHtml:""}],promotionDetails:{attachInfoList:[],contentsList:[],displayYN:"",statusCode:"",publishFromDate:new Date,promotionID:"",publishToDate:new Date},isDisable:!0,isInValidInput:!1,fileInfo:{},getImage:null,getFile:null,isFileEmty:!1,isImageEmty:!1,modifyCard:{},operationMode:"normal",approvalRes:{}}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},formattedStartDate(){return this.$datetime.formatVueDatePicker(this.promotionDetails.publishFromDate)},formattedEndDate(){return this.$datetime.formatVueDatePicker(this.promotionDetails.publishToDate)},btnDelete(){return!("edit"!==this.$route.query.type||!this.isDisable)},btnList(){return!("edit"!==this.$route.query.type||!this.isDisable)},btnCancel(){return!this.isDisable},btnEdit(){return!("edit"!==this.$route.query.type||!this.isDisable)},btnSave(){return"edit"==this.$route.query.type&&!this.isDisable||"register"==this.$route.query.type}},watch:{promotionDetailsLangDefaultValue:{handler(t){t.forEach((t=>{t.description=this.$validate.formatHtmlToString(t.contentHtml)}))},deep:!0}},async mounted(){""===this.approvalType?"register"==this.$route.query.type?(this.$util.editableContent(!0),this.isDisable=!1):(this.$util.editableContent(!1),this.requestPromotionDetails()):await this.$approval.getAuthorizationDetail().then((async t=>{let e=JSON.parse(t.body.requestContent);if(this.approvalRes=t.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal","delete"==this.$util.checkServiceIdType(t.body.serviceID)){const t={promotionID:Number(this.$route.query.promotionID)},e=await this.$request.getRequest("ICM21100112",t,!1);this.$util.editableContent(!1),await this.assignValueToTab(this.convertCommonCode(e?.body.contentsList)),this.promotionDetails={attachInfoList:e.body.attachInfoList,contentsList:e.body.contentsList,displayYN:e.body.displayYN,statusCode:e.body.statusCode,publishFromDate:this.$datetime.convertStringToDate(e.body.publishFromDate),promotionID:e.body.promotionID,publishToDate:this.$datetime.convertStringToDate(e.body.publishToDate)},this.requestFileDetail()}else await this.assignValueToTab(this.convertCommonCode(e.contentsList)),this.promotionDetails={attachInfoList:e.attachInfoList,contentsList:e.contentsList,displayYN:e.displayYN,statusCode:e.statusCode,publishFromDate:this.$datetime.convertStringToDate(e.publishFromDate),promotionID:e.promotionID,publishToDate:this.$datetime.convertStringToDate(e.publishToDate)},this.requestFileDetail()}))},methods:{convertCommonCode(t){const e=t.map((t=>(t.languageCode=t.languageCode?this.$codeConverter.convertValue("LanguageCodeTranslate",t.languageCode):"",t)));return e},async requestPromotionDetails(){const t={promotionID:Number(this.$route.query.promotionID)},e=await this.$request.getRequest("ICM21100112",t,!1);e.header.result&&(await this.assignValueToTab(this.convertCommonCode(e?.body.contentsList)),this.promotionDetails={attachInfoList:e?.body.attachInfoList,contentsList:e?.body.contentsList,displayYN:e?.body.displayYN,statusCode:e?.body.statusCode,publishFromDate:this.$datetime.convertStringToDate(e?.body.publishFromDate),promotionID:e?.body.promotionID,publishToDate:this.$datetime.convertStringToDate(e?.body.publishToDate)},this.modifyCard={registerTellerId:e?.body.firstRegisterTellerID,registerTellerName:e?.body.firstRegisterTellerName,registerDate:e?.body.firstRegisterDate,registerTime:e?.body.firstRegisterTime,updatedTellerId:"09"===this.promotionDetails.statusCode?"":e?.body.lastChangeTellerID,updatedTellerName:"09"===this.promotionDetails.statusCode?"":e?.body.lastChangeTellerName,updatedDate:"09"===this.promotionDetails.statusCode?"":e?.body.lastChangeDate,updatedTime:"09"===this.promotionDetails.statusCode?"":e?.body.lastChangeTime,deleteTellerId:"09"===this.promotionDetails.statusCode?e?.body.lastChangeTellerID:"",deleteTellerName:"09"===this.promotionDetails.statusCode?e?.body.lastChangeTellerName:"",deleteDate:"09"===this.promotionDetails.statusCode?e?.body.lastChangeDate:"",deleteTime:"09"===this.promotionDetails.statusCode?e?.body.lastChangeTime:""},this.requestFileDetail())},async requestFileDetail(){for(let t=0;t<this.promotionDetails.attachInfoList.length;t++){if(this.promotionDetails.attachInfoList[t].attachTypeCode===l.Gk.FILE){const e=await this.$file.getFileInfo(this.promotionDetails.attachInfoList[t].fileId);this.fileInfo.fileName=e?.data.body.originalFileName,this.fileInfo.fileSize=e?.data.body.fileSizeString}if(this.promotionDetails.attachInfoList[t].attachTypeCode===l.Gk.IMAGE){const e=await this.$file.getFileInfo(this.promotionDetails.attachInfoList[t].fileId);this.fileInfo.imageName=e?.data.body.originalFileName,this.fileInfo.imgSize=e?.data.body.fileSizeString;const i=await this.$file.previewImage(this.promotionDetails.attachInfoList[t].fileId);this.fileInfo.image=i}}},async handleRegister(){await this.handleFileRegister();const t={displayYN:this.promotionDetails.displayYN,publishToDate:this.$datetime.convertDateToString(this.promotionDetails.publishToDate),contentsList:this.convertLangToCode(JSON.parse(JSON.stringify(this.promotionDetailsLangDefaultValue))),publishFromDate:this.$datetime.convertDateToString(this.promotionDetails.publishFromDate),attachInfoList:this.promotionDetails.attachInfoList};console.log("regis",t);const e=await this.$request.getRequest("ICM21100121",t,!1);e.header.result&&(this.$router.push("ICM211001SC00"),this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{n.Fy.dismiss()}}))},async handleUpdate(){await this.handleFileUpdate();const t={displayYN:this.promotionDetails.displayYN,publishToDate:this.$datetime.convertDateToString(this.promotionDetails.publishToDate),contentsList:this.convertLangToCode(JSON.parse(JSON.stringify(this.promotionDetailsLangDefaultValue))),publishFromDate:this.$datetime.convertDateToString(this.promotionDetails.publishFromDate),attachInfoList:this.promotionDetails.attachInfoList,promotionID:Number(this.$route.query.promotionID)};console.log(t.attachInfoList);const e=await this.$request.getRequest("ICM21100131",t,!1);e.header.result&&(this.isDisable=!0,this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.requestPromotionDetails(),n.Fy.dismiss()}}))},async handleDelete(){const t={promotionID:Number(this.$route.query.promotionID)},e=await this.$request.getRequest("ICM21100141",t,!1);e.header.result&&(this.$router.push("ICM211001SC00"),this.$dialog.onOpen({content:this.$t("message.delete_success"),dialogMode:"Success",callback:()=>{n.Fy.dismiss()}}))},handleClickAction(t){switch(t){case"delete":"edit"===this.$route.query.type?this.$dialog.onOpen({content:this.$t("message.are_you_sure_you_want_to_delete"),dialogMode:"Question",callback:()=>{this.handleDelete(),n.Fy.dismiss()}}):this.$router.push("ICM211001SC00");break;case"cancel":this.$dialog.onOpen({content:`${"edit"===this.$route.query.type?this.$t("message.cancel_without_saving_changes"):this.$t("message.are_you_sure_you_want_to_cancel_registration?")}`,dialogMode:"Question",callback:()=>{"edit"===this.$route.query.type?(this.$util.editableContent(!1),this.isDisable=!0,this.isInValidInput=!1,this.requestPromotionDetails()):this.$router.push("ICM211001SC00"),n.Fy.dismiss()}});break;case"save":var e=this.promotionDetailsLangDefaultValue.find((t=>"common.english"==t.languageCode));e.description&&e.title?this.$dialog.onOpen({content:this.$t("message.would_you_like_to_save"),dialogMode:"Question",callback:()=>{this.$util.editableContent(!1),"edit"===this.$route.query.type?this.handleUpdate():this.handleRegister(),n.Fy.dismiss()}}):(this.isInValidInput=!0,this.$util.scrollToElement("inp_error"));break;case"edit":this.isDisable=!1,this.$util.editableContent(!0);break;default:this.$router.push("ICM211001SC00");break}},convertLangToCode(t){const e=t.map((t=>(t.languageCode=this.$codeConverter.convertValue("LanguageCodeTranslate",t.languageCode,"value"),t)));return e},handleUploadImage(t){this.isImageEmty=!1;const e=/(\.png)$/i,i=t.target.files,a=i[0];if(e.exec(a.name))if(a.size>l.HB.SIZE_2MB)this.$dialog.onOpen({content:this.$t("message.file_size_must_not_exceed_2MB"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});else{this.getImage=a;const t=g.countFileSize(a.size);this.fileInfo.imgSize=t;const e=new FileReader;e.readAsDataURL(a),this.fileInfo.imageName=a.name,e.onload=()=>{this.fileInfo.image=String(e.result)}}else this.$dialog.onOpen({content:this.$t("message.only_png_file_can_be_inserted"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});const o=document.getElementById("btn02 btn_upload");o.value=""},removeFile(t){switch(t){case l.Gk.FILE:this.isFileEmty=!0,this.getFile=null,this.fileInfo.fileSize=this.fileInfo.fileName="";break;case l.Gk.IMAGE:this.isImageEmty=!0,this.getImage=null,this.fileInfo.imageName=this.fileInfo.imgSize="";break}},handleUploadFile(t){this.isFileEmty=!1;const e=t.target.files,i=e[0];if(i.size>l.HB.SIZE_10MB)this.$dialog.onOpen({content:this.$t("message.file_size_must_not_exceed_10MB"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});else{this.getFile=i;const t=g.countFileSize(i.size);this.fileInfo.fileSize=t;const e=new FileReader;e.readAsDataURL(i),this.fileInfo.fileName=i.name}const a=document.getElementById("actual-btn");a.value=""},async handleFileUpdate(){if(null!==this.getFile&&null!==this.getImage&&!this.isFileEmty&&!this.isImageEmty){this.promotionDetails.attachInfoList&&this.promotionDetails.attachInfoList.forEach((async t=>{await this.$file.updateFileStatus(t.fileId,l.Gk.INACTIVE)})),this.promotionDetails.attachInfoList=[];const t=await this.$file.uploadFile([this.getFile,this.getImage],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){if("file1"===t.data.body.fileList[e].keyName){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.FILE,fileId:t.data.body.fileList[e].fileId})}if("file2"===t.data.body.fileList[e].keyName){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.IMAGE,fileId:t.data.body.fileList[e].fileId})}}}if(null===this.getFile&&this.isFileEmty)for(let t=0;t<this.promotionDetails.attachInfoList.length;t++)if(this.promotionDetails.attachInfoList[t].attachTypeCode===l.Gk.FILE){await this.$file.updateFileStatus(this.promotionDetails.attachInfoList[t].fileId,l.Gk.INACTIVE);const e=this.promotionDetails.attachInfoList.indexOf(this.promotionDetails.attachInfoList[t]);this.promotionDetails.attachInfoList.splice(e,1)}if(null===this.getImage&&this.isImageEmty)for(let t=0;t<this.promotionDetails.attachInfoList.length;t++)if(this.promotionDetails.attachInfoList[t].attachTypeCode===l.Gk.IMAGE){await this.$file.updateFileStatus(this.promotionDetails.attachInfoList[t].fileId,l.Gk.INACTIVE);const e=this.promotionDetails.attachInfoList.indexOf(this.promotionDetails.attachInfoList[t]);this.promotionDetails.attachInfoList.splice(e,1)}if(null!==this.getFile&&!this.isFileEmty)if(0===this.promotionDetails.attachInfoList.length){const t=await this.$file.uploadFile([this.getFile],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.FILE,fileId:t.data.body.fileList[e].fileId})}}else if(this.promotionDetails.attachInfoList.length>0)if(this.isFileAlreadyExisted(l.Gk.FILE)){const t=await this.$file.uploadFile([this.getFile],"ICM");for(let e=0;e<this.promotionDetails.attachInfoList.length;e++)if(this.promotionDetails.attachInfoList[e].attachTypeCode===l.Gk.FILE){await this.$file.updateFileStatus(this.promotionDetails.attachInfoList[e].fileId,l.Gk.INACTIVE);for(let i=0;i<t.data.body.fileList.length;i++)await this.$file.getFileInfo(t.data.body.fileList[i].fileId).then((a=>Object.assign(this.promotionDetails.attachInfoList[e],{fileId:t.data.body.fileList[i].fileId,attachTypeCode:l.Gk.FILE,filePath:a.data.body.filePath})))}}else{const t=await this.$file.uploadFile([this.getFile],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.FILE,fileId:t.data.body.fileList[e].fileId})}}if(null!==this.getImage&&!this.isImageEmty)if(0===this.promotionDetails.attachInfoList.length){const t=await this.$file.uploadFile([this.getImage],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.IMAGE,fileId:t.data.body.fileList[e].fileId})}}else if(this.promotionDetails.attachInfoList.length>0)if(this.isFileAlreadyExisted(l.Gk.IMAGE)){const t=await this.$file.uploadFile([this.getImage],"ICM");for(let e=0;e<this.promotionDetails.attachInfoList.length;e++)if(this.promotionDetails.attachInfoList[e].attachTypeCode===l.Gk.IMAGE){await this.$file.updateFileStatus(this.promotionDetails.attachInfoList[e].fileId,l.Gk.INACTIVE);for(let i=0;i<t.data.body.fileList.length;i++)await this.$file.getFileInfo(t.data.body.fileList[i].fileId).then((a=>Object.assign(this.promotionDetails.attachInfoList[e],{fileId:t.data.body.fileList[i].fileId,attachTypeCode:l.Gk.IMAGE,filePath:a.data.body.filePath})))}}else{const t=await this.$file.uploadFile([this.getImage],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.IMAGE,fileId:t.data.body.fileList[e].fileId})}}},async handleFileRegister(){if(null!==this.getFile&&null!==this.getImage){const t=await this.$file.uploadFile([this.getFile,this.getImage],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){if("file1"===t.data.body.fileList[e].keyName){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.FILE,fileId:t.data.body.fileList[e].fileId})}if("file2"===t.data.body.fileList[e].keyName){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.IMAGE,fileId:t.data.body.fileList[e].fileId})}}}else if(null!==this.getFile&&null===this.getImage){const t=await this.$file.uploadFile([this.getFile],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.FILE,fileId:t.data.body.fileList[e].fileId})}}else if(null===this.getFile&&null!==this.getImage){const t=await this.$file.uploadFile([this.getImage],"ICM");for(let e=0;e<t.data.body.fileList.length;e++){const i=await this.$file.getFileInfo(t.data.body.fileList[e].fileId);this.promotionDetails.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:l.Gk.IMAGE,fileId:t.data.body.fileList[e].fileId})}}},isFileAlreadyExisted(t){const e=this.promotionDetails.attachInfoList.some((e=>Object.values(e).includes(t)));return e},async assignValueToTab(t){for(let e=0;e<t.length;e++)this.promotionDetailsLangDefaultValue.map((i=>{i.languageCode===t[e].languageCode?(i.title=t[e].title,i.description=t[e].description,i.contentHtml=t[e].contentHtml):""===i.contentHtml&&(i.contentHtml="<p></p>")}))}}}),a()}catch(g){a(g)}}))},90987:function(t,e,i){i.d(e,{l:function(){return a}});class a{countFileSize(t){const e=["B","kB","MB","GB","TB"],i=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,i)).toFixed(2)} ${e[i]}`}}},15828:function(t,e,i){i.d(e,{Z:function(){return g}});var a=i(66252),o=i(3577);const s={key:0,class:"row gap detail_info"},l={key:0,class:"col"},n={class:"sub"},d={key:1,class:"col"},r={class:"sub"},c={key:2,class:"col"},h={class:"sub"};function u(t,e){return t.isShowRegister||t.isShowUpdate||t.isShowDelete?((0,a.wg)(),(0,a.iD)("div",s,[t.isShowRegister?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(t.$t("common.created_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(t.createdEmployee),1),(0,a.Uk)(),(0,a._)("span",n,(0,o.zw)(t.createdDate),1)])])])):(0,a.kq)("",!0),t.isShowUpdate?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(t.$t("common.updated_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(t.updatedEmployee),1),(0,a._)("span",r,(0,o.zw)(t.updatedDate),1)])])])):(0,a.kq)("",!0),t.isShowDelete?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(t.$t("common.deleted_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(t.deletedEmployee),1),(0,a._)("span",h,(0,o.zw)(t.deletedDate),1)])])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var m=(0,a.aZ)({name:"modify-card",props:{data:{type:Object,required:!0}},computed:{createdEmployee(){return`${this.data.registerTellerName||""} ${this.data.registerTellerId?.trim()?`(${this.data.registerTellerId})`:""}`},createdDate(){return`${this.$datetime.formatStringToTime(this.data.registerTime?this.data.registerTime:"")} ${this.$datetime.formatStringToStringDate(this.data.registerDate?this.data.registerDate:"")}`},updatedEmployee(){return`${this.data.updatedTellerName||""} ${this.data.updatedTellerId?.trim()?`(${this.data.updatedTellerId})`:""}`},updatedDate(){return`${this.$datetime.formatStringToTime(this.data.updatedTime?this.data.updatedTime:"")} ${this.$datetime.formatStringToStringDate(this.data.updatedDate?this.data.updatedDate:"")}`},deletedEmployee(){return`${this.data.deleteTellerName||""} ${this.data.deleteTellerId?.trim()?`(${this.data.deleteTellerId})`:""}`},deletedDate(){return`${this.$datetime.formatStringToTime(this.data.deleteTime?this.data.deleteTime:"")} ${this.$datetime.formatStringToStringDate(this.data.deleteDate?this.data.deleteDate:"")}`},isShowRegister(){return!!(this.data.registerDate?.trim()||this.data.registerTime?.trim()||this.data.registerTellerId?.trim()||this.data.registerTellerName?.trim())},isShowUpdate(){return!!(this.data.updatedDate?.trim()||this.data.updatedTime?.trim()||this.data.updatedTellerId?.trim()||this.data.updatedTellerName?.trim())},isShowDelete(){return!!(this.data.deleteDate?.trim()||this.data.deleteTime?.trim()||this.data.deleteTellerId?.trim()||this.data.deleteTellerName?.trim())}}}),p=i(83744);const f=(0,p.Z)(m,[["render",u]]);var g=f},44345:function(t,e,i){i.d(e,{Z:function(){return h}});var a=i(66252),o=i(3577);const s={key:0,id:"id"},l={class:"cont_tab"};function n(t,e){const i=(0,a.up)("ion-label"),n=(0,a.up)("ion-segment-button"),d=(0,a.up)("ion-segment");return t.header?((0,a.wg)(),(0,a.iD)("section",s,[(0,a.Wm)(d,{scrollable:!0,class:"tab01",value:t.index},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.header,((e,s)=>((0,a.wg)(),(0,a.j4)(n,{class:(0,o.C_)([this.selectedTitle==e.name?"segment-button-checked":""]),id:s,value:s,disabled:!t.beforeLeave&&this.selectedTitle!==e.name,onClick:i=>t.pushTitle(e.name,s)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t(`${e.name}`)),1)])),_:2},1024)])),_:2},1032,["class","id","value","disabled","onClick"])))),256))])),_:1},8,["value"]),(0,a._)("div",l,[(0,a.WI)(t.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}var d=(0,a.aZ)({data(){return{selectedTitle:"",defaultIndex:0}},provide(){return{selectedTitle:(0,a.Fl)((()=>this.selectedTitle))}},props:{header:{type:[],default:[]},defaultActive:{type:String},beforeLeave:{type:Boolean,default:!0}},watch:{selectedTitle(t,e){this.$emit("get-tab-value",t,e)}},created(){if(this.defaultActive)this.selectedTitle=this.defaultActive;else for(let t=0;t<Object.values(this.header).length;t++){const e=this.header[t];if(!e.disable){this.selectedTitle=e.name,this.defaultIndex=t;break}console.log("nothing")}},methods:{pushTitle(t){this.beforeLeave?this.selectedTitle=t:this.$emit("before-leave",t)}}}),r=i(83744);const c=(0,r.Z)(d,[["render",n],["__scopeId","data-v-e4fa632c"]]);var h=c},65836:function(t,e,i){i.d(e,{Z:function(){return c}});var a=i(66252),o=i(49963);const s=["id"];function l(t,e,i,l,n,d){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("section",{id:t.title},[(0,a.WI)(t.$slots,"default")],8,s)),[[o.F8,t.title==t.selectedTitle]])}var n=(0,a.aZ)({props:{title:String},data(){const t=(0,a.f3)("selectedTitle");return{selectedTitle:t}}}),d=i(83744);const r=(0,d.Z)(n,[["render",l]]);var c=r},94249:function(t,e,i){i.d(e,{Z:function(){return f}});var a=i(66252);function o(t,e){const i=(0,a.up)("QuillEditor");return(0,a.wg)(),(0,a.j4)(i,{theme:"snow",toolbar:t.toolbar,contentType:"html",content:t.value,"onUpdate:content":e[0]||(e[0]=e=>t.value=e)},null,8,["toolbar","content"])}var s=i(76095);const l=s["import"]("attributors/style/align"),n=s["import"]("attributors/style/background"),d=s["import"]("attributors/style/color"),r=s["import"]("attributors/style/direction"),c=s["import"]("attributors/style/font"),h=s["import"]("attributors/style/size");s.register(l,!0),s.register(n,!0),s.register(d,!0),s.register(r,!0),s.register(c,!0),s.register(h,!0);var u=(0,a.aZ)({name:"TextEditor",props:{contentHtml:{type:String,required:!0}},emits:["update:contentHtml"],computed:{value:{get(){return this.contentHtml},set(t){this.$emit("update:contentHtml",t)}}},data(){return{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"]]}}}),m=i(83744);const p=(0,m.Z)(u,[["render",o]]);var f=p},32758:function(t,e,i){i.a(t,(async function(t,a){try{i.r(e);var o=i(90590),s=i(99931),l=(i(73768),i(83744)),n=t([s]);s=(n.then?(await n)():n)[0];const d=(0,l.Z)(s.Z,[["render",o.s],["__scopeId","data-v-2f71aeb6"]]);e["default"]=d,a()}catch(d){a(d)}}))},73768:function(){},99931:function(t,e,i){i.a(t,(async function(t,a){try{i.d(e,{Z:function(){return o.Z}});var o=i(52466),s=t([o]);o=(s.then?(await s)():s)[0],a()}catch(l){a(l)}}))},90590:function(t,e,i){i.d(e,{s:function(){return Ct}});var a=i(66252),o=i(3577),s=i(49963);const l=t=>((0,a.dD)("data-v-2f71aeb6"),t=t(),(0,a.Cn)(),t),n={class:"contentWrap"},d={class:"title_name"},r={class:"cont"},c={class:"card_box"},h={class:"row gap"},u={class:"col-6"},m={class:"form01"},p={class:"inp_box"},f={class:"inp"},g={class:"col-6"},b={class:"form01"},y=l((()=>(0,a._)("span",{class:"require"},"*",-1))),I={class:"row gap"},_={class:"col-6"},D={class:"row gap10"},w={class:"col-6"},v={class:"form01"},C=l((()=>(0,a._)("span",{class:"require"},"*",-1))),$={class:"inp_box type_datetime"},k={class:"inp"},T={class:"dp__action_buttons"},L=["onClick"],F=["onClick"],M={class:"col-6"},S={class:"form01"},q=l((()=>(0,a._)("span",{class:"require"},"*",-1))),E={class:"inp_box type_datetime"},N={class:"inp"},z={class:"dp__action_buttons"},V=["onClick"],P=["onClick"],G={class:"col-6"},x={class:"form01"},U={class:"row gap10"},A={class:"col"},Z={class:"upload_box ico"},R=l((()=>(0,a._)("span",{class:"extention"},null,-1))),H={class:"col auto"},O=["disabled"],W={class:"row"},j={class:"col"},B={class:"form01"},Y={class:"upload_image"},J={class:"row"},K=["src"],Q={class:"col"},X={class:"intro"},tt={class:"filename"},et=l((()=>(0,a._)("span",{class:"extention"},null,-1))),it={class:"description"},at={class:"col auto"},ot=["disabled"],st={class:"card_box"},lt={class:"tab_cont"},nt={class:"row"},dt={class:"col"},rt={class:"form01"},ct={class:"require"},ht={class:"inp"},ut={key:0,class:"txt_error"},mt={class:"row"},pt={class:"col"},ft={class:"form01"},gt={class:"require"},bt={class:"inp"},yt={key:0,class:"txt_error"},It={key:0,class:"footer_btn"},_t={class:"left_side"},Dt={class:"right_side"},wt={class:"edit"},vt={class:"save"};function Ct(t,e){const i=(0,a.up)("BreadCrumb"),l=(0,a.up)("ion-input"),Ct=(0,a.up)("SelectOption"),$t=(0,a.up)("ion-button"),kt=(0,a.up)("VueDatePicker"),Tt=(0,a.up)("ion-label"),Lt=(0,a.up)("ion-spinner"),Ft=(0,a.up)("ion-avatar"),Mt=(0,a.up)("TextEditor"),St=(0,a.up)("basePan"),qt=(0,a.up)("baseTab"),Et=(0,a.up)("ModifyCard"),Nt=(0,a.up)("ApprovalReason");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(i,{staticScreenName:"register"==t.$route.query.type?"Promotion Register":"Promotion Edit"},null,8,["staticScreenName"]),(0,a._)("h3",d,(0,o.zw)("register"==t.$route.query.type?"Promotion Register":"Promotion Edit"),1),(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",h,[(0,a._)("div",u,[(0,a._)("dl",m,[(0,a._)("dt",null,(0,o.zw)(t.$t("common.no")),1),(0,a._)("dd",null,[(0,a._)("div",p,[(0,a._)("div",f,[(0,a.Wm)(l,{class:"line",placeholder:t.$t("message.this_is_being_created_automatically_after_saving"),disabled:"",modelValue:t.promotionDetails.promotionID,"onUpdate:modelValue":e[0]||(e[0]=e=>t.promotionDetails.promotionID=e)},null,8,["placeholder","modelValue"])])])])])]),(0,a._)("div",g,[(0,a._)("dl",b,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(t.$t("common.display")),1),y]),(0,a._)("dd",null,[(0,a.Wm)(Ct,{class:"line",data:t.$store.state.CommonCodeModule.commonCode.YnType,modelValue:t.promotionDetails.displayYN,"onUpdate:modelValue":e[1]||(e[1]=e=>t.promotionDetails.displayYN=e),value:t.$store.state.CommonCodeModule.commonCode.YnType[0].key,disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,showKey:!1},null,8,["data","modelValue","value","disabled"])])])])]),(0,a._)("div",I,[(0,a._)("div",_,[(0,a._)("div",D,[(0,a._)("div",w,[(0,a._)("dl",v,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(t.$t("icm211001sc01.publish_from_date")),1),C]),(0,a._)("dd",null,[(0,a.Wm)(kt,{placeholder:t.$t("pfm204001sc01.enter_date"),modelValue:t.promotionDetails.publishFromDate,"onUpdate:modelValue":e[2]||(e[2]=e=>t.promotionDetails.publishFromDate=e),"enable-time-picker":!1,type:"date","max-date":t.promotionDetails.publishToDate},{trigger:(0,a.w5)((()=>[(0,a._)("div",$,[(0,a._)("div",k,[(0,a.Wm)(l,{class:"line",value:t.formattedStartDate,disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,readonly:""},null,8,["value","disabled"]),(0,a.Wm)($t,{class:"btn_date",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},{default:(0,a.w5)((()=>[(0,a.Uk)("Calendar ")])),_:1},8,["disabled"])])])])),"action-row":(0,a.w5)((({closePicker:t,selectDate:e})=>[(0,a._)("div",T,[(0,a._)("button",{type:"button",class:"btn_refresh",onClick:t},"Cancel",8,L),(0,a._)("button",{type:"button",class:"",onClick:e},"Select",8,F)])])),_:1},8,["placeholder","modelValue","max-date"])])])]),(0,a._)("div",M,[(0,a._)("dl",S,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(t.$t("icm211001sc01.publish_to_date")),1),q]),(0,a._)("dd",null,[(0,a.Wm)(kt,{placeholder:t.$t("pfm204001sc01.enter_date"),modelValue:t.promotionDetails.publishToDate,"onUpdate:modelValue":e[3]||(e[3]=e=>t.promotionDetails.publishToDate=e),type:"date","min-date":t.promotionDetails.publishFromDate},{trigger:(0,a.w5)((()=>[(0,a._)("div",E,[(0,a._)("div",N,[(0,a.Wm)(l,{class:"line",value:t.formattedEndDate,disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,readonly:""},null,8,["value","disabled"]),(0,a.Wm)($t,{class:"btn_date",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},{default:(0,a.w5)((()=>[(0,a.Uk)("Calendar")])),_:1},8,["disabled"])])])])),"action-row":(0,a.w5)((({closePicker:t,selectDate:e})=>[(0,a._)("div",z,[(0,a._)("button",{type:"button",class:"btn_refresh",onClick:t},"Cancel",8,V),(0,a._)("button",{type:"button",class:"",onClick:e},"Select",8,P)])])),_:1},8,["placeholder","modelValue","min-date"])])])])])]),(0,a._)("div",G,[(0,a._)("dl",x,[(0,a._)("dt",null,(0,o.zw)(t.$t("icm211001sc01.attach_file")),1),(0,a._)("dd",null,[(0,a._)("div",U,[(0,a._)("div",A,[(0,a._)("div",Z,[t.fileInfo.fileName?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(Tt,{key:0,class:"placeholder file hide"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t("icm211001sc01.placeholder.please_upload_the_file")),1)])),_:1})),(0,a.Wm)(Tt,{class:"filename"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.fileInfo.fileName),1),R])),_:1}),t.fileInfo.fileName?((0,a.wg)(),(0,a.j4)($t,{key:1,class:"btn_remove",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,onClick:e[4]||(e[4]=e=>t.removeFile("01"))},{default:(0,a.w5)((()=>[(0,a.Uk)("remove")])),_:1},8,["disabled"])):(0,a.kq)("",!0)])]),(0,a._)("div",H,[(0,a._)("input",{id:"actual-btn",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,type:"file",accept:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf",onChange:e[5]||(e[5]=e=>t.handleUploadFile(e))},null,40,O),(0,a.Wm)($t,{class:"btn02",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("common.upload")),1)])),_:1},8,["disabled"])])])])])])]),(0,a._)("div",W,[(0,a._)("div",j,[(0,a._)("dl",B,[(0,a._)("dt",null,(0,o.zw)(t.$t("icm211001sc01.image_file")),1),(0,a._)("dd",null,[(0,a._)("div",Y,[(0,a._)("div",J,[t.fileInfo.imageName?((0,a.wg)(),(0,a.j4)(Ft,{key:0},{default:(0,a.w5)((()=>[t.fileInfo.image?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(Lt,{key:0,name:"crescent"})),(0,a._)("img",{src:t.fileInfo.image},null,8,K)])),_:1})):(0,a.kq)("",!0),(0,a._)("div",Q,[(0,a._)("div",X,[(0,a._)("div",tt,[(0,a._)("span",null,(0,o.zw)(t.fileInfo.imageName),1),et,t.fileInfo.imageName?((0,a.wg)(),(0,a.j4)($t,{key:0,class:"btn_remove",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,onClick:e[6]||(e[6]=e=>t.removeFile("02"))},{default:(0,a.w5)((()=>[(0,a.Uk)("remove")])),_:1},8,["disabled"])):(0,a.kq)("",!0)]),(0,a._)("div",it,[(0,a._)("p",null,(0,o.zw)(t.$t("icm211001sc01.only_png")),1),(0,a._)("p",null,(0,o.zw)(t.$t("icm211001sc01.image_fixed")),1)])])]),(0,a._)("div",at,[(0,a._)("input",{class:"btn02 btn_upload",type:"file",accept:"image/png",onChange:e[7]||(e[7]=e=>t.handleUploadImage(e)),disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},null,40,ot),(0,a.Wm)($t,{class:"btn02 btn_upload",disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("common.upload")),1)])),_:1},8,["disabled"])])])])])])])])]),(0,a._)("div",st,[(0,a.Wm)(qt,{defaultActive:"common.english",header:t.headersIcon},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.promotionDetailsLangDefaultValue,((e,i)=>((0,a.wg)(),(0,a.j4)(St,{key:e.languageCode,title:e.languageCode},{default:(0,a.w5)((()=>[(0,a._)("div",lt,[(0,a._)("div",nt,[(0,a._)("div",dt,[(0,a._)("dl",rt,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(t.$t("icm211001sc01.title")),1),(0,a.wy)((0,a._)("span",ct,"*",512),[[s.F8,"common.english"==e.languageCode]])]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,o.C_)(["inp_box",{inp_error:t.isInValidInput&&!e.title&&"common.english"==e.languageCode}])},[(0,a._)("div",ht,[(0,a.Wm)(l,{class:"line",placeholder:t.$t("icm211001sc01.placeholder.enter_title"),modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,modelModifiers:{trim:!0},readonly:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode},null,8,["placeholder","modelValue","onUpdate:modelValue","readonly"])]),!e.title&&t.isInValidInput&&"common.english"==e.languageCode?((0,a.wg)(),(0,a.iD)("p",ut,(0,o.zw)(t.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])])])]),(0,a._)("div",mt,[(0,a._)("div",pt,[(0,a._)("dl",ft,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(t.$t("Contents")),1),(0,a.wy)((0,a._)("span",gt,"*",512),[[s.F8,"common.english"==e.languageCode]])]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,o.C_)(["inp_box",{inp_error:t.isInValidInput&&!e.description&&"common.english"==e.languageCode}])},[(0,a._)("div",bt,[(0,a.Wm)(Mt,{contentHtml:e.contentHtml,"onUpdate:contentHtml":t=>e.contentHtml=t},null,8,["contentHtml","onUpdate:contentHtml"])]),!e.description&&t.isInValidInput&&"common.english"==e.languageCode?((0,a.wg)(),(0,a.iD)("p",yt,(0,o.zw)(t.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])])])])])])),_:2},1032,["title"])))),128))])),_:1},8,["header"]),"edit"===t.$route.query.type&&t.isDisable?((0,a.wg)(),(0,a.j4)(Et,{key:0,data:t.modifyCard},null,8,["data"])):(0,a.kq)("",!0)]),"normal"==t.operationMode?((0,a.wg)(),(0,a.iD)("div",It,[(0,a._)("div",_t,[t.btnDelete?((0,a.wg)(),(0,a.j4)($t,{key:0,class:"btn03",disabled:"09"===t.promotionDetails.statusCode,onClick:e[8]||(e[8]=e=>t.handleClickAction("delete"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("common.delete")),1)])),_:1},8,["disabled"])):(0,a.kq)("",!0),t.btnCancel?((0,a.wg)(),(0,a.j4)($t,{key:1,class:"btn03",onClick:e[9]||(e[9]=e=>t.handleClickAction("cancel"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("common.cancel")),1)])),_:1})):(0,a.kq)("",!0),t.btnList?((0,a.wg)(),(0,a.j4)($t,{key:2,class:"btn02",onClick:e[10]||(e[10]=e=>t.handleClickAction("list"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(t.$t("common.list")),1)])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",Dt,[t.btnEdit?((0,a.wg)(),(0,a.j4)($t,{key:0,class:"btn02 btn_ico",disabled:"09"===t.promotionDetails.statusCode,onClick:e[11]||(e[11]=e=>t.handleClickAction("edit"))},{default:(0,a.w5)((()=>[(0,a._)("span",wt,(0,o.zw)(t.$t("common.edit")),1)])),_:1},8,["disabled"])):(0,a.kq)("",!0),t.btnSave?((0,a.wg)(),(0,a.j4)($t,{key:1,class:"btn01 btn_ico",onClick:e[12]||(e[12]=e=>t.handleClickAction("save"))},{default:(0,a.w5)((()=>[(0,a._)("span",vt,(0,o.zw)(t.$t("common.save")),1)])),_:1})):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),"normal"!==t.operationMode?((0,a.wg)(),(0,a.j4)(Nt,{key:1,payload:t.approvalRes},null,8,["payload"])):(0,a.kq)("",!0)])])}}}]);
//# sourceMappingURL=1201.83a63451.js.map