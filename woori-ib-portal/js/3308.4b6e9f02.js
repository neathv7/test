"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[3308],{7344:function(e,t,s){s.a(e,(async function(e,l){try{var a=s(66252),i=s(43493),o=s(90121),r=s(15828),d=e([o]);o=(d.then?(await d)():d)[0],t["Z"]=(0,a.aZ)({name:"com207001sc01",components:{BreadCrumb:o.Z,ModifyCard:r.Z},data(){return{modifyCard:{registerTellerId:"",registerTellerName:"",registerDate:"",registerTime:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:""},isInValidInput:!1,isEdit:!0,isDisabled:!0,userRoleDetail:{userRoleID:"",userRoleName:"",userRoleDescription:"",userRoleStatusCode:"01"},operationMode:"normal",approvalRes:{}}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},UserRoleStatusCode(){return this.$store.state.CommonCodeModule.commonCode.UserRoleStatusCode},displayType(){return this.$route.query.type},btnCancel(){return"register"==this.$route.query.type||0==this.isEdit},btnList(){return"edit"==this.$route.query.type&&1==this.isEdit},btnEdit(){return"edit"==this.$route.query.type&&1==this.isEdit},btnSave(){return"register"==this.$route.query.type||0==this.isEdit}},async created(){if(""===this.approvalType)switch(this.$route.query.type){case"register":this.isEdit=!1,this.isDisabled=!1,this.userRoleDetail.userRoleStatusCode=this.UserRoleStatusCode?this.UserRoleStatusCode[0].key:"";break;case"edit":this.requestUserRoleDetail();break}else await this.$approval.getAuthorizationDetail().then((e=>{let t=JSON.parse(e.body.requestContent);this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.userRoleDetail={userRoleID:t.userRoleID,userRoleName:t.userRoleName,userRoleDescription:t.userRoleDescription,userRoleStatusCode:t.userRoleStatusCode}}))},methods:{async requestUserRoleDetail(){const e="COM20700112",t=!1,s={userRoleID:this.$route.query.userRoleID};await this.$request.getRequest(e,s,t).then((e=>{this.userRoleDetail=e.body,this.modifyCard={registerTellerId:e?.body.firstRegisterTellerID,registerTellerName:e?.body.firstRegisterTellerName,registerDate:e?.body.firstRegisterDate,registerTime:e?.body.firstRegisterTime,updatedTellerId:e?.body.lastChangeTellerID,updatedTellerName:e?.body.lastChangeTellerName,updatedDate:e?.body.lastChangeDate,updatedTime:e?.body.lastChangeTime}})).catch((e=>console.log(e)))},async handleRegister(){const{userRoleID:e,userRoleName:t,userRoleDescription:s,userRoleStatusCode:l}=this.userRoleDetail,a={userRoleID:e,userRoleName:t,userRoleDescription:s,userRoleStatusCode:l},o=await this.$request.getRequest("COM20700121",a,!1);o.header.result&&(this.$router.push("COM207001SC00"),this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{i.Fy.dismiss()}}))},async handleEdit(){const{userRoleID:e,userRoleName:t,userRoleDescription:s,userRoleStatusCode:l}=this.userRoleDetail,a={userRoleID:e,userRoleName:t,userRoleDescription:s,userRoleStatusCode:l},o=await this.$request.getRequest("COM20700131",a,!1);o.header.result?(this.isDisabled=!0,this.isEdit=!0,this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.requestUserRoleDetail(),i.Fy.dismiss()}})):console.log(o.header)},handleSave(){switch(this.$route.query.type){case"register":this.handleRegister();break;case"edit":this.handleEdit();break}},checkSpace(e){this.$validate.validateSpace(e)},handleClickAction(e){switch(e){case"cancel":this.$dialog.onOpen({content:"edit"===this.$route.query.type?this.$t("message.cancel_without_saving_changes"):this.$t("message.are_you_sure_you_want_to_cancel_registration?"),dialogMode:"Question",callback:()=>{"register"==this.$route.query.type?this.$router.push("COM207001SC00"):(this.isEdit=!0,this.isDisabled=!0,this.requestUserRoleDetail())}});break;case"list":this.$router.push("COM207001SC00");break;case"edit":this.isDisabled=!1,this.isEdit=!1;break;case"save":var{userRoleDescription:t,userRoleID:s,userRoleName:l,userRoleStatusCode:a}=this.userRoleDetail;s&&l&&t&&a?this.$dialog.onOpen({content:`${this.$t("message.would_you_like_to_save")}`,dialogMode:"Question",callback:()=>{this.handleSave()}}):this.isInValidInput=!0;break}}}}),l()}catch(u){l(u)}}))},23308:function(e,t,s){s.a(e,(async function(e,l){try{s.r(t);var a=s(45189),i=s(11776),o=(s(85110),s(83744)),r=e([i]);i=(r.then?(await r)():r)[0];const d=(0,o.Z)(i.Z,[["render",a.s],["__scopeId","data-v-4aa4006e"]]);t["default"]=d,l()}catch(d){l(d)}}))},85110:function(){},11776:function(e,t,s){s.a(e,(async function(e,l){try{s.d(t,{Z:function(){return a.Z}});var a=s(7344),i=e([a]);a=(i.then?(await i)():i)[0],l()}catch(o){l(o)}}))},45189:function(e,t,s){s.d(t,{s:function(){return O}});var l=s(66252),a=s(3577);const i=e=>((0,l.dD)("data-v-4aa4006e"),e=e(),(0,l.Cn)(),e),o={class:"contentWrap"},r={class:"title_name"},d={class:"cont"},u={class:"card_box"},n={class:"row gap"},c={class:"col-6"},p={class:"form01"},h=i((()=>(0,l._)("span",{class:"require"},"*",-1))),m={class:"inp_box"},R={class:"inp"},_={key:0,class:"txt_error"},y={class:"col-6"},D={class:"form01"},g=i((()=>(0,l._)("span",{class:"require"},"*",-1))),b={class:"inp_box"},v={class:"inp"},C={key:0,class:"txt_error"},k={class:"row gap"},w={class:"col-6"},I={class:"form01"},$=i((()=>(0,l._)("span",{class:"require"},"*",-1))),q={class:"inp_box"},f={class:"inp"},S={key:0,class:"txt_error"},M={class:"col-6"},T={class:"form01"},V=i((()=>(0,l._)("span",{class:"require"},"*",-1))),N={key:0,class:"footer_btn"},E={class:"left_side"},U={class:"right_side"},x={class:"edit"},z={class:"save"};function O(e,t){const s=(0,l.up)("BreadCrumb"),i=(0,l.up)("ion-input"),O=(0,l.up)("ion-radio"),W=(0,l.up)("ion-label"),Z=(0,l.up)("ion-item"),j=(0,l.up)("ion-list"),A=(0,l.up)("ion-radio-group"),B=(0,l.up)("ModifyCard"),L=(0,l.up)("ion-button"),P=(0,l.up)("ApprovalReason");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(s,{staticScreenName:"register"==e.$route.query.type?"Portal Role Register":"Portal Role Edit"},null,8,["staticScreenName"]),(0,l._)("h1",r,(0,a.zw)("register"==e.$route.query.type?"Portal Role Register":"Portal Role Edit"),1),(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("div",n,[(0,l._)("div",c,[(0,l._)("dl",p,[(0,l._)("dt",null,[(0,l.Uk)((0,a.zw)(e.$t("common.role_id")),1),h]),(0,l._)("dd",null,[(0,l._)("div",{class:(0,a.C_)({inp_error:e.isInValidInput&&!e.userRoleDetail.userRoleID})},[(0,l._)("div",m,[(0,l._)("div",R,[(0,l.Wm)(i,{class:(0,a.C_)(["line",{invalidInput:e.isInValidInput&&!e.userRoleDetail.userRoleID||e.isInvalidID}]),type:"text",onKeydown:e.checkSpace,disabled:"edit"==e.$route.query.type,placeholder:e.$t("common.role_id"),readonly:"edit"==e.displayType||"read"==e.operationMode||"approval"==e.operationMode,counter:!0,maxlength:"6",modelValue:e.userRoleDetail.userRoleID,"onUpdate:modelValue":t[0]||(t[0]=t=>e.userRoleDetail.userRoleID=t)},null,8,["onKeydown","disabled","placeholder","readonly","class","modelValue"])])]),e.isInValidInput&&!e.userRoleDetail.userRoleID?((0,l.wg)(),(0,l.iD)("p",_,(0,a.zw)(e.$t("error_text.role_id_required")),1)):(0,l.kq)("",!0)],2)])])]),(0,l._)("div",y,[(0,l._)("dl",D,[(0,l._)("dt",null,[(0,l.Uk)((0,a.zw)(e.$t("common.role_name")),1),g]),(0,l._)("dd",null,[(0,l._)("div",{class:(0,a.C_)({inp_error:e.isInValidInput&&!e.userRoleDetail.userRoleName})},[(0,l._)("div",b,[(0,l._)("div",v,[(0,l.Wm)(i,{class:(0,a.C_)(["line",{invalidInput:e.isInValidInput&&!e.userRoleDetail.userRoleName}]),type:"text",maxLength:"100",disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,placeholder:e.$t("common.role_name"),modelValue:e.userRoleDetail.userRoleName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.userRoleDetail.userRoleName=t),modelModifiers:{trim:!0}},null,8,["disabled","placeholder","class","modelValue"])])]),e.isInValidInput&&!e.userRoleDetail.userRoleName?((0,l.wg)(),(0,l.iD)("p",C,"Role name is required.")):(0,l.kq)("",!0)],2)])])])]),(0,l._)("div",k,[(0,l._)("div",w,[(0,l._)("dl",I,[(0,l._)("dt",null,[(0,l.Uk)((0,a.zw)(e.$t("common.role_description")),1),$]),(0,l._)("dd",null,[(0,l._)("div",{class:(0,a.C_)({inp_error:e.isInValidInput&&!e.userRoleDetail.userRoleDescription})},[(0,l._)("div",q,[(0,l._)("div",f,[(0,l.Wm)(i,{class:(0,a.C_)(["line",{invalidInput:e.isInValidInput&&!e.userRoleDetail.userRoleDescription}]),type:"text",maxLength:"100",placeholder:e.$t("common.role_description"),disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.userRoleDetail.userRoleDescription,"onUpdate:modelValue":t[2]||(t[2]=t=>e.userRoleDetail.userRoleDescription=t),modelModifiers:{trim:!0}},null,8,["class","placeholder","disabled","modelValue"])])]),e.isInValidInput&&!e.userRoleDetail.userRoleDescription?((0,l.wg)(),(0,l.iD)("p",S,"Role description is require")):(0,l.kq)("",!0)],2)])])]),(0,l._)("div",M,[(0,l._)("dl",T,[(0,l._)("dt",null,[(0,l.Uk)((0,a.zw)(e.$t("common.status")),1),V]),(0,l._)("dd",null,[(0,l.Wm)(A,{"allow-empty-selection":!0,modelValue:e.userRoleDetail.userRoleStatusCode,"onUpdate:modelValue":t[3]||(t[3]=t=>e.userRoleDetail.userRoleStatusCode=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{class:"list_chk"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.UserRoleStatusCode,(t=>((0,l.wg)(),(0,l.j4)(Z,{key:t.key,disabled:e.isEdit||"register"==e.$route.query.type||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{class:(0,a.C_)({invalidInput:e.isInValidInput&&!e.userRoleDetail.userRoleStatusCode}),value:t.key},null,8,["class","value"]),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.value),1)])),_:2},1024)])),_:2},1032,["disabled"])))),128))])),_:1})])),_:1},8,["modelValue"])])])])]),"edit"===e.$route.query.type&&e.isEdit?((0,l.wg)(),(0,l.j4)(B,{key:0,data:e.modifyCard},null,8,["data"])):(0,l.kq)("",!0)]),"normal"==e.operationMode?((0,l.wg)(),(0,l.iD)("div",N,[(0,l._)("div",E,[e.btnCancel?((0,l.wg)(),(0,l.j4)(L,{key:0,class:"btn03",onClick:t[4]||(t[4]=t=>e.handleClickAction("cancel"))},{default:(0,l.w5)((()=>[(0,l._)("span",null,(0,a.zw)(e.$t("common.cancel")),1)])),_:1})):(0,l.kq)("",!0),e.btnList?((0,l.wg)(),(0,l.j4)(L,{key:1,class:"btn02",onClick:t[5]||(t[5]=t=>e.handleClickAction("list"))},{default:(0,l.w5)((()=>[(0,l._)("span",null,(0,a.zw)(e.$t("common.list")),1)])),_:1})):(0,l.kq)("",!0)]),(0,l._)("div",U,[e.btnEdit?((0,l.wg)(),(0,l.j4)(L,{key:0,class:"btn02 btn_ico",disabled:"09"==e.userRoleDetail.userRoleStatusCode,onClick:t[6]||(t[6]=t=>e.handleClickAction("edit"))},{default:(0,l.w5)((()=>[(0,l._)("span",x,(0,a.zw)(e.$t("common.edit")),1)])),_:1},8,["disabled"])):(0,l.kq)("",!0),e.btnSave?((0,l.wg)(),(0,l.j4)(L,{key:1,class:"btn01 btn_ico",onClick:t[7]||(t[7]=t=>e.handleClickAction("save"))},{default:(0,l.w5)((()=>[(0,l._)("span",z,(0,a.zw)(e.$t("common.save")),1)])),_:1})):(0,l.kq)("",!0)])])):(0,l.kq)("",!0),"normal"!==e.operationMode?((0,l.wg)(),(0,l.j4)(P,{key:1,payload:e.approvalRes},null,8,["payload"])):(0,l.kq)("",!0)])])}}}]);
//# sourceMappingURL=3308.4b6e9f02.js.map