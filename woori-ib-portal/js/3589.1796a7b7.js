"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[3589],{23589:function(t,e,i){i.r(e),i.d(e,{default:function(){return $}});var a=i(66252),s=i(3577);const o=t=>((0,a.dD)("data-v-134ef237"),t=t(),(0,a.Cn)(),t),r={class:"tab_cont"},n={class:"row gap"},u={class:"col"},l={class:"form01"},d=o((()=>(0,a._)("span",{class:"require"},"*",-1))),p={class:"col"},c={class:"form01"},h=o((()=>(0,a._)("span",{class:"require"},"*",-1))),g={class:"inp"},_=o((()=>(0,a._)("span",{class:"unit"},"%",-1))),y={key:0,class:"txt_error"};function b(t,e){const i=(0,a.up)("ion-radio"),o=(0,a.up)("ion-label"),b=(0,a.up)("ion-item"),v=(0,a.up)("ion-list"),f=(0,a.up)("ion-radio-group"),m=(0,a.up)("ion-input");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",n,[(0,a._)("div",u,[(0,a._)("dl",l,[(0,a._)("dt",null,[(0,a.Uk)((0,s.zw)(t.$t("com210001ss04.soboros_fixed_deposite_product")),1),d]),(0,a._)("dd",null,[(0,a.Wm)(f,{modelValue:t.productConfiguration.soborosFixedDepositeStatus,"onUpdate:modelValue":e[0]||(e[0]=e=>t.productConfiguration.soborosFixedDepositeStatus=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"list_chk"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.soborosFixedDepositeProductStatus,((e,r)=>((0,a.wg)(),(0,a.j4)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{disabled:t.isDisable||"read"==t.operationMode||"approval"==t.operationMode,value:e.key},null,8,["disabled","value"]),(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.value),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1},8,["modelValue"])])])]),(0,a._)("div",p,[(0,a._)("dl",c,[(0,a._)("dt",null,[(0,a.Uk)((0,s.zw)(t.$t("com210001ss04.charity_interest_rate")),1),h]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,s.C_)(["inp_box",{inp_error:t.isInvalidField&&""==t.productConfiguration.charityInterestRate}])},[(0,a._)("div",g,[(0,a.Wm)(m,{class:"line type_rate",placeholder:"",value:"",readonly:t.isDisable,maxlength:"5",modelValue:t.productConfiguration.charityInterestRate,"onUpdate:modelValue":e[1]||(e[1]=e=>t.productConfiguration.charityInterestRate=e),oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1')"},null,8,["readonly","modelValue"]),_]),t.isInvalidField&&""==t.productConfiguration.charityInterestRate?((0,a.wg)(),(0,a.iD)("p",y,(0,s.zw)(t.$t("error_text.this_field_is_required")),1)):(0,a.kq)("",!0)],2)])])])])])}var v=i(43493),f=(0,a.aZ)({name:"com210001ss04",components:{},data(){return{soborosFixedDepositeProductStatus:[{key:"Y",value:"ON"},{key:"N",value:"Off"}],productConfiguration:{soborosFixedDepositeStatus:"",charityInterestRate:""},isDisable:!0,isInvalidField:!1,approvalRes:{},operationMode:"normal"}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},mounted(){""===this.approvalType?this.getProductConfigurationDetails():this.requestApprovalMode()},methods:{handleEvent(t){switch(t){case"cancel":this.$dialog.onOpen({dialogMode:"Question",content:`${this.$t("message.are_you_sure_you_want_to_cancel_without_saving_data")}`,callback:()=>{this.isDisable=!0,this.$emit("isResetEditable",!1),this.$emit("isTapChange",!0),this.isInvalidField=!1,v.Fy.dismiss(),this.getProductConfigurationDetails()}});break;case"edit":this.isDisable=!1;break;case"save":this.productConfiguration.soborosFixedDepositeStatus&&this.productConfiguration.charityInterestRate?(this.isInvalidField=!1,this.$dialog.onOpen({dialogMode:"Question",content:`${this.$t("message.would_you_like_to_save")}`,callback:()=>{this.updateProductConfiguration(),v.Fy.dismiss()}})):this.isInvalidField=!0;break;default:break}},async getProductConfigurationDetails(){const t={productCode:"1"},e=await this.$request.getRequest("COM21000114",t,!1);e.header.result&&(this.productConfiguration.charityInterestRate=e.body.charityRate,this.productConfiguration.soborosFixedDepositeStatus=e.body.enableYN)},async registerProductConfiguration(){const t={productCode:"1",enableYN:this.productConfiguration.soborosFixedDepositeStatus,charityRate:this.productConfiguration.charityInterestRate},e=await this.$request.getRequest("COM21000124",t,!1);e.header.result&&this.$dialog.onOpen({content:`${this.$t("message.register_success")}`,dialogMode:"Success",callback:()=>{v.Fy.dismiss()}})},async updateProductConfiguration(){const t={productCode:"1",enableYN:this.productConfiguration.soborosFixedDepositeStatus,charityRate:Number(this.productConfiguration.charityInterestRate)},e=await this.$request.getRequest("COM21000134",t,!1,"COM210001SS04");e.header.result&&(this.$dialog.onOpen({content:`${this.$t("message.update_success")}`,dialogMode:"Success",callback:()=>{v.Fy.dismiss()}}),this.isDisable=!0,this.$emit("isResetEditable",!1),this.$emit("isTapChange",!0))},async requestApprovalMode(){await this.$approval.getAuthorizationDetail().then((t=>{let e=JSON.parse(t.body.requestContent);this.approvalRes=t.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.$emit("operationMode",this.operationMode),this.$emit("approvalResponse",this.approvalRes),this.productConfiguration.charityInterestRate=e.charityRate,this.productConfiguration.soborosFixedDepositeStatus=e.enableYN}))}}}),m=i(83744);const C=(0,m.Z)(f,[["render",b],["__scopeId","data-v-134ef237"]]);var $=C}}]);
//# sourceMappingURL=3589.1796a7b7.js.map