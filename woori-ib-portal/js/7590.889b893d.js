"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[7590],{67276:function(i,e,t){t.a(i,(async function(i,o){try{var a=t(66252),s=t(90121),n=t(43493),d=t(67201),r=i([s]);s=(r.then?(await r)():r)[0],e["Z"]=(0,a.aZ)({name:"apm205001sc01",components:{BreadCrumb:s.Z,SelectOption:d.Z},data(){const i={serviceID:"",authorizationBizTypeCode1:"",authorizationBizTypeCode2:"",statusCode:"",serviceIDDescription:"",serviceIDName:""};return{todoAuthorization:i,isDisabledEdit:!0,isInValidInput:!1,isDisabledRegisterMode:!1,AuthorizationBizTypeCode2:[],tempServiceID:[],invalidServiceID:!1,invalidLength:!1}},async mounted(){"edit"==this.queryParam.type?(await this.inquiryAuthorizationCode2(),await this.getTodoAuthorizedDetail(),this.isDisabledEdit=!0):(this.isDisabledEdit=!1,this.todoAuthorization.statusCode=this.statusCode[0].key,this.isDisabledRegisterMode=!0)},computed:{queryParam(){return this.$route.query},statusCode(){return this.$store.state.CommonCodeModule.commonCode.StatusCode}},watch:{"todoAuthorization.authorizationBizTypeCode1":{handler(i){i&&this.inquiryAuthorizationCode2(i)}},"todoAuthorization.serviceID":{handler(i){""==i&&(this.invalidServiceID=!1,this.todoAuthorization.serviceIDName="",this.todoAuthorization.serviceIDDescription="",this.invalidLength=!1)}}},methods:{async getTodoAuthorizedDetail(){const i={serviceID:String(this.queryParam.serviceID)},e=await this.$request.getRequest("APM20600112",i,!1);e.header.result&&(this.todoAuthorization=e.body)},handleEnableEditButton(){this.isDisabledEdit=!1},handleCancelButton(){let i="",e="";"register"===this.queryParam.type?(e="Question",i=this.$t("message.move_to_list_without_saving_changes")):(e="Question",i=this.$t("message.cancel_without_saving_changes")),this.$dialog.onOpen({dialogMode:e,content:i,callback:()=>this.cancelEvent()})},async cancelEvent(){n.Fy.dismiss(),"register"===this.queryParam.type?this.$router.push({path:"/APM205001SC00"}):(this.isDisabledEdit=!0,await this.getTodoAuthorizedDetail(),await this.inquiryAuthorizationCode2())},goBackToInquiryScreen(){this.$router.push({path:"/APM205001SC00"})},checkInValidInput(){const{serviceID:i,authorizationBizTypeCode1:e,authorizationBizTypeCode2:t,statusCode:o}=this.todoAuthorization;return""===i||""===e||""===t||""===o?(this.isInValidInput=!0,!0):(this.isInValidInput=!1,!1)},handleSaveEvent(){this.checkInValidInput()?this.isInValidInput=!0:this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.would_you_like_to_save"),callback:()=>{n.Fy.dismiss(),"register"===this.queryParam.type?this.registerTodoAuthorization():this.updateTodoAuthorization()}})},async registerTodoAuthorization(){const i={serviceID:this.todoAuthorization.serviceID,authorizationBizTypeCode1:this.todoAuthorization.authorizationBizTypeCode1,authorizationBizTypeCode2:this.todoAuthorization.authorizationBizTypeCode2,statusCode:this.todoAuthorization.statusCode},e=await this.$request.getRequest("APM20600121",i,!1);e.header.result&&(this.$router.push({path:"/APM205001SC00"}),this.$dialog.onOpen({dialogMode:"Success",content:"Register Todo Authorization Relation Service Success",callback:()=>n.Fy.dismiss()}),this.isDisabledEdit=!0)},async updateTodoAuthorization(){const i={serviceID:this.todoAuthorization.serviceID,authorizationBizTypeCode1:this.todoAuthorization.authorizationBizTypeCode1,authorizationBizTypeCode2:this.todoAuthorization.authorizationBizTypeCode2,statusCode:this.todoAuthorization.statusCode},e=await this.$request.getRequest("APM20600131",i,!1);e.header.result&&(this.isDisabledEdit=!0,this.$dialog.onOpen({dialogMode:"Success",content:"Update Todo Authorization Relation Service Success",callback:()=>n.Fy.dismiss()}),this.getTodoAuthorizedDetail())},async inquiryAuthorizationCode2(i){const e={authorizationBizTypeCode1:i},t=await this.$request.getRequest("APM20100113",e,!1);t.header.result&&(this.AuthorizationBizTypeCode2=t.body.list.map((i=>({key:i.authorizationBizTypeCode2,value:i.managerApprovalDescription}))))},async requestServiceDetail(i){if(this.todoAuthorization.serviceIDName="",this.todoAuthorization.serviceIDDescription="",this.todoAuthorization.serviceID.length>=11){this.invalidLength=!1;const e={serviceIDName:"",serviceID:this.todoAuthorization.serviceID.trim(),pageSize:1e4,pageNumber:1,checkServiceYN:"",transactionControlStatusCode:""},t=await this.$request.getRequest("COM20600111",e,!1);t.header.result&&(this.invalidServiceID=i,this.invalidServiceID&&(this.tempServiceID=t.body.list),t.body.list.find((i=>{i.serviceID.trim()==this.todoAuthorization.serviceID.trim()&&(this.todoAuthorization.serviceIDName=i.serviceID,this.todoAuthorization.serviceIDDescription=i.serviceIDDescription)})))}else this.invalidLength=!0,this.invalidServiceID=!1}}}),o()}catch(l){o(l)}}))},90434:function(i,e,t){t.a(i,(async function(i,o){try{t.r(e);var a=t(38430),s=t(24538),n=(t(33185),t(83744)),d=i([s]);s=(d.then?(await d)():d)[0];const r=(0,n.Z)(s.Z,[["render",a.s],["__scopeId","data-v-2259099c"]]);e["default"]=r,o()}catch(r){o(r)}}))},33185:function(){},24538:function(i,e,t){t.a(i,(async function(i,o){try{t.d(e,{Z:function(){return a.Z}});var a=t(67276),s=i([a]);a=(s.then?(await s)():s)[0],o()}catch(n){o(n)}}))},38430:function(i,e,t){t.d(e,{s:function(){return ei}});var o=t(66252),a=t(3577),s=t(49963);const n=i=>((0,o.dD)("data-v-2259099c"),i=i(),(0,o.Cn)(),i),d={class:"contentWrap"},r={class:"optwrap"},l={class:"title_name"},u={class:"cont"},c={class:"card_box"},h={class:"row gap"},p={class:"col"},v={class:"form01"},z=n((()=>(0,o._)("dt",null,[(0,o.Uk)("Service ID"),(0,o._)("span",{class:"require"},"*")],-1))),_={class:"row gap10"},m={class:"col"},D={class:"inp"},y={key:0,class:"txt_error"},C={key:1,class:"txt_error"},I={key:2,class:"txt_error"},A={class:"col-auto"},g={class:"col"},b={class:"form01"},w=n((()=>(0,o._)("dt",null,[(0,o.Uk)("Status Code"),(0,o._)("span",{class:"require"},"*")],-1))),k={class:"inp"},S={key:0,class:"txt_error"},q={class:"row gap"},T={class:"col"},f={class:"form01"},B=n((()=>(0,o._)("dt",null,[(0,o.Uk)("Authorization Biz Type Code 1"),(0,o._)("span",{class:"require"},"*")],-1))),V={class:"inp"},$={key:0,class:"txt_error"},E={class:"col"},M={class:"form01"},x=n((()=>(0,o._)("dt",null,[(0,o.Uk)("Authorization Biz Type Code 2"),(0,o._)("span",{class:"require"},"*")],-1))),P={class:"inp"},R={key:0,class:"txt_error"},U={class:"row gap"},N={class:"col"},O={class:"form01"},W=n((()=>(0,o._)("dt",null,"Service ID Name",-1))),Z={class:"inp_box"},j={class:"inp"},L={class:"col"},F={class:"form01"},K=n((()=>(0,o._)("dt",null,"Service ID Description",-1))),Q={class:"inp_box"},Y={class:"inp"},H={class:"footer_btn"},G={class:"left_side"},J={class:"right_side"},X={class:"edit"},ii={class:"save"};function ei(i,e){const t=(0,o.up)("BreadCrumb"),n=(0,o.up)("ion-input"),ei=(0,o.up)("ion-button"),ti=(0,o.up)("SelectOption"),oi=(0,o.up)("ion-select-option"),ai=(0,o.up)("ion-select");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",r,[(0,o.Wm)(t,{staticScreenName:"register"==i.queryParam.type?"Todo Authorization Service Relation Register":"Todo Authorization Service Relation Inquiry Detail / Edit"},null,8,["staticScreenName"])]),(0,o._)("h1",l,(0,a.zw)("register"==i.queryParam.type?"Todo Authorization Service Relation Register":"Todo Authorization Service Relation Inquiry Detail / Edit"),1),(0,o._)("div",u,[(0,o._)("div",c,[(0,o._)("div",h,[(0,o._)("div",p,[(0,o._)("dl",v,[z,(0,o._)("dd",null,[(0,o._)("div",_,[(0,o._)("div",m,[(0,o._)("div",{class:(0,a.C_)(["inp_box",{inp_error:i.isInValidInput&&""==i.todoAuthorization.serviceID||i.invalidServiceID&&0==i.tempServiceID.length||i.invalidLength}])},[(0,o._)("div",D,[(0,o.Wm)(n,{class:"line",maxlength:"20",onKeyup:e[0]||(e[0]=(0,s.D2)((e=>i.requestServiceDetail(!0)),["enter"])),disabled:i.isDisabledEdit,modelValue:i.todoAuthorization.serviceID,"onUpdate:modelValue":e[1]||(e[1]=e=>i.todoAuthorization.serviceID=e),placeholder:"Service ID / Find Service ID "},null,8,["disabled","modelValue"])]),i.isInValidInput&&""==i.todoAuthorization.serviceID?((0,o.wg)(),(0,o.iD)("p",y,(0,a.zw)(i.$t("error_text.this_field_is_required")),1)):(0,o.kq)("",!0),i.invalidServiceID&&0==i.tempServiceID.length?((0,o.wg)(),(0,o.iD)("p",C,"can not find this service ID.")):(0,o.kq)("",!0),i.invalidLength?((0,o.wg)(),(0,o.iD)("p",I,"service ID require search maximun length greater than 10")):(0,o.kq)("",!0)],2)]),(0,o._)("div",A,[(0,o.Wm)(ei,{class:"btn01 btn_sm",disabled:""===i.todoAuthorization.serviceID||i.isDisabledEdit,onClick:e[2]||(e[2]=e=>i.requestServiceDetail(!0))},{default:(0,o.w5)((()=>[(0,o.Uk)("Search")])),_:1},8,["disabled"])])])])])]),(0,o._)("div",g,[(0,o._)("dl",b,[w,(0,o._)("dd",null,[(0,o._)("div",{class:(0,a.C_)(["inp_box",{inp_error:i.isInValidInput&&""===i.todoAuthorization.statusCode}])},[(0,o._)("div",k,[(0,o.Wm)(ti,{ValidateClass:{invalid:i.isInValidInput&&""===i.todoAuthorization.statusCode},data:i.$store.state.CommonCodeModule.commonCode.BusinessCommonStatusCode,modelValue:i.todoAuthorization.statusCode,"onUpdate:modelValue":e[3]||(e[3]=e=>i.todoAuthorization.statusCode=e),value:i.todoAuthorization.statusCode,isDisabled:i.isDisabledEdit||i.isDisabledRegisterMode,showKey:!0,classSelectType:"line"},null,8,["ValidateClass","data","modelValue","value","isDisabled"]),i.isInValidInput&&""===i.todoAuthorization.statusCode?((0,o.wg)(),(0,o.iD)("p",S,(0,a.zw)(i.$t("error_text.this_field_is_required")),1)):(0,o.kq)("",!0)])],2)])])])]),(0,o._)("div",q,[(0,o._)("div",T,[(0,o._)("dl",f,[B,(0,o._)("dd",null,[(0,o._)("div",{class:(0,a.C_)(["inp_box",{inp_error:i.isInValidInput&&""==i.todoAuthorization.authorizationBizTypeCode1}])},[(0,o._)("div",V,[(0,o.Wm)(ai,{interface:"popover",placeholder:"Select Authorized Code 1",interfaceOptions:{size:"cover"},class:"line",modelValue:i.todoAuthorization.authorizationBizTypeCode1,"onUpdate:modelValue":e[4]||(e[4]=e=>i.todoAuthorization.authorizationBizTypeCode1=e),disabled:i.isDisabledEdit},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode,((i,e)=>((0,o.wg)(),(0,o.j4)(oi,{value:i.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(i.key)+" : "+(0,a.zw)(i.value),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue","disabled"])]),i.isInValidInput&&""==i.todoAuthorization.authorizationBizTypeCode1?((0,o.wg)(),(0,o.iD)("p",$,(0,a.zw)(i.$t("error_text.this_field_is_required")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",E,[(0,o._)("dl",M,[x,(0,o._)("dd",null,[(0,o._)("div",{class:(0,a.C_)(["inp_box",{inp_error:i.isInValidInput&&""==i.todoAuthorization.authorizationBizTypeCode2}])},[(0,o._)("div",P,[(0,o.Wm)(ai,{interface:"popover",placeholder:"Authorized Code 2 Value Base on Authorized Code 1",interfaceOptions:{size:"cover"},class:"line",modelValue:i.todoAuthorization.authorizationBizTypeCode2,"onUpdate:modelValue":e[5]||(e[5]=e=>i.todoAuthorization.authorizationBizTypeCode2=e),disabled:i.isDisabledEdit},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.AuthorizationBizTypeCode2,((i,e)=>((0,o.wg)(),(0,o.j4)(oi,{value:i.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(i.key)+" : "+(0,a.zw)(i.value),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue","disabled"])]),i.isInValidInput&&""==i.todoAuthorization.authorizationBizTypeCode2?((0,o.wg)(),(0,o.iD)("p",R,(0,a.zw)(i.$t("error_text.this_field_is_required")),1)):(0,o.kq)("",!0)],2)])])])]),(0,o._)("div",U,[(0,o._)("div",N,[(0,o._)("dl",O,[W,(0,o._)("dd",null,[(0,o._)("div",Z,[(0,o._)("div",j,[(0,o.Wm)(n,{class:"line",disabled:"",modelValue:i.todoAuthorization.serviceIDName,"onUpdate:modelValue":e[6]||(e[6]=e=>i.todoAuthorization.serviceIDName=e),placeholder:"Service ID Name"},null,8,["modelValue"])])])])])]),(0,o._)("div",L,[(0,o._)("dl",F,[K,(0,o._)("dd",null,[(0,o._)("div",Q,[(0,o._)("div",Y,[(0,o.Wm)(n,{class:"line",disabled:"",modelValue:i.todoAuthorization.serviceIDDescription,"onUpdate:modelValue":e[7]||(e[7]=e=>i.todoAuthorization.serviceIDDescription=e),placeholder:"Service Description"},null,8,["modelValue"])])])])])])])]),(0,o._)("div",H,[(0,o._)("div",G,[0==i.isDisabledEdit?((0,o.wg)(),(0,o.j4)(ei,{key:0,class:"btn03",onClick:e[8]||(e[8]=e=>i.handleCancelButton())},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(i.$t("common.cancel")),1)])),_:1})):(0,o.kq)("",!0),"edit"==i.queryParam.type&&1==i.isDisabledEdit?((0,o.wg)(),(0,o.j4)(ei,{key:1,class:"btn02",onClick:e[9]||(e[9]=e=>i.goBackToInquiryScreen())},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(i.$t("common.list")),1)])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",J,["edit"==i.queryParam.type&&1==i.isDisabledEdit?((0,o.wg)(),(0,o.j4)(ei,{key:0,class:"btn02 btn_ico",onClick:e[10]||(e[10]=e=>i.handleEnableEditButton())},{default:(0,o.w5)((()=>[(0,o._)("span",X,(0,a.zw)(i.$t("common.edit")),1)])),_:1})):(0,o.kq)("",!0),0==i.isDisabledEdit?((0,o.wg)(),(0,o.j4)(ei,{key:1,class:"btn01 btn_ico",onClick:e[11]||(e[11]=e=>i.handleSaveEvent())},{default:(0,o.w5)((()=>[(0,o._)("span",ii,(0,a.zw)(i.$t("common.save")),1)])),_:1})):(0,o.kq)("",!0)])])])])}}}]);
//# sourceMappingURL=7590.889b893d.js.map