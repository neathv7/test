"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9135],{28183:function(e,t,i){i.a(e,(async function(e,s){try{var a=i(66252),r=i(75080),n=i(72224),o=e([n]);n=(o.then?(await o)():o)[0],t["Z"]=(0,a.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(e){"/COM210001SC00"==this.$route.path&&(e&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:e,route:""}))}},methods:{pathDriver(e,t){if(""===this.approvalType){if(this.$route.path==e)return;t?this.$router.push({path:e,query:t}):this.$router.push(e)}},async renderMenuFromState(){return r.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((e=>""!=e.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(e){console.log("Error rendering menu:",e)}},async buildBreadcrumb(e,t){const i=e.find((e=>`/${e.screenID}`==t));if(i){if(this.generateBreadcrumbs(e,i),"/ICM201001SC00"==this.$route.path){const t=e.find((e=>"ICM201001SC00"==e.screenID));n.u.setData("SpecialScreenID",JSON.stringify(t))}}else{if("/CIB202003SC00"==this.$route.path){let t,i;i=e.find((e=>"CIB202002SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID,menuID:"1"},this.generateBreadcrumbs(e,t)}const t=this.$route.path.replace("/","");let i=[];this.menuList.forEach((e=>{i.push(e.screenID)})),i.forEach((i=>{let s;if(this.matchScreenID(i,t)&&(s=e.find((e=>`${e.screenID}`==i)),s&&this.generateBreadcrumbs(e,s)),""!==this.approvalType&&("VBA202002SC00"==t||"CIB201003SC00"==t)&&this.matchApprovalModeScreenID(i,t)){const t=e.find((e=>`${e.screenID}`==i));this.generateBreadcrumbs(e,t)}}));let s=t.charAt(t.length-1);if("1"===s){let e={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`};this.breadcrumbs.push(e),n.u.setData("TempBreadCrumb",JSON.stringify(e))}else if("2"===s)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`});else{let e=JSON.parse(await n.u.getData("TempBreadCrumb"));this.breadcrumbs.push(e,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let i=this.$router.options.history.state.back,s=i.includes("/")?i.replace("/",""):i;const a=await e.find((e=>`${e.screenID}`==s));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,a)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let i=JSON.parse(await n.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/CIB202003SC01"==this.$route.path){let i,s;this.breadcrumbs=[],s=e.find((e=>"CIB202002SC00"==e.screenID)),i={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:s.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/PUM202002SC00"==this.$route.path){let t,i;i=e.find((e=>"COM200001SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID},this.generateBreadcrumbs(e,t)}}},async generateBreadcrumbs(e,t){try{if(t){const i={menuName:t.menuName,route:`/${t.screenID}`,menuIconID:t.menuIconID};if(this.breadcrumbs.unshift(i),t.parentMenuID){const i=e.find((e=>e.menuID==t.parentMenuID));i&&this.generateBreadcrumbs(e,i)}}}catch(i){console.log(i)}},matchScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-1;i++)if(e[i]!==t[i])return!1;return!0},matchApprovalModeScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-5;i++)if(e[i]!==t[i])return!1;return!0}}}),s()}catch(c){s(c)}}))},6915:function(e,t,i){i.a(e,(async function(e,s){try{var a=i(66252),r=i(12187),n=i(29641),o=i(43493),c=i(21638),l=i(90121),h=e([l]);l=(h.then?(await h)():h)[0];const d=new n.Z;t["Z"]=(0,a.aZ)({name:"com206002sc00",components:{Tree:r.Z,Pagination:c.Z,BreadCrumb:l.Z},data(){return{isReset:!1,roleTree:[],roleList:[],selectedRole:{},isAddService:!1,linkToRole:"",serviceList:[],searchByServiceID:"",searchServiceIDName:"",checkList:[],isCheckAll:!1,userRoleID:"",tmpServiceList:[],roleListForRemove:[],isGroupData:!1,roleServiceList:[],currentPage:1,pageSize:5,startingIndex:1,totalScreenItems:0,totalRoleList:0,roleSize:500,roleID:"",isdisabledMianCheckBox:!1,approvalRes:{},operationMode:"normal",cloneServiceRoleData:[],isApprovalDeletedStatus:!1}},mounted(){this.onGetRoleList(),this.onModifyList()},computed:{disableMainCheckBox(){return this.serviceList.every((e=>"Y"==e.linkedStatus))},convertLinkedStatus(){return e=>"Y"==e?`${this.$t("com214003sc00.linked")}`:`${this.$t("com214003sc00.not_linked")}`},checkAllServiceList(){return this.isCheckAll?this.serviceList.forEach((e=>e.checked=!0)):this.serviceList.length===this.checkList.length&&this.serviceList.forEach((e=>e.checked=!1)),this.serviceList},approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},methods:{async onGetRoleList(){const e={pageNumber:1,pageSize:1500},t=await this.$request.getRequest("COM21400311",e,!1);t.header.result&&(this.roleList=t.body.list,this.transformAndExpandTreeData(this.roleList),this.selectedRole=this.roleList,this.onHighLightParentNode(),this.approvalRequest())},transformAndExpandTreeData(e){const t=d.transformIntoTreeServiceRole(e,"userRoleID","parentUserRoleID","userRoleName");this.roleTree=t,d.expandAllNodes(this.roleTree)},async onSelectRoleList(e){if(""===this.approvalType){if(this.isAddService)return this.diabledSelectNewService(),void this.onHighLightParentNode();if(this.selectedRole){const t={pageNumber:1,pageSize:1},i=await this.$request.getRequest("COM21400311",t,!1);i.header.result&&(this.selectedRole=e,this.linkToRole=`${this.selectedRole.userRoleID}: ${this.selectedRole.userRoleName}`,this.userRoleID=this.selectedRole.userRoleID,this.roleID=this.selectedRole.userRoleID,this.selectedRole.serviceID&&this.getServiceDetails(this.selectedRole.serviceID),this.searchByServiceID="",this.searchServiceIDName="")}}else{this.selectedRole=e;let t=!1;if(console.log("cloneServiceRoleData",this.cloneServiceRoleData),this.cloneServiceRoleData.find((e=>{e.serviceID==this.selectedRole.serviceID&&e.parentUserRoleID==this.selectedRole.parentUserRoleID?t=!0:this.selectedRole.state.selected=!1})),this.apprrovalRoleActive(),t){const t={pageNumber:1,pageSize:1},i=await this.$request.getRequest("COM21400311",t,!1);i.header.result&&(this.selectedRole=e,this.linkToRole=`${this.selectedRole.userRoleID}: ${this.selectedRole.userRoleName}`,this.userRoleID=this.selectedRole.userRoleID,this.roleID=this.selectedRole.userRoleID,this.selectedRole.serviceID&&this.getServiceDetails(this.selectedRole.serviceID))}this.linkToRole="",this.searchByServiceID="",this.searchServiceIDName=""}},async getServiceDetails(e){const t={serviceID:e},i=await this.$request.getRequest("COM21400212",t,!1);if(i.header.result){let e=this.roleList.find((e=>e.userRoleID==this.selectedRole.parentUserRoleID));this.linkToRole=`${e.userRoleID}: ${e.userRoleName}`,this.searchServiceIDName=`${i.body.serviceIDName}`,this.searchByServiceID=i.body.serviceID}},initNewRole(){return{isTempNewRole:!0,userRoleID:"",parentUserRoleID:this.selectedRole.userRoleID,userRoleName:"New Service..",nodes:[],state:{indeterminate:!1,checked:!1,selected:!0,expanded:!1,highLightParentNode:!1}}},resetStateTreeData(){0!==this.roleList.length&&(this.roleList=this.roleList.map((e=>(e.state&&(e.state.selected=!1),e))))},onClickAddService(){this.selectedRole.nodes?""==this.selectedRole.parentUserRoleID?(this.isAddService=!0,this.resetStateTreeData(),this.roleList=[...this.roleList,this.initNewRole()],this.transformAndExpandTreeData(this.roleList),this.selectedRole={...this.initNewRole(),userRoleName:""},this.onHighLightParentNode(),this.onGetServiceList()):this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("com214003sc00.currently_you_selected_service"),callback:()=>o.Fy.dismiss()}):this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("com214003sc00.please_select_specific_list_before_add"),callback:()=>o.Fy.dismiss()}),this.roleListForRemove=[]},onModalCancel(){this.checkList.length>0?this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.are_you_sure_you_want_to_cancel_without_saving_data"),callback:()=>{this.onClickCancel()}}):this.onClickCancel()},onClickCancel(){this.roleList=this.roleList.filter((e=>!e.isTempNewRole)),this.transformAndExpandTreeData(this.roleList),this.isAddService=!1,o.Fy.dismiss(),this.onResetCheckedList(),this.selectedRole=this.nodeSelectAtRoot(),this.onResetHighLightParentNode(),this.linkToRole="",this.searchByServiceID="",this.searchServiceIDName=""},nodeSelectAtRoot(){return{userRoleID:"",userRoleName:"",parentUserRoleID:"",state:{indeterminate:!1,checked:!1,selected:!1,expanded:!1,highLightParentNode:!1}}},onResetCheckedList(){this.serviceList.forEach((e=>e.checked=!1)),this.checkList=[],this.isCheckAll=!1},diabledSelectNewService(){this.roleList=this.roleList.map((e=>(e.isTempNewRole?e.state={indeterminate:!1,checked:!1,selected:!0,expanded:!1}:e.state={indeterminate:!1,checked:!1,selected:!1,expanded:!1},e))),this.transformAndExpandTreeData(this.roleList)},async onGetServiceList(){const e={serviceID:""!=this.searchByServiceID?this.searchByServiceID:"",serviceIDName:""!=this.searchServiceIDName?this.searchServiceIDName:"",pageNumber:this.currentPage,pageSize:this.pageSize,userRoleID:this.roleID},t=await this.$request.getRequest("COM21400312",e,!1);t.header.result&&(this.serviceList=t.body.list,this.tmpServiceList=this.serviceList,this.totalScreenItems=t.body.totalCount)},onModifyList(){this.tmpServiceList.map((e=>(this.serviceList.push({checked:!1,serviceID:e.serviceID,serviceIDName:e.serviceIDName}),this.serviceList)))},onClickSearchServiceList(){""==this.searchServiceIDName&&""==this.searchByServiceID?(this.pageSize=5,this.currentPage=1,this.isReset=!0,this.onGetServiceList()):(this.currentPage=1,this.isReset=!0,this.onGetServiceList())},resetServiceList(){this.pageSize=5,this.currentPage=1,this.isReset=!0,this.searchByServiceID="",this.searchServiceIDName="",this.onGetServiceList()},checkServiceList(e){if(e.checked)this.checkList.push({serviceID:e.serviceID,userRoleID:this.userRoleID});else{const t=this.checkList.findIndex((t=>t.serviceID===e.serviceID));-1!==t&&this.checkList.splice(t,1)}this.checkList.length==this.serviceList.length?this.isCheckAll=!0:this.isCheckAll=!1},onResetServiceCheckedBox(){this.isCheckAll=!1,this.serviceList.forEach((e=>e.checked=!1))},onClickModalSave(){this.checkList.length>0?this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.would_you_like_to_save"),callback:()=>{o.Fy.dismiss(),this.registerServiceRole()}}):this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("com214003sc00.please_select_a_service_before_clicking_the_save_button"),callback:()=>{o.Fy.dismiss()}})},async registerServiceRole(){const e={list:this.checkList},t=await this.$request.getRequest("COM21400321",e,!1);t.header.result&&(this.onGetRoleList(),this.checkList=[],this.isAddService=!1,this.clearForm(),this.onResetServiceCheckedBox(),this.$dialog.onOpen({dialogMode:"Success",content:this.$t("com214003sc00.mapping_service"),callback:()=>{o.Fy.dismiss()}}),this.onClickCancel())},onCheckTreeList(e){if(e.state.checked)this.roleListForRemove.push(e);else{const t=this.roleListForRemove.findIndex((t=>t.employeeNo==e.employeeNo));-1!==t&&this.roleListForRemove.splice(t,1)}this.selectedRole.isTempNewRole?e.state.checked=null:e.state.checked},onClickModalRemove(){this.selectedRole.userRoleName&&0==this.roleListForRemove.length?this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("com214003sc00.main_role_cannot_be_remove"),callback:()=>{o.Fy.dismiss(),this.selectedRole.state.selected=!1}}):0!==this.roleListForRemove.length?this.$dialog.onOpen({dialogMode:"Question",content:this.$t("com214003sc00.are_you_sure_you_want_to_remove_service_from_role"),callback:()=>{this.removeUserFromRole()}}):this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("com214003sc00.please_check_list_before_Remove"),callback:()=>{o.Fy.dismiss()}})},async removeUserFromRole(){this.roleServiceList=this.roleListForRemove.map((e=>({userRoleID:e.parentUserRoleID,serviceID:e.serviceID})));const e={list:this.roleServiceList},t=await this.$request.getRequest("COM21400341",e,!1);t.header.result&&(this.onGetRoleList(),this.roleServiceList=[],this.roleListForRemove=[],this.$dialog.onOpen({dialogMode:"Success",content:this.$t("com214003sc00.remove_service_success"),callback:()=>o.Fy.dismiss()}),this.clearForm())},statusConverter(e){switch(e){case"Linked":return"active";default:return"inactive"}},handlePagination(e){this.currentPage=e,this.isReset=!1,this.onGetServiceList()},handleStartingIndex(e){this.startingIndex=e},onHighLightParentNode(){if(this.selectedRole.isTempNewRole){const e=this.roleTree.findIndex((e=>e.userRoleID==this.selectedRole.parentUserRoleID));e>-1&&(this.roleTree[e].state.highLightParentNode=!0)}},onResetHighLightParentNode(){const e=this.roleTree.findIndex((e=>e.userRoleID==this.selectedRole.parentUserRoleID));e>-1&&(this.roleTree[e].state.highLightParentNode=!1)},clearForm(){this.linkToRole="",this.searchServiceIDName="",this.searchByServiceID=""},async approvalRequest(){""!=this.approvalType&&await this.$approval.getAuthorizationDetail().then((async e=>{let t=JSON.parse(e.body.requestContent);if(this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal","delete"==this.$util.checkServiceIdType(e.body.serviceID))this.isApprovalDeletedStatus=!0,console.log("authDetailParsed.list",t.list),t.list.forEach((e=>{const t=this.flattenTree(this.roleTree);t.find((t=>{e.userRoleID==t.parentUserRoleID&&e.serviceID==t.serviceID&&(t.state={indeterminate:!1,checked:!0,selected:!0,expanded:!1},this.cloneServiceRoleData.push({serviceID:t.serviceID,serviceIDName:t.serviceIDName,parentUserRoleID:t.parentUserRoleID}))}))}));else{const e={serviceID:"",serviceIDName:"",pageNumber:1,pageSize:5e4,userRoleID:t.list[0].userRoleID},i=await this.$request.getRequest("COM21400312",e,!1);if(i.header.result){const e=i.body.list;t.list.find((t=>{e.find((e=>{t.serviceID==e.serviceID&&this.cloneServiceRoleData.push({serviceID:e.serviceID,serviceIDName:e.serviceIDName,parentUserRoleID:t.userRoleID})}))})),this.roleList=[...this.roleList,...this.cloneServiceRoleData],this.transformAndExpandTreeData(this.roleList);const s=this.flattenTree(this.roleTree);s.find((e=>{this.cloneServiceRoleData.find((t=>{e.serviceID!=t.serviceID||t.parentUserRoleID!=e.parentUserRoleID||(e.state={indeterminate:!1,checked:!1,selected:!0,expanded:!1})}))})),setTimeout((()=>{let e=document.querySelector("#tree_active");if(e){const t=e.querySelector(".active");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}}),50)}}}))},apprrovalRoleActive(){const e=this.flattenTree(this.roleTree);e.find((e=>{this.cloneServiceRoleData.find((t=>{e.serviceID!=t.serviceID||t.parentUserRoleID!=e.parentUserRoleID||(this.isApprovalDeletedStatus?e.state={indeterminate:!1,checked:!0,selected:!0,expanded:!1}:e.state={indeterminate:!1,checked:!1,selected:!0,expanded:!1})}))}))},flattenTree(e){const t=[];return e.forEach((e=>{if(t.push(e),e.nodes.length>0){const i=this.flattenTree(e.nodes);t.push(...i)}})),t}}}),s()}catch(d){s(d)}}))},90121:function(e,t,i){i.a(e,(async function(e,s){try{var a=i(55864),r=i(44104),n=(i(55241),i(83744)),o=e([r]);r=(o.then?(await o)():o)[0];const c=(0,n.Z)(r.Z,[["render",a.s],["__scopeId","data-v-6668b2f2"]]);t["Z"]=c,s()}catch(c){s(c)}}))},21638:function(e,t,i){i.d(t,{Z:function(){return g}});var s=i(66252),a=i(3577);const r=e=>((0,s.dD)("data-v-3886d7e2"),e=e(),(0,s.Cn)(),e),n={class:"grid_footer"},o={key:0,class:"grid_option"},c={class:"list_count"},l=r((()=>(0,s._)("dd",null,[(0,s._)("span",null," item(s)")],-1))),h={key:1,class:"paginaton"};function d(e,t){const i=(0,s.up)("ion-button");return(0,s.wg)(),(0,s.iD)("div",n,[e.showTotal?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[(0,s._)("dl",null,[(0,s._)("dt",null,[(0,s._)("strong",null,(0,a.zw)(e.$util.addComma(e.totalCount,3)),1)]),l])])])):(0,s.kq)("",!0),e.perPage>0&&e.totalCount>0&&e.totalCount>e.perPage?((0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)(i,{class:"btn_page_prev",onClick:e.backwardPagination,disabled:e.isDisabledPrev},{default:(0,s.w5)((()=>[(0,s.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.totalPagination,(t=>((0,s.wg)(),(0,s.iD)("li",null,[(0,s.Wm)(i,{class:(0,a.C_)([e.currentPage==t?"on":""]),onClick:i=>e.onClickPagination(t),disabled:"..."===t},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(t),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,s.Wm)(i,{class:"btn_page_next",onClick:e.forwardPagination,disabled:e.isDisabledNext},{default:(0,s.w5)((()=>[(0,s.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,s.kq)("",!0)])}var u=(0,s.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(e){e&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(e){this.currentPage=e;const t=[];if(this.endPagination-this.currentPage>=this.maxPageShow){t.push(this.currentPage.toString());for(let i=0;i<this.maxPageShow-4;i++)t.push((e+i+1).toString());t.push("..."),t.push((this.endPagination-1).toString()),t.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let i=1;i<=this.endPagination;i++)t.push(i.toString());else for(let i=this.endPagination-this.maxPageShow+1;i<=this.endPagination;i++)t.push(i.toString());return this.totalPagination=t,e},dividePage(){const e=this.totalCount/this.perPage;if(e%1!=0){const t=e.toString().split(".");return(0,a.He)(t[0])+1}return(0,a.He)(e.toFixed())},onClickPagination(e){this.currentPage!=parseInt(e)&&(this.currentPage=parseInt(e),this.findPagination(parseInt(e)),this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let e=10==this.currentPage?9:10,t=this.currentPage-e;t<1?(t=1,await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let e=1==this.currentPage?9:10,t=this.currentPage+e;t>Number(this.totalPagination.slice(-1))?(t=Number(this.totalPagination.slice(-1)),await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),m=i(83744);const p=(0,m.Z)(u,[["render",d],["__scopeId","data-v-3886d7e2"]]);var g=p},72890:function(e,t,i){i.a(e,(async function(e,s){try{i.r(t);var a=i(77492),r=i(45557),n=(i(93869),i(83744)),o=e([r]);r=(o.then?(await o)():o)[0];const c=(0,n.Z)(r.Z,[["render",a.s],["__scopeId","data-v-2b8556fa"]]);t["default"]=c,s()}catch(c){s(c)}}))},55241:function(){},93869:function(){},44104:function(e,t,i){i.a(e,(async function(e,s){try{i.d(t,{Z:function(){return a.Z}});var a=i(28183),r=e([a]);a=(r.then?(await r)():r)[0],s()}catch(n){s(n)}}))},45557:function(e,t,i){i.a(e,(async function(e,s){try{i.d(t,{Z:function(){return a.Z}});var a=i(6915),r=e([a]);a=(r.then?(await r)():r)[0],s()}catch(n){s(n)}}))},55864:function(e,t,i){i.d(t,{s:function(){return n}});var s=i(66252),a=i(3577);const r={class:"bread_crumb"};function n(e,t){const i=(0,s.up)("ion-label");return(0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.breadcrumbs,((t,r)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:r},[t.menuIconID&&0==r?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,a.C_)(["icon_menu",[t.menuIconID]])},null,2)):(0,s.kq)("",!0),""==t.route||"/"==t.route?((0,s.wg)(),(0,s.j4)(i,{key:1},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1024)):(0,s.kq)("",!0),""!=t.route&&"/"!=t.route?((0,s.wg)(),(0,s.j4)(i,{key:2,onClick:i=>e.pathDriver(t.route,e.queryData)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1032,["onClick"])):(0,s.kq)("",!0)],64)))),128))])}},77492:function(e,t,i){i.d(t,{s:function(){return te}});var s=i(66252),a=i(3577),r=i(49963);const n=e=>((0,s.dD)("data-v-2b8556fa"),e=e(),(0,s.Cn)(),e),o={class:"contentWrap"},c={class:"bread_crumb"},l={class:"title_name"},h={class:"cont"},d={class:"card_box tree_wrap"},u={class:"row gap menu_mgmt"},m={class:"col-6"},p={class:"flex_column"},g={class:"flex_ui"},v={class:"flex_cont"},_={key:0,class:"flex_ui"},D={class:"btn_option"},S={class:"add"},I={class:"col-6 menu_detail_wrap"},f={class:"flex_column"},b={class:"flex_ui"},k={class:"flex_cont menu_detail"},R={class:""},y={class:"cont"},w={class:"row"},C={class:"col"},P={class:"form01"},$={class:"inp_box"},N={class:"inp"},L={class:"row"},x={class:"col"},M={class:"form01"},T={class:"inp_box"},A={class:"inp"},q={class:"row"},B={class:"col"},z={class:"form01"},U={class:"inp_box"},O={class:"inp"},F={key:0,class:"footer_btn row"},W={class:"right_side"},Z={key:1,class:"gridwrap no_grid_option"},V={class:"tableWrap"},E={class:"table01 fixed"},G=n((()=>(0,s._)("colgroup",null,[(0,s._)("col",{style:{width:"80px"}}),(0,s._)("col"),(0,s._)("col")],-1))),H={class:"sticky_head"},Y={class:"tbody_section"},J=["id","onClick"],K={key:0,class:"no_data"},j={key:0,class:"flex_ui"},Q={key:0,class:"btn_option"},X={class:"cancel"},ee={class:"save"};function te(e,t){const i=(0,s.up)("ion-label"),n=(0,s.up)("Tree"),te=(0,s.up)("ion-button"),ie=(0,s.up)("ion-input"),se=(0,s.up)("ion-checkbox"),ae=(0,s.up)("Pagination"),re=(0,s.up)("ApprovalReason");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("com214003sc00.ib_management")),1)])),_:1}),(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("com214003sc00.ib_service")),1)])),_:1}),(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.$t("com214003sc00.ib_service_role_mapping")),1)])),_:1})]),(0,s._)("h1",l,(0,a.zw)(e.$t("com214003sc00.ib_service_role_mapping")),1),(0,s._)("div",h,[(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("h4",null,(0,a.zw)(e.$t("com214003sc00.role_list")),1)]),(0,s._)("div",v,[(0,s.Wm)(n,{ref:"ib-menu-tree-edit-ref",id:"ib-menu-tree-edit","expanded-all":!0,classIcon:["open-tree-folder","close-tree-folder"],icons:["fa-folder","fa-folder-open"],nodes:e.roleTree,onOnSelected:e.onSelectRoleList,showCheckbox:!0,onOnCheckChange:e.onCheckTreeList,isDisabledSearch:e.isAddService||"read"==e.operationMode||"approval"==e.operationMode,isDisabledCheckBox:"read"==e.operationMode||"approval"==e.operationMode},null,8,["nodes","onOnSelected","onOnCheckChange","isDisabledSearch","isDisabledCheckBox"])]),"normal"==e.operationMode?((0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",D,[(0,s.Wm)(te,{class:"btn03",onClick:t[0]||(t[0]=t=>e.onClickModalRemove()),disabled:0==e.roleListForRemove.length||e.isAddService},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,a.zw)(e.$t("common.remove_service")),1)])),_:1},8,["disabled"]),(0,s.Wm)(te,{class:"btn01 btn_ico",onClick:t[1]||(t[1]=t=>e.onClickAddService()),disabled:!e.selectedRole.nodes||e.isAddService},{default:(0,s.w5)((()=>[(0,s._)("span",S,(0,a.zw)(e.$t("common.add_service")),1)])),_:1},8,["disabled"])])])):(0,s.kq)("",!0)])]),(0,s._)("div",I,[(0,s._)("div",f,[(0,s._)("div",b,[(0,s._)("h4",null,(0,a.zw)(e.isAddService?e.$t("com214003sc00.search_service"):e.$t("com214003sc00.service_detail")),1)]),(0,s._)("div",k,[(0,s._)("div",R,[(0,s._)("div",y,[(0,s._)("div",w,[(0,s._)("div",C,[(0,s._)("dl",P,[(0,s._)("dt",null,(0,a.zw)(e.$t("com214003sc00.link_to_role")),1),(0,s._)("dd",null,[(0,s._)("div",$,[(0,s._)("div",N,[(0,s.Wm)(ie,{class:"line",disabled:"",value:""==e.selectedRole.serviceID?"":e.linkToRole},null,8,["value"])])])])])])]),(0,s._)("div",L,[(0,s._)("div",x,[(0,s._)("dl",M,[(0,s._)("dt",null,(0,a.zw)(e.$t("com214003sc00.service_id")),1),(0,s._)("dd",null,[(0,s._)("div",T,[(0,s._)("div",A,[(0,s.Wm)(ie,{class:"line",readonly:!e.isAddService,placeholder:e.isAddService?e.$t("com214003sc00.enter_service_ID"):"",value:"",modelValue:e.searchByServiceID,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchByServiceID=t),onKeyup:(0,r.D2)(e.onClickSearchServiceList,["enter"])},null,8,["readonly","placeholder","modelValue","onKeyup"])])])])])])]),(0,s._)("div",q,[(0,s._)("div",B,[(0,s._)("dl",z,[(0,s._)("dt",null,(0,a.zw)(e.$t("com214003sc00.service_name")),1),(0,s._)("dd",null,[(0,s._)("div",U,[(0,s._)("div",O,[(0,s.Wm)(ie,{class:"line",readonly:!e.isAddService,placeholder:e.isAddService?e.$t("com214003sc00.enter_service_name"):"",value:"",modelValue:e.searchServiceIDName,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchServiceIDName=t),onKeyup:(0,r.D2)(e.onClickSearchServiceList,["enter"])},null,8,["readonly","placeholder","modelValue","onKeyup"])])])])])])])]),e.isAddService?((0,s.wg)(),(0,s.iD)("div",F,[(0,s._)("div",W,[(0,s.Wm)(te,{class:"btn01",onClick:t[4]||(t[4]=t=>e.onClickSearchServiceList())},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,a.zw)(e.$t("common.search")),1)])),_:1}),(0,s.Wm)(te,{class:"btn_refresh",onClick:t[5]||(t[5]=t=>e.resetServiceList())})])])):(0,s.kq)("",!0),e.isAddService?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",V,[(0,s._)("table",E,[G,(0,s._)("thead",H,[(0,s._)("tr",null,[(0,s._)("th",null,[(0,s._)("span",null,[(0,s.Wm)(se,{disabled:e.disableMainCheckBox,modelValue:e.isCheckAll,"onUpdate:modelValue":t[6]||(t[6]=t=>e.isCheckAll=t),onIonChange:t[7]||(t[7]=t=>e.checkAllServiceList())},null,8,["disabled","modelValue"])])]),(0,s._)("th",null,[(0,s._)("span",null,(0,a.zw)(e.$t("com214003sc00.service_id")),1)]),(0,s._)("th",null,[(0,s._)("span",null,(0,a.zw)(e.$t("com214003sc00.service_name")),1)]),(0,s._)("th",null,[(0,s._)("span",null,(0,a.zw)(e.$t("com214003sc00.link")),1)])])]),(0,s._)("tbody",Y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.serviceList,((t,i)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.serviceID,id:`row-${e.startingIndex+i}`,onClick:t=>e.$util.rowFocus(`row-${e.startingIndex+i}`)},[(0,s._)("td",null,[(0,s.Wm)(se,{class:(0,a.C_)({isLinked:"Y"==t.linkedStatus}),disabled:"Y"==t.linkedStatus,modelValue:t.checked,"onUpdate:modelValue":e=>t.checked=e,onIonChange:i=>e.checkServiceList(t)},null,8,["class","disabled","modelValue","onUpdate:modelValue","onIonChange"])]),(0,s._)("td",null,[(0,s._)("span",null,(0,a.zw)(t.serviceID?t.serviceID:""),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,a.zw)(t.serviceIDName?t.serviceIDName:""),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,a.zw)("Y"==t.linkedStatus?e.$t("com214003sc00.linked"):e.$t("com214003sc00.not_linked")),1)])],8,J)))),128))])]),0===e.totalScreenItems?((0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("p",null,(0,a.zw)(e.$t("common.no_data")),1)])):(0,s.kq)("",!0)]),(0,s.Wm)(ae,{totalCount:e.totalScreenItems,resetPage:e.isReset,perPage:e.pageSize,onGetPageNumber:e.handlePagination,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","resetPage","perPage","onGetPageNumber","onGetStartingIndex"])])):(0,s.kq)("",!0)])]),"normal"==e.operationMode?((0,s.wg)(),(0,s.iD)("div",j,[e.isAddService?((0,s.wg)(),(0,s.iD)("div",Q,[(0,s.Wm)(te,{class:"btn03 btn_ico",onClick:t[8]||(t[8]=t=>e.onModalCancel())},{default:(0,s.w5)((()=>[(0,s._)("span",X,(0,a.zw)(e.$t("common.cancel")),1)])),_:1}),(0,s._)("div",null,[(0,s.Wm)(te,{class:"btn01 btn_ico",onClick:t[9]||(t[9]=t=>e.onClickModalSave())},{default:(0,s.w5)((()=>[(0,s._)("span",ee,(0,a.zw)(e.$t("common.save")),1)])),_:1})])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])])])]),"normal"!==e.operationMode?((0,s.wg)(),(0,s.j4)(re,{key:0,payload:e.approvalRes},null,8,["payload"])):(0,s.kq)("",!0)])}}}]);
//# sourceMappingURL=9135.5b10b1dd.js.map