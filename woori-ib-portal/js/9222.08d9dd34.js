"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9222,580],{24207:function(e,t,a){a.a(e,(async function(e,o){try{var s=a(66252),n=a(41762),l=a(58234),d=a(43493),i=a(67609),r=a(15828),u=a(90121),p=a(67201),m=e([u]);u=(m.then?(await m)():m)[0];const h=new l.I;var c;(function(e){e["amountFee"]="01",e["rateFee"]="02"})(c||(c={})),t["Z"]=(0,s.aZ)({name:"pfm203001sc01",components:{VueDatePicker:n.Z,CurrencyInput:i.Z,ModifyCard:r.Z,BreadCrumb:u.Z,SelectOption:p.Z},data(){const e={applySeqNo:"",productFeeCode:"",feeApplyStatusCode:"",feeCurrencyCode:"",feeCalcApplyBaseCode:"01",applyStartDate:new Date,applyEndDate:new Date,rangeEndAmount:"0",rangeStartAmount:"0",baseFeeAmount:"0",baseFeeRate:"0",feeMaxAmount:"0",feeMinAmount:"0",maxFeeRate:"0",minFeeRate:"0"},t={},a=[],o={feeName:"",applyStartDate:"",applyEndDate:"",feeDescription:"",productFeeCode:"",feeCurrencyCode:"",feeShortName:"",applySeqNo:"",feeCalcApplyBaseCode:""},s={registerTellerId:"",registerTellerName:"",registerDate:"",registerTime:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:"",deleteTellerId:"",deleteTellerName:"",deleteDate:"",deleteTime:""};return{productFeeCodeEdit:"",feeName:"",feeAmount:e,feeAmountDate:t,productFeeCodeList:a,selectProductFeeCode:o,modifyCard:s,showDisabled:!1,showDefault:!1,isInvalid:!1,disableKey:!1,applyEndDate:"",applyStartDate:"",feeCurrencyCode:"",newProductFeeCode:"",minDate:"",maxDate:"",isInvalidMinMaxBaseAmount:!1,isInvalidMinMaxBaseRate:!1,isInvalidBaseFeeRate:!1,isDisableFeeCalcBaseCode:!1,isInvalidFeeCalcBaseCode:!1,isDisableBaseFeeRate:!1,isDisableBaseFeeAmount:!1,approvalRes:{},operationMode:"normal",productFee:{calcCode:"",startDate:new Date,endDate:new Date}}},async created(){""===this.approvalType?(await this.getProductFeeCodeList(),"edit"===this.queryRoute.type?(this.inputUpdate(),await this.getFeeAmountRangeDetail()):this.inputRegister()):(await this.getProductFeeCodeList(),await this.$approval.getAuthorizationDetail().then((async e=>{let t=JSON.parse(e.body.requestContent);if(this.approvalRes=e.body,this.selectProductFeeCode.productFeeCode=t.productFeeCode,this.selectProductFeeCode.feeCurrencyCode=t.feeCurrencyCode,this.newProductFeeCode=t.productFeeCode,this.productFeeCodeList.length>0){const e=this.productFeeCodeList.find((e=>e.productFeeCode==t.productFeeCode&&e.feeCurrencyCode==t.feeCurrencyCode));e&&(this.productFeeCodeEdit=`${e.productFeeCode} : ${e.feeName}`||"")}if(this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal","delete"==this.$util.checkServiceIdType(e.body.serviceID)){const e={productFeeCode:String(t.productFeeCode),feeCurrencyCode:String(t.feeCurrencyCode),applyStartDate:String(t.applyStartDate),rangeStartAmount:Number(t.rangeStartAmount),rangeEndAmount:Number(t.rangeEndAmount),applySeqNo:Number(t.applySeqNo)},a=await this.$request.getRequest("PFM20300112",e,!1);this.feeAmount={applySeqNo:a.body.applySeqNo,feeApplyStatusCode:a.body.feeApplyStatusCode,rangeEndAmount:a.body.rangeEndAmount,rangeStartAmount:a.body.rangeStartAmount,maxFeeRate:a.body.maxFeeRate,minFeeRate:a.body.minFeeRate,feeMaxAmount:a.body.feeMaxAmount,feeMinAmount:a.body.feeMinAmount,feeCurrencyCode:a.body.feeCurrencyCode,baseFeeRate:a.body.baseFeeRate,baseFeeAmount:a.body.baseFeeAmount,applyStartDate:this.$datetime.convertStringToDate(a.body.applyStartDate),applyEndDate:this.$datetime.convertStringToDate(a.body.applyEndDate),productFeeCode:a.body.productFeeCode,feeCalcApplyBaseCode:a.body.feeCalcApplyBaseCode}}else this.feeAmount={applySeqNo:t.applySeqNo,feeApplyStatusCode:t.feeApplyStatusCode,rangeEndAmount:t.rangeEndAmount,rangeStartAmount:t.rangeStartAmount,maxFeeRate:t.maxFeeRate,minFeeRate:t.minFeeRate,feeMaxAmount:t.feeMaxAmount,feeMinAmount:t.feeMinAmount,feeCurrencyCode:t.feeCurrencyCode,baseFeeRate:t.baseFeeRate,baseFeeAmount:t.baseFeeAmount,applyStartDate:this.$datetime.convertStringToDate(t.applyStartDate),applyEndDate:this.$datetime.convertStringToDate(t.applyEndDate),productFeeCode:t.productFeeCode,feeCalcApplyBaseCode:t.feeCalcApplyBaseCode}})))},computed:{queryRoute(){return this.$route.query},displayName(){return"edit"===this.queryRoute.type?(this.showDisabled,this.$t("pfm203001sc01.label.fee_by_amount_edit")):this.$t("pfm203001sc01.label.fee_by_amount_register")},formattedStartDate(){return this.$datetime.formatVueDatePicker(this.feeAmount.applyStartDate)},formattedEndDate(){return this.$datetime.formatVueDatePicker(this.feeAmount.applyEndDate)},validateRangeAmount(){return Number(this.feeAmount.rangeStartAmount)>Number(this.feeAmount.rangeEndAmount)},approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},isDisableRate(){return this.productFee.calcCode!==c.rateFee},isDisableAmount(){return this.productFee.calcCode!==c.amountFee},isInvalidFieldFeeCalcBaseCode(){return""===this.feeAmount.feeCalcApplyBaseCode},invalidFeeMinAmountByFeeCalc(){return Number(this.feeAmount.feeMinAmount)>Number(this.feeAmount.feeMaxAmount)}},watch:{selectProductFeeCode:{handler(e){this.feeCurrencyCode=e.feeCurrencyCode,this.newProductFeeCode=e.productFeeCode,this.productFee.startDate=this.$datetime.convertStringToDate(e.applyStartDate),this.productFee.endDate=this.$datetime.convertStringToDate(e.applyEndDate),this.productFee.calcCode=e.feeCalcApplyBaseCode,"register"==this.$route.query.type&&(this.feeAmount.applyStartDate=this.$datetime.convertStringToDate(e.applyStartDate),this.feeAmount.applyEndDate=this.$datetime.convertStringToDate(e.applyEndDate)),"edit"!==this.$route.query.type&&(this.productFeeCodeEdit=`${e.productFeeCode} : ${e.feeName}`||"")},deep:!0},feeAmount:{handler(e){"02"===e.feeCalcApplyBaseCode?(e.feeMinAmount>e.feeMaxAmount?this.isInvalid=!0:this.isInvalid=!1,this.isDisableFeeCalcBaseCode=!1,this.isDisableBaseFeeRate=!1,this.isDisableBaseFeeAmount=!0,this.feeAmount.baseFeeAmount="0"):(this.isDisableFeeCalcBaseCode=!0,this.isDisableBaseFeeRate=!0,this.isDisableBaseFeeAmount=!1,this.feeAmount.baseFeeRate="0",e.feeMaxAmount=e.baseFeeAmount,e.feeMinAmount=e.baseFeeAmount)},deep:!0},"feeAmount.applyEndDate"(e){e&&1==h.startDateEndDateValidation(this.feeAmount.applyStartDate,this.feeAmount.applyEndDate)&&(this.isInvalid=!1)},"feeAmount.applyStartDate"(e){e&&1==h.startDateEndDateValidation(this.feeAmount.applyStartDate,this.feeAmount.applyEndDate)&&(this.isInvalid=!0)},"feeAmount.productFeeCode"(e){this.isInvalid=h.validateWhiteSpace(e)}},methods:{inputRegister(){this.showDefault=!0,this.showDisabled=!1,this.disableKey=!0},inputUpdate(){this.showDefault=!1,this.showDisabled=!0,this.disableKey=!0},handleEdit(){this.inputRegister(),this.disableKey=!1},async getProductFeeCodeList(){const e={feeCalcMethodTypeCode:"02"},t=await this.$request.getRequest("PFM20100113",e,!1);t.header.result&&(this.productFeeCodeList=t.body.list)},async getFeeAmountRangeDetail(){const e={productFeeCode:String(this.queryRoute.productFeeCode),feeCurrencyCode:String(this.queryRoute.feeCurrencyCode),applyStartDate:String(this.queryRoute.applyStartDate),rangeStartAmount:Number(this.queryRoute.rangeStartAmount),rangeEndAmount:Number(this.queryRoute.rangeEndAmount),applySeqNo:Number(this.queryRoute.applySeqNo)},t=await this.$request.getRequest("PFM20300112",e,!1);if(t.header.result){const e=JSON.parse(JSON.stringify(t.body));if(this.feeAmountDate=JSON.parse(JSON.stringify(t.body)),this.selectProductFeeCode.productFeeCode=String(this.queryRoute.productFeeCode),this.selectProductFeeCode.feeCurrencyCode=String(this.queryRoute.feeCurrencyCode),this.productFeeCodeList.length>0){const e=this.productFeeCodeList.find((e=>e.productFeeCode==t.body.productFeeCode&&e.feeCurrencyCode==t.body.feeCurrencyCode));e&&(this.productFeeCodeEdit=`${e.productFeeCode} : ${e.feeName}`||"")}this.feeAmount={feeApplyStatusCode:e.feeApplyStatusCode,rangeEndAmount:e.rangeEndAmount,rangeStartAmount:e.rangeStartAmount,maxFeeRate:e.maxFeeRate,minFeeRate:e.minFeeRate,feeMaxAmount:e.feeMaxAmount,feeMinAmount:e.feeMinAmount,feeCurrencyCode:String(this.queryRoute.feeCurrencyCode),baseFeeRate:e.baseFeeRate,baseFeeAmount:e.baseFeeAmount,applyStartDate:this.$datetime.convertStringToDate(e.applyStartDate),applyEndDate:this.$datetime.convertStringToDate(e.applyEndDate),productFeeCode:String(this.queryRoute.productFeeCode),applySeqNo:e.applySeqNo,feeCalcApplyBaseCode:e.feeCalcApplyBaseCode},this.modifyCard={registerTellerId:String(this.feeAmountDate.firstRegisterTellerID),registerTellerName:String(this.feeAmountDate.firstRegisterTellerName),registerDate:String(this.feeAmountDate.firstRegisterDate),registerTime:String(this.feeAmountDate.firstRegisterTime),updatedTellerId:"04"===this.feeAmount.feeApplyStatusCode?"":t.body.lastChangeTellerID,updatedTellerName:"04"===this.feeAmount.feeApplyStatusCode?"":t.body.lastChangeTellerName,updatedDate:"04"===this.feeAmount.feeApplyStatusCode?"":t.body.lastChangeDate,updatedTime:"04"===this.feeAmount.feeApplyStatusCode?"":t.body.lastChangeTime,deleteTellerId:"04"===this.feeAmount.feeApplyStatusCode?t.body.lastChangeTellerID:"",deleteTellerName:"04"===this.feeAmount.feeApplyStatusCode?t.body.lastChangeTellerName:"",deleteDate:"04"===this.feeAmount.feeApplyStatusCode?t.body.lastChangeDate:"",deleteTime:"04"===this.feeAmount.feeApplyStatusCode?t.body.lastChangeTime:""}}},validateAmountAndRate(e,t,a){let o;return o=!(e>t||t>a),o},handleSave(){this.isInvalid=!1,""===this.selectProductFeeCode.productFeeCode||"Invalid Date"===this.feeAmount.applyStartDate.toString()&&"Invalid Date"===this.feeAmount.applyEndDate.toString()||!h.startDateEndDateValidation(this.feeAmount.applyStartDate,this.feeAmount.applyEndDate)||Number(this.feeAmount.feeMinAmount)>Number(this.feeAmount.feeMaxAmount)||!h.minMaxValueValidation(Number(this.feeAmount.rangeStartAmount),Number(this.feeAmount.rangeEndAmount))?this.isInvalid=!0:(this.applyStartDate=this.$datetime.convertDateToString(new Date(this.feeAmount.applyStartDate)),this.applyEndDate=this.$datetime.convertDateToString(new Date(this.feeAmount.applyEndDate)),this.$dialog.onOpen({content:`${this.$t("message.would_you_like_to_save")}`,dialogMode:"Question",callback:()=>{"edit"===this.queryRoute.type?this.updateFeeAmountRange().then((e=>{e&&(d.Fy.dismiss(),this.getFeeAmountRangeDetail(),this.inputUpdate())})):this.registerFeeAmountRange().then((e=>{e&&(d.Fy.dismiss(),this.goToList())})),d.Fy.dismiss()}}))},async updateFeeAmountRange(){const e={productFeeCode:this.selectProductFeeCode.productFeeCode,feeCurrencyCode:this.selectProductFeeCode.feeCurrencyCode,applyStartDate:this.applyStartDate,applyEndDate:this.applyEndDate,rangeEndAmount:""!==this.feeAmount.rangeEndAmount?Number(this.feeAmount.rangeEndAmount):0,rangeStartAmount:""!==this.feeAmount.rangeStartAmount?Number(this.feeAmount.rangeStartAmount):0,baseFeeAmount:""!==this.feeAmount.baseFeeAmount?Number(this.feeAmount.baseFeeAmount):0,baseFeeRate:""!==this.feeAmount.baseFeeRate?Number(this.feeAmount.baseFeeRate):0,feeMaxAmount:""!==this.feeAmount.feeMaxAmount?Number(this.feeAmount.feeMaxAmount):0,feeMinAmount:""!==this.feeAmount.feeMinAmount?Number(this.feeAmount.feeMinAmount):0,maxFeeRate:""!==this.feeAmount.maxFeeRate?Number(this.feeAmount.maxFeeRate):0,minFeeRate:""!==this.feeAmount.minFeeRate?Number(this.feeAmount.minFeeRate):0,applySeqNo:Number(this.feeAmount.applySeqNo),feeApplyStatusCode:this.feeAmount.feeApplyStatusCode,feeCalcApplyBaseCode:this.feeAmount.feeCalcApplyBaseCode},t=await this.$request.getRequest("PFM20300131",e,!1);return t.header.result&&this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.getFeeAmountRangeDetail(),d.Fy.dismiss()}}),t.header.result},async registerFeeAmountRange(){const e={productFeeCode:this.selectProductFeeCode.productFeeCode,feeCurrencyCode:this.selectProductFeeCode.feeCurrencyCode,applyStartDate:this.applyStartDate,applyEndDate:this.applyEndDate,rangeEndAmount:""!==this.feeAmount.rangeEndAmount?Number(this.feeAmount.rangeEndAmount):0,rangeStartAmount:""!==this.feeAmount.rangeStartAmount?Number(this.feeAmount.rangeStartAmount):0,baseFeeAmount:""!==this.feeAmount.baseFeeAmount?Number(this.feeAmount.baseFeeAmount):0,baseFeeRate:""!==this.feeAmount.baseFeeRate?Number(this.feeAmount.baseFeeRate):0,feeMaxAmount:""!==this.feeAmount.feeMaxAmount?Number(this.feeAmount.feeMaxAmount):0,feeMinAmount:""!==this.feeAmount.feeMinAmount?Number(this.feeAmount.feeMinAmount):0,maxFeeRate:""!==this.feeAmount.maxFeeRate?Number(this.feeAmount.maxFeeRate):0,minFeeRate:""!==this.feeAmount.minFeeRate?Number(this.feeAmount.minFeeRate):0,feeCalcApplyBaseCode:this.feeAmount.feeCalcApplyBaseCode},t=await this.$request.getRequest("PFM20300121",e,!1);return t.header.result&&this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{d.Fy.dismiss()}}),t.header.result},handleDelete(){this.$dialog.onOpen({content:`${this.$t("message.are_you_sure_you_want_to_delete")}`,dialogMode:"Question",callback:()=>{this.deleteData(),d.Fy.dismiss()}})},async deleteData(){const e={productFeeCode:String(this.queryRoute.productFeeCode),feeCurrencyCode:String(this.queryRoute.feeCurrencyCode),applyStartDate:String(this.queryRoute.applyStartDate),rangeStartAmount:Number(this.queryRoute.rangeStartAmount),rangeEndAmount:Number(this.queryRoute.rangeEndAmount),applySeqNo:Number(this.queryRoute.applySeqNo)},t=await this.$request.getRequest("PFM20300141",e,!1);t&&(this.$dialog.onOpen({content:this.$t("message.delete_success"),dialogMode:"Success",callback:()=>{d.Fy.dismiss(),this.$router.push("/PFM203001SC00")}}),this.$router.back())},goToList(){this.$router.push("PFM203001SC00")},handleCancel(){this.$dialog.onOpen({content:`${"edit"===this.queryRoute.type?this.$t("message.cancel_without_saving_changes"):this.$t("message.are_you_sure_you_want_to_cancel_registration?")}`,dialogMode:"Question",callback:()=>{d.Fy.dismiss(),"edit"===this.queryRoute.type?(this.inputUpdate(),this.getFeeAmountRangeDetail()):this.goToList()}})}}}),o()}catch(h){o(h)}}))},67609:function(e,t,a){a.d(t,{Z:function(){return f}});var o=a(66252),s=a(3577);const n={key:0,class:"unit"};function l(e,t){const a=(0,o.up)("ion-input");return(0,o.wg)(),(0,o.j4)(a,{class:(0,s.C_)([[e.showCurrency&&"inp_amount","line","type_amount","right"===e.textAlign?"align-right":""],"type_amount"]),value:e.displayVal,maxLength:16,style:(0,s.j5)({"text-align":e.textAlign}),onKeydown:e.onKeyDown,onIonInput:e.onChange,onIonBlur:e.onBlur,onIonFocus:e.onFocus},{default:(0,o.w5)((()=>[e.showCurrency?((0,o.wg)(),(0,o.iD)("span",n,(0,s.zw)(e.currency),1)):(0,o.kq)("",!0)])),_:1},8,["class","value","style","onKeydown","onIonInput","onIonBlur","onIonFocus"])}const d=8,i=37,r=39,u=46,p=13,m=190;var c=(0,o.aZ)({name:"CurrencyInput",props:{modelValue:{type:String,required:!0},currency:{type:String,required:!0,default:"USD"},showCurrency:{type:Boolean,default:!0},autoConvert:{type:String,default:"USD"},textAlign:{type:String,default:"right"}},emits:["update:modelValue"],data(){return{displayVal:"0",isFocus:!1}},mounted(){"KHR"==this.autoConvert?this.onFormat(""+4e3*Number(this.modelValue)):this.onFormat(this.modelValue)},watch:{modelValue(e,t){"KHR"==this.autoConvert?e!==t&&(this.isFocus?this.onUnformat(4e3*e):this.onFormat(4e3*e)):e!==t&&(this.isFocus?this.onUnformat(e):this.onFormat(e))},currency(){"KHR"==this.autoConvert?this.isFocus?this.onUnformat(4e3*Number(this.modelValue)):this.onFormat(4e3*Number(this.modelValue)):this.isFocus?this.onUnformat(this.modelValue):this.onFormat(this.modelValue)}},methods:{onUnformat(e){if(!e||"0"==e||0==e||"0.00"==e)return void(this.displayVal="0");const t=e.toString();if("string"==typeof t&&t.includes(",")){const e=t.toString();this.displayVal=this.$format.unformatCurrency(e)}else this.displayVal=t},onFormat(e){if(!e||"0"==e||0==e)return void(this.displayVal="USD"==this.currency?"0.00":"0");const t=e.toString();if("string"!=typeof t||t.includes(","))this.displayVal=t;else{const e=parseFloat(t);this.displayVal=this.$format.formatCurrency(e,this.currency)}},onChange(e){const t=e.target.value;this.$emit("update:modelValue",t)},onKeyDown(e){const t=e,a=t.which?t.which:t.keyCode;if(/\d/.test(e.key)||a===d||a===i||a===r||a===u||a===p||a===m){if(a===p)this.onBlur();else if(a===m)("KHR"==this.currency||"string"===typeof this.modelValue&&this.modelValue.includes("."))&&e.preventDefault();else if(/\d/.test(e.key)&&"string"===typeof this.modelValue&&this.modelValue.includes(".")){const a=this.modelValue.split(".");a.length>1&&e.currentTarget.getInputElement().then((e=>{const o=e.selectionEnd;(o==this.modelValue.length&&2==a[1].length||o==this.modelValue.length-1&&2==a[1].length||o==this.modelValue.length-2&&2==a[1].length)&&t.preventDefault()}))}}else t.preventDefault()},onBlur(){this.onFormat(this.modelValue),this.isFocus=!1},onFocus(){this.onUnformat(this.modelValue),this.isFocus=!0}}}),h=a(83744);const y=(0,h.Z)(c,[["render",l],["__scopeId","data-v-50b37962"]]);var f=y},15828:function(e,t,a){a.d(t,{Z:function(){return f}});var o=a(66252),s=a(3577);const n={key:0,class:"row gap detail_info"},l={key:0,class:"col"},d={class:"sub"},i={key:1,class:"col"},r={class:"sub"},u={key:2,class:"col"},p={class:"sub"};function m(e,t){return e.isShowRegister||e.isShowUpdate||e.isShowDelete?((0,o.wg)(),(0,o.iD)("div",n,[e.isShowRegister?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("dl",null,[(0,o._)("dt",null,(0,s.zw)(e.$t("common.created_date")),1),(0,o._)("dd",null,[(0,o._)("strong",null,(0,s.zw)(e.createdEmployee),1),(0,o.Uk)(),(0,o._)("span",d,(0,s.zw)(e.createdDate),1)])])])):(0,o.kq)("",!0),e.isShowUpdate?((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("dl",null,[(0,o._)("dt",null,(0,s.zw)(e.$t("common.updated_date")),1),(0,o._)("dd",null,[(0,o._)("strong",null,(0,s.zw)(e.updatedEmployee),1),(0,o._)("span",r,(0,s.zw)(e.updatedDate),1)])])])):(0,o.kq)("",!0),e.isShowDelete?((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("dl",null,[(0,o._)("dt",null,(0,s.zw)(e.$t("common.deleted_date")),1),(0,o._)("dd",null,[(0,o._)("strong",null,(0,s.zw)(e.deletedEmployee),1),(0,o._)("span",p,(0,s.zw)(e.deletedDate),1)])])])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)}var c=(0,o.aZ)({name:"modify-card",props:{data:{type:Object,required:!0}},computed:{createdEmployee(){return`${this.data.registerTellerName||""} ${this.data.registerTellerId?.trim()?`(${this.data.registerTellerId})`:""}`},createdDate(){return`${this.$datetime.formatStringToTime(this.data.registerTime?this.data.registerTime:"")} ${this.$datetime.formatStringToStringDate(this.data.registerDate?this.data.registerDate:"")}`},updatedEmployee(){return`${this.data.updatedTellerName||""} ${this.data.updatedTellerId?.trim()?`(${this.data.updatedTellerId})`:""}`},updatedDate(){return`${this.$datetime.formatStringToTime(this.data.updatedTime?this.data.updatedTime:"")} ${this.$datetime.formatStringToStringDate(this.data.updatedDate?this.data.updatedDate:"")}`},deletedEmployee(){return`${this.data.deleteTellerName||""} ${this.data.deleteTellerId?.trim()?`(${this.data.deleteTellerId})`:""}`},deletedDate(){return`${this.$datetime.formatStringToTime(this.data.deleteTime?this.data.deleteTime:"")} ${this.$datetime.formatStringToStringDate(this.data.deleteDate?this.data.deleteDate:"")}`},isShowRegister(){return!!(this.data.registerDate?.trim()||this.data.registerTime?.trim()||this.data.registerTellerId?.trim()||this.data.registerTellerName?.trim())},isShowUpdate(){return!!(this.data.updatedDate?.trim()||this.data.updatedTime?.trim()||this.data.updatedTellerId?.trim()||this.data.updatedTellerName?.trim())},isShowDelete(){return!!(this.data.deleteDate?.trim()||this.data.deleteTime?.trim()||this.data.deleteTellerId?.trim()||this.data.deleteTellerName?.trim())}}}),h=a(83744);const y=(0,h.Z)(c,[["render",m]]);var f=y},80580:function(e,t,a){a.a(e,(async function(e,o){try{a.r(t);var s=a(59514),n=a(93247),l=(a(35950),a(83744)),d=e([n]);n=(d.then?(await d)():d)[0];const i=(0,l.Z)(n.Z,[["render",s.s],["__scopeId","data-v-c26050c2"]]);t["default"]=i,o()}catch(i){o(i)}}))},35950:function(){},93247:function(e,t,a){a.a(e,(async function(e,o){try{a.d(t,{Z:function(){return s.Z}});var s=a(24207),n=e([s]);s=(n.then?(await n)():n)[0],o()}catch(l){o(l)}}))},59514:function(e,t,a){a.d(t,{s:function(){return qe}});var o=a(66252),s=a(3577);const n=e=>((0,o.dD)("data-v-c26050c2"),e=e(),(0,o.Cn)(),e),l={class:"contentWrap"},d={class:"optwrap"},i={class:"title_name"},r={class:"cont"},u={class:"card_box"},p={class:"row gap"},m={class:"col"},c={class:"form01"},h=n((()=>(0,o._)("span",{class:"require"},"*",-1))),y={class:"inp"},f={key:0,class:"txt_error"},C={class:"col"},_={class:"form01"},A={class:"inp_box"},b={class:"inp"},g={class:"col"},D={class:"form01"},F={class:"inp_box"},S={class:"inp"},v={class:"row gap"},w={class:"col"},$={class:"form01"},R=n((()=>(0,o._)("span",{class:"require"},"*",-1))),M={class:"inp","hide-input-icon":""},q={key:0,class:"txt_error"},N={class:"col"},T={class:"form01"},x=n((()=>(0,o._)("span",{class:"require"},"*",-1))),k={class:"inp","hide-input-icon":""},V={key:0,class:"txt_error"},E={class:"col"},I={class:"form01"},B={class:"row gap"},z={class:"col-4"},P={class:"form01"},U=n((()=>(0,o._)("span",{class:"require"},"*",-1))),K={class:"inp_box"},W={class:"inp"},O={key:0,class:"txt_error"},Z={class:"col-4"},L={class:"form01"},j={class:"inp_box"},H={class:"inp"},J=n((()=>(0,o._)("span",{class:"unit"},"%",-1))),Q={class:"col"},Y={class:"form01"},G={class:"inp"},X={class:"unit"},ee={key:0,class:"txt_error"},te={class:"row gap"},ae={class:"col-4"},oe={class:"form01"},se={class:"inp_box"},ne={class:"inp"},le={class:"unit"},de={key:0,class:"txt_error"},ie={class:"col-4"},re={class:"form01"},ue={class:"inp_box"},pe={class:"inp"},me={class:"unit"},ce={class:"col-4"},he={class:"form01"},ye={class:"inp_box"},fe={class:"inp"},Ce={class:"unit"},_e={key:0,class:"txt_error"},Ae={class:"row gap"},be={class:"col-4"},ge={class:"form01"},De={class:"inp_box"},Fe={class:"inp"},Se={class:"unit"},ve={key:0,class:"footer_btn"},we={class:"left_side"},$e={class:"right_side"},Re={class:"edit"},Me={class:"save"};function qe(e,t){const a=(0,o.up)("BreadCrumb"),n=(0,o.up)("ion-select-option"),qe=(0,o.up)("ion-select"),Ne=(0,o.up)("ion-input"),Te=(0,o.up)("ion-button"),xe=(0,o.up)("VueDatePicker"),ke=(0,o.up)("SelectOption"),Ve=(0,o.up)("CurrencyInput"),Ee=(0,o.up)("ModifyCard"),Ie=(0,o.up)("ApprovalReason");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",d,[(0,o.Wm)(a,{staticScreenName:"register"==e.queryRoute.type?e.$t("pfm203001sc01.label.fee_by_amount_register"):e.$t("pfm203001sc01.label.fee_by_amount_edit")},null,8,["staticScreenName"])]),(0,o._)("h1",i,(0,s.zw)(e.displayName),1),(0,o._)("div",r,[(0,o._)("div",u,[(0,o._)("div",p,[(0,o._)("div",m,[(0,o._)("dl",c,[(0,o._)("dt",null,[(0,o.Uk)((0,s.zw)(e.$t("pfm203001sc01.label.product_fee_code")),1),h]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,s.C_)(["inp_box",{inp_error:e.isInvalid&&0==Object.keys(e.selectProductFeeCode.productFeeCode).length}])},[(0,o._)("div",y,[(0,o.Wm)(qe,{modelValue:e.selectProductFeeCode,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectProductFeeCode=t),class:"line",interface:"popover",interfaceOptions:{size:"cover"},placeholder:e.$t("common.select"),disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode,"selected-text":e.productFeeCodeEdit},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.productFeeCodeList,(e=>((0,o.wg)(),(0,o.j4)(n,{value:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.productFeeCode)+" : "+(0,s.zw)(e.feeName),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue","placeholder","disabled","selected-text"]),e.isInvalid&&0==Object.keys(e.selectProductFeeCode.productFeeCode).length?((0,o.wg)(),(0,o.iD)("p",f,(0,s.zw)(e.$t("error_text.field_empty")),1)):(0,o.kq)("",!0)])],2)])])]),(0,o._)("div",C,[(0,o._)("dl",_,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.fee_currency_code")),1),(0,o._)("dd",null,[(0,o._)("div",A,[(0,o._)("div",b,[(0,o.Wm)(Ne,{type:"text",class:"line",disabled:"",modelValue:e.selectProductFeeCode.feeCurrencyCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectProductFeeCode.feeCurrencyCode=t),placeholder:e.$t("pfm203001sc01.label.currency")},null,8,["modelValue","placeholder"])])])])])]),(0,o._)("div",g,[(0,o._)("dl",D,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.apply_seq_no")),1),(0,o._)("dd",null,[(0,o._)("div",F,[(0,o._)("div",S,[(0,o.Wm)(Ne,{class:"line",type:"text",readonly:"",modelValue:e.feeAmount.applySeqNo,"onUpdate:modelValue":t[2]||(t[2]=t=>e.feeAmount.applySeqNo=t),disabled:"",placeholder:e.$t("pfm203001sc01.label.seq_auto_generate")},null,8,["modelValue","placeholder"])])])])])])]),(0,o._)("div",v,[(0,o._)("div",w,[(0,o._)("dl",$,[(0,o._)("dt",null,[(0,o.Uk)((0,s.zw)(e.$t("pfm203001sc01.label.apply_start_date")),1),R]),(0,o._)("dd",null,[(0,o.Wm)(xe,{modelValue:e.feeAmount.applyStartDate,"onUpdate:modelValue":t[3]||(t[3]=t=>e.feeAmount.applyStartDate=t),type:"date",placeholder:e.$t("pfm203001sc01.label.enter_code"),disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode,"enable-time-picker":!1,"min-date":e.productFee.startDate,"max-date":e.feeAmount.applyEndDate,"auto-apply":""},{trigger:(0,o.w5)((()=>[(0,o._)("div",{class:(0,s.C_)(["inp_box type_datetime",{inp_error:e.isInvalid&&""===e.feeAmount.applyStartDate}])},[(0,o._)("div",M,[(0,o.Wm)(Ne,{class:"line",value:e.formattedStartDate,placeholder:e.$t("pfm203001sc01.label.apply_start_date"),disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode},null,8,["value","placeholder","disabled"]),(0,o.Wm)(Te,{class:"btn_date",disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,o.w5)((()=>[(0,o.Uk)("Calendar")])),_:1},8,["disabled"]),"Invalid Date"===e.feeAmount.applyStartDate?((0,o.wg)(),(0,o.iD)("p",q,(0,s.zw)(e.$t("error_text.field_empty")),1)):(0,o.kq)("",!0)])],2)])),_:1},8,["modelValue","placeholder","disabled","min-date","max-date"])])])]),(0,o._)("div",N,[(0,o._)("dl",T,[(0,o._)("dt",null,[(0,o.Uk)((0,s.zw)(e.$t("pfm203001sc01.label.apply_end_date")),1),x]),(0,o._)("dd",null,[(0,o.Wm)(xe,{modelValue:e.feeAmount.applyEndDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.feeAmount.applyEndDate=t),type:"date",placeholder:e.$t("pfm203001sc01.label.enter_code"),disabled:e.showDisabled||"read"==e.operationMode||"approval"==e.operationMode,"min-date":e.feeAmount.applyStartDate,"max-date":e.productFee.endDate,"enable-time-picker":!1,"auto-apply":""},{trigger:(0,o.w5)((()=>[(0,o._)("div",{class:(0,s.C_)(["inp_box type_datetime",{inp_error:e.isInvalid&&""===e.feeAmount.applyEndDate}])},[(0,o._)("div",k,[(0,o.Wm)(Ne,{class:"line",value:e.formattedEndDate,placeholder:e.$t("pfm203001sc01.label.apply_end_date"),disabled:e.showDisabled||"read"==e.operationMode||"approval"==e.operationMode},null,8,["value","placeholder","disabled"]),(0,o.Wm)(Te,{class:"btn_date",disabled:e.showDisabled||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,o.w5)((()=>[(0,o.Uk)("Calendar")])),_:1},8,["disabled"])]),"Invalid Date"===e.feeAmount.applyEndDate?((0,o.wg)(),(0,o.iD)("p",V,(0,s.zw)(e.$t("error_text.field_empty")),1)):(0,o.kq)("",!0)],2)])),_:1},8,["modelValue","placeholder","disabled","min-date","max-date"])])])]),(0,o._)("div",E,[(0,o._)("dl",I,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.fee_apply_status_code")),1),(0,o._)("dd",null,[(0,o.Wm)(ke,{data:e.$store.state.CommonCodeModule.commonCode.FeeApplyStatusCode,modelValue:e.feeAmount.feeApplyStatusCode,"onUpdate:modelValue":t[5]||(t[5]=t=>e.feeAmount.feeApplyStatusCode=t),value:"01",isDisabled:"register"===e.$route.query.type||e.showDisabled||e.disableKey||"read"==e.operationMode||"approval"==e.operationMode,classSelectType:"line"},null,8,["data","modelValue","isDisabled"])])])])]),(0,o._)("div",B,[(0,o._)("div",z,[(0,o._)("dl",P,[(0,o._)("dt",null,[(0,o.Uk)((0,s.zw)(e.$t("fee_info.fee_calc_apply_base_code")),1),U]),(0,o._)("dd",null,[(0,o._)("div",{class:(0,s.C_)({inp_error:!e.feeAmount.feeCalcApplyBaseCode})},[(0,o._)("div",K,[(0,o._)("div",W,[(0,o.Wm)(ke,{data:e.$store.state.CommonCodeModule.commonCode.FeeCalcApplyBaseCode,modelValue:e.feeAmount.feeCalcApplyBaseCode,"onUpdate:modelValue":t[6]||(t[6]=t=>e.feeAmount.feeCalcApplyBaseCode=t),value:e.$store.state.CommonCodeModule.commonCode.FeeCalcApplyBaseCode[0],disabled:e.showDisabled||"read"==e.operationMode||"approval"==e.operationMode,showKey:!1,class:"line"},null,8,["data","modelValue","value","disabled"])])]),e.feeAmount.feeCalcApplyBaseCode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",O,(0,s.zw)(e.$t("error_text.please_select_fee_calc")),1))],2)])])]),(0,o._)("div",Z,[(0,o._)("dl",L,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.base_fee_rate")),1),(0,o._)("dd",null,[(0,o._)("div",j,[(0,o._)("div",H,[(0,o.Wm)(Ne,{class:"line type_rate",modelValue:e.feeAmount.baseFeeRate,"onUpdate:modelValue":t[7]||(t[7]=t=>e.feeAmount.baseFeeRate=t),type:"number",readonly:e.showDisabled||e.isDisableBaseFeeRate||"read"==e.operationMode||"approval"==e.operationMode,placeholder:e.$t("pfm203001sc01.label.enter_rate")},null,8,["modelValue","readonly","placeholder"]),J])])])])]),(0,o._)("div",Q,[(0,o._)("dl",Y,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.base_fee_amount")),1),(0,o._)("dd",null,[(0,o._)("div",{class:(0,s.C_)(["inp_box",{inp_error:e.isInvalid&&e.validateBaseMaxAmount||e.validateBaseMaxAmount}])},[(0,o._)("div",G,[(0,o.Wm)(Ve,{modelValue:e.feeAmount.baseFeeAmount,"onUpdate:modelValue":t[8]||(t[8]=t=>e.feeAmount.baseFeeAmount=t),currency:e.selectProductFeeCode.feeCurrencyCode,showCurrency:!1,placeholder:e.$t("pfm203001sc01.label.enter_amount"),disabled:e.showDisabled||e.isDisableBaseFeeAmount||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","currency","placeholder","disabled"]),(0,o._)("span",X,(0,s.zw)(e.selectProductFeeCode.feeCurrencyCode),1)]),e.validateBaseMaxAmount?((0,o.wg)(),(0,o.iD)("p",ee,(0,s.zw)(e.$t("error_text.base_amount_exceed_max_amount")),1)):(0,o.kq)("",!0)],2)])])])]),(0,o._)("div",te,[(0,o._)("div",ae,[(0,o._)("dl",oe,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.fee_min_amount")),1),(0,o._)("dd",null,[(0,o._)("div",{class:(0,s.C_)({inp_error:e.isInvalid&&e.invalidFeeMinAmountByFeeCalc})},[(0,o._)("div",se,[(0,o._)("div",ne,[(0,o.Wm)(Ve,{modelValue:e.feeAmount.feeMinAmount,"onUpdate:modelValue":t[9]||(t[9]=t=>e.feeAmount.feeMinAmount=t),currency:e.selectProductFeeCode.feeCurrencyCode,showCurrency:!1,placeholder:e.$t("pfm203001sc01.label.enter_amount"),disabled:e.showDisabled||e.isDisableFeeCalcBaseCode||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","currency","placeholder","disabled"]),(0,o._)("span",le,(0,s.zw)(e.selectProductFeeCode.feeCurrencyCode),1)])]),e.isInvalid&&e.invalidFeeMinAmountByFeeCalc?((0,o.wg)(),(0,o.iD)("p",de,(0,s.zw)(e.$t("error_text.min_amount_cannot_exceed_max_amount")),1)):(0,o.kq)("",!0)],2)])])]),(0,o._)("div",ie,[(0,o._)("dl",re,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.fee_max_amount")),1),(0,o._)("dd",null,[(0,o._)("div",ue,[(0,o._)("div",pe,[(0,o.Wm)(Ve,{modelValue:e.feeAmount.feeMaxAmount,"onUpdate:modelValue":t[10]||(t[10]=t=>e.feeAmount.feeMaxAmount=t),currency:e.selectProductFeeCode.feeCurrencyCode,showCurrency:!1,placeholder:e.$t("pfm203001sc01.label.enter_amount"),disabled:e.showDisabled||e.isDisableFeeCalcBaseCode||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","currency","placeholder","disabled"]),(0,o._)("span",me,(0,s.zw)(e.selectProductFeeCode.feeCurrencyCode),1)])])])])]),(0,o._)("div",ce,[(0,o._)("dl",he,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.range_start_amount")),1),(0,o._)("dd",null,[(0,o._)("div",{class:(0,s.C_)({inp_error:e.validateRangeAmount})},[(0,o._)("div",ye,[(0,o._)("div",fe,[(0,o.Wm)(Ve,{modelValue:e.feeAmount.rangeStartAmount,"onUpdate:modelValue":t[11]||(t[11]=t=>e.feeAmount.rangeStartAmount=t),currency:e.selectProductFeeCode.feeCurrencyCode,showCurrency:!1,placeholder:e.$t("pfm203001sc01.label.enter_amount"),disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","currency","placeholder","disabled"]),(0,o._)("span",Ce,(0,s.zw)(e.selectProductFeeCode.feeCurrencyCode),1)])]),e.validateRangeAmount?((0,o.wg)(),(0,o.iD)("p",_e,(0,s.zw)(e.$t("error_text.rage_start_amount_cannot_exceed_rage_end_amount")),1)):(0,o.kq)("",!0)],2)])])])]),(0,o._)("div",Ae,[(0,o._)("div",be,[(0,o._)("dl",ge,[(0,o._)("dt",null,(0,s.zw)(e.$t("pfm203001sc01.label.range_end_amount")),1),(0,o._)("dd",null,[(0,o._)("div",null,[(0,o._)("div",De,[(0,o._)("div",Fe,[(0,o.Wm)(Ve,{modelValue:e.feeAmount.rangeEndAmount,"onUpdate:modelValue":t[12]||(t[12]=t=>e.feeAmount.rangeEndAmount=t),currency:e.selectProductFeeCode.feeCurrencyCode,showCurrency:!1,placeholder:e.$t("pfm203001sc01.label.enter_amount"),disabled:e.showDisabled===e.disableKey||"read"==e.operationMode||"approval"==e.operationMode},null,8,["modelValue","currency","placeholder","disabled"]),(0,o._)("span",Se,(0,s.zw)(e.selectProductFeeCode.feeCurrencyCode),1)])])])])])])]),"edit"===e.queryRoute.type?((0,o.wg)(),(0,o.j4)(Ee,{key:0,data:e.modifyCard},null,8,["data"])):(0,o.kq)("",!0)]),"normal"==e.operationMode?((0,o.wg)(),(0,o.iD)("div",ve,[(0,o._)("div",we,[e.showDisabled?((0,o.wg)(),(0,o.j4)(Te,{key:0,disabled:e.showDisabled&&"04"===e.feeAmount.feeApplyStatusCode,class:"btn03",onClick:e.handleDelete,type:"button"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,s.zw)(e.$t("common.delete")),1)])),_:1},8,["disabled","onClick"])):(0,o.kq)("",!0),e.showDefault?((0,o.wg)(),(0,o.j4)(Te,{key:1,class:"btn03",onClick:e.handleCancel,type:"button"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,s.zw)(e.$t("common.cancel")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0),e.showDisabled?((0,o.wg)(),(0,o.j4)(Te,{key:2,class:"btn02",onClick:e.goToList,type:"button"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,s.zw)(e.$t("common.list")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)]),(0,o._)("div",$e,[e.showDisabled?((0,o.wg)(),(0,o.j4)(Te,{key:0,class:"btn02 btn_ico",disabled:e.showDisabled&&"04"===e.feeAmount.feeApplyStatusCode,onClick:e.handleEdit,type:"button"},{default:(0,o.w5)((()=>[(0,o._)("span",Re,(0,s.zw)(e.$t("common.edit")),1)])),_:1},8,["disabled","onClick"])):(0,o.kq)("",!0),e.showDefault?((0,o.wg)(),(0,o.j4)(Te,{key:1,class:"btn01 btn_ico",onClick:e.handleSave},{default:(0,o.w5)((()=>[(0,o._)("span",Me,(0,s.zw)(e.$t("common.save")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)]),"normal"!==e.operationMode?((0,o.wg)(),(0,o.j4)(Ie,{key:0,payload:e.approvalRes},null,8,["payload"])):(0,o.kq)("",!0)])}}}]);
//# sourceMappingURL=9222.08d9dd34.js.map