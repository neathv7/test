"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[5232],{95232:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(66252),i=a(3577);const r=t=>((0,s.dD)("data-v-6e3c32a2"),t=t(),(0,s.Cn)(),t),n={class:"tab_cont"},o={class:"row"},c={class:"col"},u={class:"form01"},l=r((()=>(0,s._)("span",{class:"require"},"*",-1)));function d(t,e){const a=(0,s.up)("ion-select-option"),r=(0,s.up)("ion-select");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",o,[(0,s._)("div",c,[(0,s._)("dl",u,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(t.$t("cib201003ss05.main_transfer_account"))+" ",1),l]),(0,s._)("dd",null,[(0,s.Wm)(r,{interface:"popover",interfaceOptions:{size:"cover"},class:"line",placeholder:t.mainTransferAccount,modelValue:t.mainTransferAccount,"onUpdate:modelValue":e[0]||(e[0]=e=>t.mainTransferAccount=e),disabled:!t.isEditable},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.withdrawAccounts,(t=>((0,s.wg)(),(0,s.j4)(a,{value:t.accountNo},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(t.accountNo),1)])),_:2},1032,["value"])))),256))])),_:1},8,["placeholder","modelValue","disabled"])])])])])])}var p=a(43493),h=(0,s.aZ)({name:"cib201003ss05",props:{data:{type:Object,required:!0},currentTab:{type:String,required:!0}},data(){const t=this.$route.query.userID,e=this.$route.query.customerNo,a=this.$route.query.tab;return{userID:t,customerNo:e,approvalTap:a,mainTransferAccount:"",withdrawAccounts:[],isEditable:!1,approvalRes:{},operationMode:"normal",tempMainAccount:""}},watch:{data(t){""==this.approvalType?(this.mainTransferAccount=t.userInfo.mainTransferAccount,this.tempMainAccount=t.userInfo.mainTransferAccount):"CIB201003SS05"==this.approvalTap&&(this.$approval.getAuthorizationDetail().then((t=>{let e=JSON.parse(t.body.requestContent);this.mainTransferAccount=e.mainTransferAccount,this.approvalRes=t.body})),this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal")},async currentTab(t){"cib201003ss05.main_transfer_account"==t&&await this.getWithdrawAccounts()},isEditable(t){this.$emit("isBeingEdited",t)}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},mounted(){this.getWithdrawAccounts()},methods:{onClickOperation(t){switch(t){case"edit":this.isEditable=!0;break;case"cancel":this.mainTransferAccount=this.tempMainAccount,this.isEditable=!1;break;case"list":this.$router.push("/corporate-internet-banking/subscription");break;case"submit":this.$dialog.onOpen({content:`${this.$t("message.would_you_like_to_save")}`,dialogMode:"Question",callback:()=>{this.handleSubmit(),p.Fy.dismiss()}});break}},async getWithdrawAccounts(){const t={customerNo:`${this.customerNo}`,userID:`${this.userID}`},e=await this.$request.getRequest("CIB20100312",t,!1);this.withdrawAccounts=e.body.list},async handleSubmit(){const t={userID:`${this.userID}`,customerNo:`${this.customerNo}`,mainTransferAccount:this.mainTransferAccount},e=await this.$request.getRequest("CIB20100335",t,!1,"CIB201003SS05");this.approvalType&&(this.isEditable=!1,this.$emit("isReseTButton",!1)),e.header.result&&(this.isEditable=!1,this.$emit("isReseTButton",!1),this.$dialog.onOpen({content:`${this.$t("message.update_success")}`,dialogMode:"Success",callback:()=>{p.Fy.dismiss()}}))}}}),m=a(83744);const b=(0,m.Z)(h,[["render",d],["__scopeId","data-v-6e3c32a2"]]);var f=b}}]);
//# sourceMappingURL=5232.b0932128.js.map