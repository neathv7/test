"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[2786],{15053:function(e,t,i){i.a(e,(async function(e,a){try{var l=i(66252),s=i(90987),n=i(43493),o=i(42615),d=i(44345),r=i(65836),c=i(15828),h=i(90121),u=i(67201),f=i(42105),m=i(94249),g=e([h]);h=(g.then?(await g)():g)[0];const p=new s.l;t["Z"]=(0,l.aZ)({name:"ICM201002SC01",components:{baseTab:d.Z,basePan:r.Z,DialogService:f.Z,ModifyCard:c.Z,BreadCrumb:h.Z,SelectOption:u.Z,TextEditor:m.Z},data(){return{headersIcon:[{key:"En",name:"common.english"},{key:"Km",name:"common.khmer"},{key:"Ko",name:"common.korean"}],newEventDetailsLangDefaultValue:[{languageCode:"common.english",title:"",contentDesc:"",contentHtml:""},{languageCode:"common.khmer",title:"",contentDesc:"",contentHtml:""},{languageCode:"common.korean",title:"",contentDesc:"",contentHtml:""},{languageCode:"common.japanese",title:"",contentDesc:"",contentHtml:""},{languageCode:"common.chinese",title:"",contentDesc:"",contentHtml:""}],newEventDetail:{displayYN:"",newsEventID:"",attachInfoList:[],contentsList:[],newsEventCategoryCode:"",statusCode:""},modifyCard:{},isEdit:!0,fileInfo:{},isInValidInput:!1,getFile:null,getImage:null,isFileEmty:!1,isImageEmty:!1,operationMode:"normal",approvalRes:{}}},async mounted(){""===this.approvalType?"register"===this.$route.query.type?(this.$util.editableContent(!0),this.isEdit=!1):(this.$util.editableContent(!1),this.requestNewEventDetail()):await this.$approval.getAuthorizationDetail().then((async e=>{let t=JSON.parse(e.body.requestContent);if(this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.$util.editableContent(!1),"delete"==this.$util.checkServiceIdType(e.body.serviceID)){const e={newsEventID:Number(t.newsEventID)},i=await this.$request.getRequest("ICM20100112",e,!1);await this.assignValueToTab(this.convertCommonCode(i?.body.contentsList)),this.assignValueToAttachInfoList(i?.body.attachInfoList),this.newEventDetail={displayYN:i?.body.displayYN,newsEventID:i?.body.newsEventID,attachInfoList:this.newEventDetail.attachInfoList,contentsList:i?.body.contentsList,newsEventCategoryCode:i?.body.newsEventCategoryCode,statusCode:i?.body.statusCode},Promise.all([this.requestFileDetail(o.Gk.FILE),this.requestFileDetail(o.Gk.IMAGE)])}else await this.assignValueToTab(this.convertCommonCode(t.contentsList)),this.assignValueToAttachInfoList(t.attachInfoList),this.newEventDetail={displayYN:t.displayYN,newsEventID:t.newsEventID,attachInfoList:t.attachInfoList,contentsList:t.contentsList,newsEventCategoryCode:t.newsEventCategoryCode,statusCode:t.statusCode},await Promise.all([this.requestFileDetail(o.Gk.FILE),this.requestFileDetail(o.Gk.IMAGE)])}))},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},displayYN(){return this.$store.state.CommonCodeModule.commonCode.YnType},NewsEventCategoryCode(){return this.$store.state.CommonCodeModule.commonCode.NewsEventCategoryCode},btnDelete(){return!("edit"!=this.$route.query.type||!this.isEdit)},btnList(){return!("edit"!=this.$route.query.type||!this.isEdit)},btnCancel(){return!this.isEdit},btnEdit(){return!("edit"!=this.$route.query.type||!this.isEdit)},btnSave(){return"edit"==this.$route.query.type&&!this.isEdit||"register"==this.$route.query.type},deleted(){return"09"===this.newEventDetail.statusCode}},watch:{newEventDetailsLangDefaultValue:{handler(e){e.forEach((e=>{e.contentDesc=this.$validate.formatHtmlToString(e.contentHtml)}))},deep:!0}},methods:{async requestNewEventDetail(){const e={newsEventID:Number(this.$route.query.newsEventID)},t=await this.$request.getRequest("ICM20100112",e,!1);await this.assignValueToTab(this.convertCommonCode(t?.body.contentsList)),this.assignValueToAttachInfoList(t?.body.attachInfoList),this.newEventDetail={displayYN:t?.body.displayYN,newsEventID:t?.body.newsEventID,contentsList:t?.body.contentsList,attachInfoList:this.newEventDetail.attachInfoList,newsEventCategoryCode:t?.body.newsEventCategoryCode,statusCode:t?.body.statusCode},this.modifyCard={registerTellerId:t?.body.firstRegisterTellerID,registerTellerName:t?.body.firstRegisterTellerName,registerDate:t?.body.firstRegisterDate,registerTime:t?.body.firstRegisterTime,updatedTellerId:"09"===this.newEventDetail.statusCode?"":t?.body.lastChangeTellerID,updatedTellerName:"09"===this.newEventDetail.statusCode?"":t?.body.lastChangeTellerName,updatedDate:"09"===this.newEventDetail.statusCode?"":t?.body.lastChangeDate,updatedTime:"09"===this.newEventDetail.statusCode?"":t?.body.lastChangeTime,deleteTellerId:"09"===this.newEventDetail.statusCode?t?.body.lastChangeTellerID:"",deleteTellerName:"09"===this.newEventDetail.statusCode?t?.body.lastChangeTellerName:"",deleteDate:"09"===this.newEventDetail.statusCode?t?.body.lastChangeDate:"",deleteTime:"09"===this.newEventDetail.statusCode?t?.body.lastChangeTime:""},Promise.all([this.requestFileDetail(o.Gk.FILE),this.requestFileDetail(o.Gk.IMAGE)])},async requestFileDetail(e){for(let t=0;t<this.newEventDetail.attachInfoList.length;t++)if(this.newEventDetail.attachInfoList[t].attachTypeCode==e){const i=await this.$file.getFileInfo(this.newEventDetail.attachInfoList[t].fileId);if(e==o.Gk.FILE)this.fileInfo.fileName=i?.data.body.originalFileName,this.fileInfo.fileSize=i?.data.body.fileSizeString;else{this.fileInfo.imageName=i?.data.body.originalFileName,this.fileInfo.imgSize=i?.data.body.fileSizeString;const e=await this.$file.previewImage(this.newEventDetail.attachInfoList[t].fileId);this.fileInfo.image=e}}},async handleRegister(){await this.handleFileRegister().then((async e=>{if(!1===e)console.error("Error file server: please update without file!");else{const e={newsEventCategoryCode:this.newEventDetail.newsEventCategoryCode,displayYN:this.newEventDetail.displayYN,contentsList:this.convertLangToCode(JSON.parse(JSON.stringify(this.newEventDetailsLangDefaultValue))),attachInfoList:this.newEventDetail.attachInfoList},t=await this.$request.getRequest("ICM20100121",e,!1);t.header.result&&(this.$router.push("ICM201001SC00"),this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{n.Fy.dismiss()}}))}}))},async handleUpdate(){await this.handleFileUpdate().then((async e=>{if(!1===e)console.error("Error file server: please register without file!");else{const e={newsEventCategoryCode:this.newEventDetail.newsEventCategoryCode,displayYN:this.newEventDetail.displayYN,contentsList:this.convertLangToCode(JSON.parse(JSON.stringify(this.newEventDetailsLangDefaultValue))),attachInfoList:this.newEventDetail.attachInfoList,newsEventID:Number(this.newEventDetail.newsEventID)},t=await this.$request.getRequest("ICM20100131",e,!1);t.header.result&&(this.isEdit=!0,this.$util.editableContent(!1),this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.requestNewEventDetail(),n.Fy.dismiss()}}))}}))},async handleDelete(){const e={newsEventID:Number(this.$route.query.newsEventID)},t=await this.$request.getRequest("ICM20100141",e,!1);t.header.result&&(this.$router.push("ICM201001SC00"),this.$dialog.onOpen({content:this.$t("message.delete_success"),dialogMode:"Success",callback:()=>{n.Fy.dismiss()}}))},handleClickAction(e){switch(e){case"delete":"edit"==this.$route.query.type?this.$dialog.onOpen({content:this.$t("message.are_you_sure_you_want_to_delete"),dialogMode:"Question",callback:()=>{this.handleDelete(),n.Fy.dismiss()}}):this.$router.push("ICM201001SC00");break;case"cancel":this.$dialog.onOpen({content:`${"edit"===this.$route.query.type?this.$t("message.cancel_without_saving_changes"):this.$t("message.are_you_sure_you_want_to_cancel_registration?")}`,dialogMode:"Question",callback:()=>{"edit"==this.$route.query.type?(this.fileInfo.fileName=this.fileInfo.fileSize=this.fileInfo.imageName=this.fileInfo.imgSize="",this.requestNewEventDetail(),this.isEdit=!0,this.$util.editableContent(!1)):this.$router.push("ICM201001SC00"),n.Fy.dismiss()}});break;case"save":var t=this.newEventDetailsLangDefaultValue.find((e=>"common.english"===e.languageCode));t.contentDesc&&t.title&&this.NewsEventCategoryCode?this.$dialog.onOpen({content:this.$t("message.would_you_like_to_save"),dialogMode:"Question",callback:()=>{"edit"==this.$route.query.type?this.handleUpdate():this.handleRegister(),n.Fy.dismiss()}}):(this.isInValidInput=!0,this.$util.scrollToElement("inp_error"));break;case"edit":this.isEdit=!1,this.$util.editableContent(!0);break;case"list":this.$router.push("ICM201001SC00");break}},convertCommonCode(e){const t=e.map((e=>(e.languageCode=e.languageCode?this.$codeConverter.convertValue("LanguageCodeTranslate",e.languageCode):"",e)));return t},convertLangToCode(e){const t=e.map((e=>(e.languageCode=this.$codeConverter.convertValue("LanguageCodeTranslate",e.languageCode,"value"),e)));return t},handleUploadImage(e){this.isImageEmty=!1;const t=/(\.png)$/i,i=e.target.files,a=i[0];if(t.exec(a.name))if(a.size>o.HB.SIZE_2MB)this.$dialog.onOpen({content:this.$t("message.file_size_must_not_exceed_2MB"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});else{this.getImage=a;const e=p.countFileSize(a.size);this.fileInfo.imgSize=e;const t=new FileReader;t.readAsDataURL(a),this.fileInfo.imageName=a.name,t.onload=()=>{this.fileInfo.image=String(t.result)}}else this.$dialog.onOpen({content:this.$t("message.only_png_file_can_be_inserted"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});const l=document.getElementById("btn02 btn_upload");l.value=""},removeFile(e){switch(e){case o.Gk.FILE:this.isFileEmty=!0,this.getFile=null,this.fileInfo.fileSize=this.fileInfo.fileName="";break;case o.Gk.IMAGE:this.isImageEmty=!0,this.getImage=null,this.fileInfo.imageName=this.fileInfo.imgSize="";break}},handleUploadFile(e){this.isFileEmty=!1;const t=e.target.files,i=t[0];if(i.size>o.HB.SIZE_10MB)this.$dialog.onOpen({content:this.$t("message.file_size_must_not_exceed_10MB"),dialogMode:"Warning",callback:()=>{n.Fy.dismiss()}});else{this.getFile=i;const e=p.countFileSize(i.size);this.fileInfo.fileSize=e;const t=new FileReader;t.readAsDataURL(i),this.fileInfo.fileName=i.name}const a=document.getElementById("actual-btn");a.value=""},isFileAlreadyExisted(e){const t=this.newEventDetail.attachInfoList.some((t=>Object.values(t).includes(e)));return t},async handleFileUpdate(){if(null!==this.getFile&&null!==this.getImage&&!this.isFileEmty&&!this.isImageEmty){this.newEventDetail.attachInfoList&&this.newEventDetail.attachInfoList.forEach((async e=>{await this.$file.updateFileStatus(e.fileId,o.Gk.INACTIVE)})),this.newEventDetail.attachInfoList=[];const e=await this.$file.uploadFile([this.getFile,this.getImage],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){if("file1"===e.data.body.fileList[t].keyName){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.FILE,fileId:e.data.body.fileList[t].fileId})}if("file2"===e.data.body.fileList[t].keyName){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.IMAGE,fileId:e.data.body.fileList[t].fileId})}}}if(null===this.getFile&&this.isFileEmty)for(let e=0;e<this.newEventDetail.attachInfoList.length;e++)if(this.newEventDetail.attachInfoList[e].attachTypeCode===o.Gk.FILE){const t=await this.$file.updateFileStatus(this.newEventDetail.attachInfoList[e].fileId,o.Gk.INACTIVE);if(!t)return!1;{const t=this.newEventDetail.attachInfoList.indexOf(this.newEventDetail.attachInfoList[e]);this.newEventDetail.attachInfoList.splice(t,1)}}if(null===this.getImage&&this.isImageEmty)for(let e=0;e<this.newEventDetail.attachInfoList.length;e++)if(this.newEventDetail.attachInfoList[e].attachTypeCode===o.Gk.IMAGE){const t=await this.$file.updateFileStatus(this.newEventDetail.attachInfoList[e].fileId,o.Gk.INACTIVE);if(!t)return!1;{const t=this.newEventDetail.attachInfoList.indexOf(this.newEventDetail.attachInfoList[e]);this.newEventDetail.attachInfoList.splice(t,1)}}if(null!==this.getFile&&!this.isFileEmty)if(0===this.newEventDetail.attachInfoList.length){const e=await this.$file.uploadFile([this.getFile],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.FILE,fileId:e.data.body.fileList[t].fileId})}}else if(this.newEventDetail.attachInfoList.length>0)if(this.isFileAlreadyExisted(o.Gk.FILE)){const e=await this.$file.uploadFile([this.getFile],"ICM");if(!e)return!1;for(let t=0;t<this.newEventDetail.attachInfoList.length;t++)if(this.newEventDetail.attachInfoList[t].attachTypeCode===o.Gk.FILE){await this.$file.updateFileStatus(this.newEventDetail.attachInfoList[t].fileId,o.Gk.INACTIVE);for(let i=0;i<e.data.body.fileList.length;i++)await this.$file.getFileInfo(e.data.body.fileList[i].fileId).then((a=>Object.assign(this.newEventDetail.attachInfoList[t],{fileId:e.data.body.fileList[i].fileId,attachTypeCode:o.Gk.FILE,filePath:a.data.body.filePath})))}}else{const e=await this.$file.uploadFile([this.getFile],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.FILE,fileId:e.data.body.fileList[t].fileId})}}if(null!==this.getImage&&!this.isImageEmty)if(0===this.newEventDetail.attachInfoList.length){const e=await this.$file.uploadFile([this.getImage],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.IMAGE,fileId:e.data.body.fileList[t].fileId})}}else if(this.newEventDetail.attachInfoList.length>0)if(this.isFileAlreadyExisted(o.Gk.IMAGE)){const e=await this.$file.uploadFile([this.getImage],"ICM");if(!e)return!1;for(let t=0;t<this.newEventDetail.attachInfoList.length;t++)if(this.newEventDetail.attachInfoList[t].attachTypeCode===o.Gk.IMAGE){await this.$file.updateFileStatus(this.newEventDetail.attachInfoList[t].fileId,o.Gk.INACTIVE);for(let i=0;i<e.data.body.fileList.length;i++)await this.$file.getFileInfo(e.data.body.fileList[i].fileId).then((a=>Object.assign(this.newEventDetail.attachInfoList[t],{fileId:e.data.body.fileList[i].fileId,attachTypeCode:o.Gk.IMAGE,filePath:a.data.body.filePath})))}}else{const e=await this.$file.uploadFile([this.getImage],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.IMAGE,fileId:e.data.body.fileList[t].fileId})}}},async handleFileRegister(){if(null!==this.getFile&&null!==this.getImage){const e=await this.$file.uploadFile([this.getFile,this.getImage],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){if("file1"===e.data.body.fileList[t].keyName){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.FILE,fileId:e.data.body.fileList[t].fileId})}if("file2"===e.data.body.fileList[t].keyName){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.IMAGE,fileId:e.data.body.fileList[t].fileId})}}}else if(null!==this.getFile&&null===this.getImage){const e=await this.$file.uploadFile([this.getFile],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.FILE,fileId:e.data.body.fileList[t].fileId})}}else if(null===this.getFile&&null!==this.getImage){const e=await this.$file.uploadFile([this.getImage],"ICM");if(!e)return!1;for(let t=0;t<e.data.body.fileList.length;t++){const i=await this.$file.getFileInfo(e.data.body.fileList[t].fileId);this.newEventDetail.attachInfoList.push({filePath:i.data.body.filePath,attachTypeCode:o.Gk.IMAGE,fileId:e.data.body.fileList[t].fileId})}}},async assignValueToTab(e){for(let t=0;t<e.length;t++)this.newEventDetailsLangDefaultValue.map((i=>{i.languageCode===e[t].languageCode?(i.title=e[t].title,i.contentDesc=e[t].contentDesc,i.contentHtml=e[t].contentHtml):""===i.contentHtml&&(i.contentHtml="<p><br/></p>")}))},assignValueToAttachInfoList(e){this.newEventDetail.attachInfoList=e.map((e=>({attachTypeCode:e.attachTypeCode,fileId:e.fileId,filePath:e.filePath})))}}}),a()}catch(p){a(p)}}))},90987:function(e,t,i){i.d(t,{l:function(){return a}});class a{countFileSize(e){const t=["B","kB","MB","GB","TB"],i=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,i)).toFixed(2)} ${t[i]}`}}},15828:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(66252),l=i(3577);const s={key:0,class:"row gap detail_info"},n={key:0,class:"col"},o={class:"sub"},d={key:1,class:"col"},r={class:"sub"},c={key:2,class:"col"},h={class:"sub"};function u(e,t){return e.isShowRegister||e.isShowUpdate||e.isShowDelete?((0,a.wg)(),(0,a.iD)("div",s,[e.isShowRegister?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,l.zw)(e.$t("common.created_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,l.zw)(e.createdEmployee),1),(0,a.Uk)(),(0,a._)("span",o,(0,l.zw)(e.createdDate),1)])])])):(0,a.kq)("",!0),e.isShowUpdate?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,l.zw)(e.$t("common.updated_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,l.zw)(e.updatedEmployee),1),(0,a._)("span",r,(0,l.zw)(e.updatedDate),1)])])])):(0,a.kq)("",!0),e.isShowDelete?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,l.zw)(e.$t("common.deleted_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,l.zw)(e.deletedEmployee),1),(0,a._)("span",h,(0,l.zw)(e.deletedDate),1)])])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var f=(0,a.aZ)({name:"modify-card",props:{data:{type:Object,required:!0}},computed:{createdEmployee(){return`${this.data.registerTellerName||""} ${this.data.registerTellerId?.trim()?`(${this.data.registerTellerId})`:""}`},createdDate(){return`${this.$datetime.formatStringToTime(this.data.registerTime?this.data.registerTime:"")} ${this.$datetime.formatStringToStringDate(this.data.registerDate?this.data.registerDate:"")}`},updatedEmployee(){return`${this.data.updatedTellerName||""} ${this.data.updatedTellerId?.trim()?`(${this.data.updatedTellerId})`:""}`},updatedDate(){return`${this.$datetime.formatStringToTime(this.data.updatedTime?this.data.updatedTime:"")} ${this.$datetime.formatStringToStringDate(this.data.updatedDate?this.data.updatedDate:"")}`},deletedEmployee(){return`${this.data.deleteTellerName||""} ${this.data.deleteTellerId?.trim()?`(${this.data.deleteTellerId})`:""}`},deletedDate(){return`${this.$datetime.formatStringToTime(this.data.deleteTime?this.data.deleteTime:"")} ${this.$datetime.formatStringToStringDate(this.data.deleteDate?this.data.deleteDate:"")}`},isShowRegister(){return!!(this.data.registerDate?.trim()||this.data.registerTime?.trim()||this.data.registerTellerId?.trim()||this.data.registerTellerName?.trim())},isShowUpdate(){return!!(this.data.updatedDate?.trim()||this.data.updatedTime?.trim()||this.data.updatedTellerId?.trim()||this.data.updatedTellerName?.trim())},isShowDelete(){return!!(this.data.deleteDate?.trim()||this.data.deleteTime?.trim()||this.data.deleteTellerId?.trim()||this.data.deleteTellerName?.trim())}}}),m=i(83744);const g=(0,m.Z)(f,[["render",u]]);var p=g},44345:function(e,t,i){i.d(t,{Z:function(){return h}});var a=i(66252),l=i(3577);const s={key:0,id:"id"},n={class:"cont_tab"};function o(e,t){const i=(0,a.up)("ion-label"),o=(0,a.up)("ion-segment-button"),d=(0,a.up)("ion-segment");return e.header?((0,a.wg)(),(0,a.iD)("section",s,[(0,a.Wm)(d,{scrollable:!0,class:"tab01",value:e.index},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.header,((t,s)=>((0,a.wg)(),(0,a.j4)(o,{class:(0,l.C_)([this.selectedTitle==t.name?"segment-button-checked":""]),id:s,value:s,disabled:!e.beforeLeave&&this.selectedTitle!==t.name,onClick:i=>e.pushTitle(t.name,s)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$t(`${t.name}`)),1)])),_:2},1024)])),_:2},1032,["class","id","value","disabled","onClick"])))),256))])),_:1},8,["value"]),(0,a._)("div",n,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}var d=(0,a.aZ)({data(){return{selectedTitle:"",defaultIndex:0}},provide(){return{selectedTitle:(0,a.Fl)((()=>this.selectedTitle))}},props:{header:{type:[],default:[]},defaultActive:{type:String},beforeLeave:{type:Boolean,default:!0}},watch:{selectedTitle(e,t){this.$emit("get-tab-value",e,t)}},created(){if(this.defaultActive)this.selectedTitle=this.defaultActive;else for(let e=0;e<Object.values(this.header).length;e++){const t=this.header[e];if(!t.disable){this.selectedTitle=t.name,this.defaultIndex=e;break}console.log("nothing")}},methods:{pushTitle(e){this.beforeLeave?this.selectedTitle=e:this.$emit("before-leave",e)}}}),r=i(83744);const c=(0,r.Z)(d,[["render",o],["__scopeId","data-v-e4fa632c"]]);var h=c},65836:function(e,t,i){i.d(t,{Z:function(){return c}});var a=i(66252),l=i(49963);const s=["id"];function n(e,t,i,n,o,d){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("section",{id:e.title},[(0,a.WI)(e.$slots,"default")],8,s)),[[l.F8,e.title==e.selectedTitle]])}var o=(0,a.aZ)({props:{title:String},data(){const e=(0,a.f3)("selectedTitle");return{selectedTitle:e}}}),d=i(83744);const r=(0,d.Z)(o,[["render",n]]);var c=r},94249:function(e,t,i){i.d(t,{Z:function(){return g}});var a=i(66252);function l(e,t){const i=(0,a.up)("QuillEditor");return(0,a.wg)(),(0,a.j4)(i,{theme:"snow",toolbar:e.toolbar,contentType:"html",content:e.value,"onUpdate:content":t[0]||(t[0]=t=>e.value=t)},null,8,["toolbar","content"])}var s=i(76095);const n=s["import"]("attributors/style/align"),o=s["import"]("attributors/style/background"),d=s["import"]("attributors/style/color"),r=s["import"]("attributors/style/direction"),c=s["import"]("attributors/style/font"),h=s["import"]("attributors/style/size");s.register(n,!0),s.register(o,!0),s.register(d,!0),s.register(r,!0),s.register(c,!0),s.register(h,!0);var u=(0,a.aZ)({name:"TextEditor",props:{contentHtml:{type:String,required:!0}},emits:["update:contentHtml"],computed:{value:{get(){return this.contentHtml},set(e){this.$emit("update:contentHtml",e)}}},data(){return{toolbar:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"]]}}}),f=i(83744);const m=(0,f.Z)(u,[["render",l]]);var g=m},91794:function(e,t,i){i.a(e,(async function(e,a){try{i.r(t);var l=i(45460),s=i(28975),n=(i(22449),i(83744)),o=e([s]);s=(o.then?(await o)():o)[0];const d=(0,n.Z)(s.Z,[["render",l.s],["__scopeId","data-v-234477d5"]]);t["default"]=d,a()}catch(d){a(d)}}))},22449:function(){},28975:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Z:function(){return l.Z}});var l=i(15053),s=e([l]);l=(s.then?(await s)():s)[0],a()}catch(n){a(n)}}))},45460:function(e,t,i){i.d(t,{s:function(){return ce}});var a=i(66252),l=i(3577),s=i(49963);const n=e=>((0,a.dD)("data-v-234477d5"),e=e(),(0,a.Cn)(),e),o={class:"contentWrap"},d={class:"title_name"},r={class:"cont"},c={class:"card_box"},h={class:"row gap"},u={class:"col-6"},f={class:"form01"},m={class:"inp_box"},g={class:"inp"},p={class:"col-6"},y={class:"form01"},I=n((()=>(0,a._)("span",{class:"require"},"*",-1))),w={key:0,class:"txt_error"},v={class:"row gap"},b={class:"col-6"},E={class:"form01"},_=n((()=>(0,a._)("span",{class:"require"},"*",-1))),C={class:"col-6"},D={class:"form01"},$={class:"row gap10"},k={class:"col"},L={class:"upload_box ico"},T=n((()=>(0,a._)("span",{class:"extention"},null,-1))),F={class:"col auto"},M=["disabled"],N={class:"row"},q={class:"col"},S={class:"form01"},z={class:"row"},V=["src"],G={class:"col"},A={class:"intro"},x={class:"filename"},P={key:0},U=n((()=>(0,a._)("span",{class:"extention"},null,-1))),Z={class:"description"},R={class:"col auto"},H=["disabled"],O={class:"card_box"},j={class:"tab_cont"},Y={class:"row"},B={class:"col"},W={class:"form01"},K={class:"require"},J={class:"inp"},Q={key:0,class:"txt_error"},X={class:"row"},ee={class:"col"},te={class:"form01"},ie={class:"require"},ae={class:"inp"},le={key:0,class:"txt_error"},se={key:0,class:"footer_btn"},ne={class:"left_side"},oe={class:"right_side"},de={class:"edit"},re={class:"save"};function ce(e,t){const i=(0,a.up)("BreadCrumb"),n=(0,a.up)("ion-input"),ce=(0,a.up)("SelectOption"),he=(0,a.up)("ion-label"),ue=(0,a.up)("ion-button"),fe=(0,a.up)("ion-spinner"),me=(0,a.up)("ion-avatar"),ge=(0,a.up)("TextEditor"),pe=(0,a.up)("basePan"),ye=(0,a.up)("baseTab"),Ie=(0,a.up)("ModifyCard"),we=(0,a.up)("ApprovalReason");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(i,{staticScreenName:"register"==e.$route.query.type?"News & Event Register":"News & Event Edit"},null,8,["staticScreenName"]),(0,a._)("h1",d,(0,l.zw)("register"==e.$route.query.type?"News & Event Register":"News & Event Edit"),1),(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",h,[(0,a._)("div",u,[(0,a._)("dl",f,[(0,a._)("dt",null,(0,l.zw)(e.$t("common.no")),1),(0,a._)("dd",null,[(0,a._)("div",m,[(0,a._)("div",g,[(0,a.Wm)(n,{class:"line",placeholder:e.$t("message.this_is_being_created_automatically_after_saving"),disabled:"",modelValue:e.newEventDetail.newsEventID,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newEventDetail.newsEventID=t)},null,8,["placeholder","modelValue"])])])])])]),(0,a._)("div",p,[(0,a._)("dl",y,[(0,a._)("dt",null,[(0,a.Uk)((0,l.zw)(e.$t("common.category")),1),I]),(0,a._)("dd",{class:(0,l.C_)({inp_error:e.isInValidInput&&!e.newEventDetail.newsEventCategoryCode})},[(0,a.Wm)(ce,{class:(0,l.C_)(["line",{invalidInput:e.isInValidInput&&!e.newEventDetail.newsEventCategoryCode}]),data:e.NewsEventCategoryCode,modelValue:e.newEventDetail.newsEventCategoryCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newEventDetail.newsEventCategoryCode=t),disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0},null,8,["class","data","modelValue","disabled"]),e.isInValidInput&&!e.newEventDetail.newsEventCategoryCode?((0,a.wg)(),(0,a.iD)("p",w,(0,l.zw)(e.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])])]),(0,a._)("div",v,[(0,a._)("div",b,[(0,a._)("dl",E,[(0,a._)("dt",null,[(0,a.Uk)((0,l.zw)(e.$t("common.display")),1),_]),(0,a._)("dd",null,[(0,a.Wm)(ce,{class:"line",data:e.displayYN,modelValue:e.newEventDetail.displayYN,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newEventDetail.displayYN=t),value:e.displayYN[0].key,disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,showKey:!1},null,8,["data","modelValue","value","disabled"])])])]),(0,a._)("div",C,[(0,a._)("dl",D,[(0,a._)("dt",null,(0,l.zw)(e.$t("icm201002sc01.attach_file")),1),(0,a._)("dd",null,[(0,a._)("div",$,[(0,a._)("div",k,[(0,a._)("div",L,[e.fileInfo.fileName?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(he,{key:0,class:"placeholder file hide"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$t("icm201002sc01.placeholder.please_upload_the_file")),1)])),_:1})),e.fileInfo.fileName?((0,a.wg)(),(0,a.j4)(he,{key:1,class:"filename"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.fileInfo.fileName),1),T])),_:1})):(0,a.kq)("",!0),e.fileInfo.fileName?((0,a.wg)(),(0,a.j4)(ue,{key:2,class:"btn_remove",disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,onClick:t[3]||(t[3]=t=>e.removeFile("01"))},{default:(0,a.w5)((()=>[(0,a.Uk)("remove")])),_:1},8,["disabled"])):(0,a.kq)("",!0)])]),(0,a._)("div",F,[(0,a._)("input",{class:"btn02",id:"actual-btn",type:"file",accept:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf",onChange:t[4]||(t[4]=t=>e.handleUploadFile(t)),disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode},null,40,M),(0,a.Wm)(ue,{disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,class:"btn02"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.$t("common.upload")),1)])),_:1},8,["disabled"])])])])])])]),(0,a._)("div",N,[(0,a._)("div",q,[(0,a._)("dl",S,[(0,a._)("dt",null,(0,l.zw)(e.$t("icm201002sc01.image_file")),1),(0,a._)("dd",null,[(0,a._)("div",{class:(0,l.C_)(["upload_image",{invalid_input:e.isInValidInput&&!e.fileInfo.imageName}])},[(0,a._)("div",z,[e.fileInfo.imageName?((0,a.wg)(),(0,a.j4)(me,{key:0},{default:(0,a.w5)((()=>[e.fileInfo.image?((0,a.wg)(),(0,a.iD)("img",{key:1,src:e.fileInfo.image},null,8,V)):((0,a.wg)(),(0,a.j4)(fe,{key:0,name:"crescent"}))])),_:1})):(0,a.kq)("",!0),(0,a._)("div",G,[(0,a._)("div",A,[(0,a._)("div",x,[e.fileInfo.imageName?((0,a.wg)(),(0,a.iD)("span",P,(0,l.zw)(e.fileInfo.imageName),1)):(0,a.kq)("",!0),U,e.fileInfo.imageName?((0,a.wg)(),(0,a.j4)(ue,{key:1,class:"btn_remove",disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,onClick:t[5]||(t[5]=t=>e.removeFile("02"))},{default:(0,a.w5)((()=>[(0,a.Uk)("remove")])),_:1},8,["disabled"])):(0,a.kq)("",!0)]),(0,a._)("div",Z,[(0,a._)("p",null,(0,l.zw)(e.$t("icm201002sc01.only_png")),1),(0,a._)("p",null,(0,l.zw)(e.$t("icm201002sc01.image_fixed")),1)])])]),(0,a._)("div",R,[(0,a._)("input",{id:"btn02 btn_upload",type:"file",accept:"image/png",onChange:t[6]||(t[6]=t=>e.handleUploadImage(t)),disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode},null,40,H),(0,a.Wm)(ue,{disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,class:"btn02 btn_upload"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.$t("common.upload")),1)])),_:1},8,["disabled"])])])],2)])])])])]),(0,a._)("div",O,[(0,a.Wm)(ye,{defaultActive:"common.english",header:e.headersIcon},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.newEventDetailsLangDefaultValue,((t,i)=>((0,a.wg)(),(0,a.j4)(pe,{title:t.languageCode,key:t.languageCode},{default:(0,a.w5)((()=>[(0,a._)("div",j,[(0,a._)("div",Y,[(0,a._)("div",B,[(0,a._)("dl",W,[(0,a._)("dt",null,[(0,a.Uk)((0,l.zw)(e.$t("icm201002sc01.title")),1),(0,a.wy)((0,a._)("span",K,"*",512),[[s.F8,"common.english"==t.languageCode]])]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,l.C_)(["inp_box",{inp_error:e.isInValidInput&&!t.title&&"common.english"==t.languageCode}])},[(0,a._)("div",J,[(0,a.Wm)(n,{class:"line",type:"text",placeholder:e.$t("icm201002sc01.placeholder.enter_text"),readonly:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,modelValue:t.title,"onUpdate:modelValue":e=>t.title=e,modelModifiers:{trim:!0}},null,8,["placeholder","readonly","modelValue","onUpdate:modelValue"])]),!t.title&&e.isInValidInput&&"common.english"==t.languageCode?((0,a.wg)(),(0,a.iD)("p",Q,(0,l.zw)(e.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])])])]),(0,a._)("div",X,[(0,a._)("div",ee,[(0,a._)("dl",te,[(0,a._)("dt",null,[(0,a.Uk)((0,l.zw)(e.$t("icm201002sc01.content")),1),(0,a.wy)((0,a._)("span",ie,"*",512),[[s.F8,"common.english"==t.languageCode]])]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,l.C_)(["inp_box",{inp_error:e.isInValidInput&&!t.contentDesc&&"common.english"==t.languageCode}])},[(0,a._)("div",ae,[(0,a.Wm)(ge,{contentHtml:t.contentHtml,"onUpdate:contentHtml":e=>t.contentHtml=e},null,8,["contentHtml","onUpdate:contentHtml"])]),!t.contentDesc&&e.isInValidInput&&"common.english"==t.languageCode?((0,a.wg)(),(0,a.iD)("p",le,(0,l.zw)(e.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])])])])])])),_:2},1032,["title"])))),128))])),_:1},8,["header"]),"edit"===e.$route.query.type&&e.isEdit?((0,a.wg)(),(0,a.j4)(Ie,{key:0,data:e.modifyCard},null,8,["data"])):(0,a.kq)("",!0)]),"normal"==e.operationMode?((0,a.wg)(),(0,a.iD)("div",se,[(0,a._)("div",ne,[e.btnDelete?((0,a.wg)(),(0,a.j4)(ue,{key:0,class:"btn03",disabled:e.deleted,onClick:t[7]||(t[7]=t=>e.handleClickAction("delete"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.$t("common.delete")),1)])),_:1},8,["disabled"])):(0,a.kq)("",!0),e.btnCancel?((0,a.wg)(),(0,a.j4)(ue,{key:1,class:"btn03",onClick:t[8]||(t[8]=t=>e.handleClickAction("cancel"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.$t("common.cancel")),1)])),_:1})):(0,a.kq)("",!0),e.btnList?((0,a.wg)(),(0,a.j4)(ue,{key:2,class:"btn02",onClick:t[9]||(t[9]=t=>e.handleClickAction("list"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,l.zw)(e.$t("common.list")),1)])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",oe,[e.btnEdit?((0,a.wg)(),(0,a.j4)(ue,{key:0,class:"btn02 btn_ico",disabled:e.deleted,onClick:t[10]||(t[10]=t=>e.handleClickAction("edit"))},{default:(0,a.w5)((()=>[(0,a._)("span",de,(0,l.zw)(e.$t("common.edit")),1)])),_:1},8,["disabled"])):(0,a.kq)("",!0),e.btnSave?((0,a.wg)(),(0,a.j4)(ue,{key:1,class:"btn01 btn_ico",onClick:t[11]||(t[11]=t=>e.handleClickAction("save"))},{default:(0,a.w5)((()=>[(0,a._)("span",re,(0,l.zw)(e.$t("common.save")),1)])),_:1})):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),"normal"!==e.operationMode?((0,a.wg)(),(0,a.j4)(we,{key:1,payload:e.approvalRes},null,8,["payload"])):(0,a.kq)("",!0)])])}}}]);
//# sourceMappingURL=2786.603b8fe2.js.map