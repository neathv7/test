{"version":3,"file":"js/9810.c26be784.js","mappings":"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","sources":["webpack://bizMOB4Vue/./src/shared/services/FileSizeService.ts","webpack://bizMOB4Vue/./src/views/cib/cib201003ss12/cib201003ss12.html","webpack://bizMOB4Vue/./src/views/cib/cib201003ss12/cib201003ss12.vue?ffe5","webpack://bizMOB4Vue/./src/views/cib/cib201003ss12/cib201003ss12.vue"],"sourcesContent":["\nexport class FileSize{\n    public countFileSize(size: number):string {\n        const sufixes = ['B', 'kB', 'MB', 'GB', 'TB'];\n        const i = Math.floor(Math.log(size) / Math.log(1024));\n        return `${(size / Math.pow(1024, i)).toFixed(2)} ${sufixes[i]}`;\n    }\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6db68bad\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tab_cont\" }\nconst _hoisted_2 = { class: \"row gap\" }\nconst _hoisted_3 = { class: \"col\" }\nconst _hoisted_4 = { class: \"form01\" }\nconst _hoisted_5 = { class: \"row gap10\" }\nconst _hoisted_6 = { class: \"col\" }\nconst _hoisted_7 = { class: \"upload_box ico\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"extention\" }, null, -1))\nconst _hoisted_9 = { class: \"col auto\" }\nconst _hoisted_10 = [\"v-model\", \"disabled\"]\n\nexport function render(_ctx, _cache) {\n  const _component_ion_label = _resolveComponent(\"ion-label\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"dl\", _hoisted_4, [\n          _createElementVNode(\"dt\", null, _toDisplayString(_ctx.$t(\"cib201003ss12.attach_file\")), 1),\n          _createElementVNode(\"dd\", null, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  (_ctx.isShowPlaceholder)\n                    ? (_openBlock(), _createBlock(_component_ion_label, {\n                        key: 0,\n                        class: \"placeholder file\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(_ctx.$t(\"cib201003ss12.please_upload_the_file\")), 1)\n                        ]),\n                        _: 1\n                      }))\n                    : _createCommentVNode(\"\", true),\n                  _createVNode(_component_ion_label, { class: \"filename\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"strong\", null, _toDisplayString(_ctx.fileName), 1),\n                      _hoisted_8\n                    ]),\n                    _: 1\n                  }),\n                  (_ctx.removeFileButton)\n                    ? (_openBlock(), _createBlock(_component_ion_button, {\n                        key: 1,\n                        class: \"btn_remove\",\n                        onClick: _cache[0] || (_cache[0] = $event => (_ctx.handleRemoveFile()))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"remove\")\n                        ]),\n                        _: 1\n                      }))\n                    : _createCommentVNode(\"\", true)\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_9, [\n                _createElementVNode(\"input\", {\n                  class: \"btn02\",\n                  id: \"actual-btn\",\n                  ref: \"uploadInput\",\n                  type: \"file\",\n                  \"v-model\": _ctx.fileInfo.fileId,\n                  accept: \".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf\",\n                  onChange: _cache[1] || (_cache[1] = $event => (_ctx.handleUploadFile($event))),\n                  disabled: !_ctx.isEditable\n                }, null, 40, _hoisted_10),\n                _createVNode(_component_ion_button, {\n                  disabled: !_ctx.isEditable,\n                  class: \"btn01\"\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t(\"common.upload\")), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"])\n              ])\n            ])\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","\nimport { defineComponent, PropType } from \"vue\";\nimport { modalController } from '@ionic/vue';\nimport { CIB20100116_REQ_BODY, CIB20100116_RES, fileInformation } from '@/shared/type/CIB20100116.type';\nimport { CIB2010033A_REQ_BODY, CIB2010033A_RES } from '@/shared/type/CIB2010033A.type';\nimport { screenMode } from \"@/shared/type/Approval.type\";\nimport { AuthorizationDetail } from '@/shared/type/APM20200113.type';\nimport { FILE_TYPE } from '@/shared/constants/common.const';\nimport { FileSize } from \"@/shared/services/FileSizeService\";\n\nconst fileSize = new FileSize();\n\nexport default defineComponent({\n  name: \"cib201003ss12\",\n  props: {\n    approvalPayload: {\n      type: Object as PropType<AuthorizationDetail>,\n      required: false\n    },\n    currentTab: {\n      type: String,\n      required: true,\n    }\n  },\n\n  data() {\n    const getFile = null;\n    const getImage = null;\n    const userID = this.$route.query.userID;\n    const customerNo = this.$route.query.customerNo;\n    const fileInfo = {\n      fileId: '',\n      filePath: '',\n      transactionDate: '',\n    }\n    return {\n      userID,\n      getFile,\n      getImage,\n      fileInfo,\n      customerNo,\n      attachFile: '',\n      fileName: '',\n      fileSize: '',\n      operationMode: 'normal' as screenMode,\n      fileList: [] as fileInformation[],\n      tempFileList: [] as fileInformation[],\n      isEditable: false,\n      isEmptyFile:false,\n      removeFileButton: false,\n      isShowPlaceholder: false\n    }\n  },\n\n  watch: {\n    async approvalPayload(payload){\n      if(this.currentTab == 'CIB201003SS12'){\n        let authDetailParsed = JSON.parse(payload.requestContent)\n        authDetailParsed.fileList.map((item: fileInformation)=>{\n          this.fileInfo.fileId = item.fileId \n          this.fileInfo.filePath = item.filePath\n        })\n        const responseFile = await this.$file.getFileInfo(this.fileInfo.fileId); // get file information\n        this.fileName = responseFile?.data.body.originalFileName;\n        this.operationMode = this.approvalType == 'my-request' ? 'read' : this.approvalType == 'my-approval' ? 'approval' : 'normal';\n      }\n    },\n\n    isEditable(isAllowTabChange) {\n      this.$emit('isBeingEdited', isAllowTabChange)\n    },\n\n    'fileInfo.fileId':function(fileID){\n      if(fileID){\n        this.isShowPlaceholder = false;\n      }else{\n        this.isShowPlaceholder = true;\n      }\n    }\n  },\n\n  computed:{\n    approvalType(): string {\n\t\t\treturn this.$route.query.approvalType ? this.$route.query.approvalType.toString() : '';\n\t\t},\n  },\n\n  mounted(){\n    this.getFileList(`${this.userID}`);\n  },\n\n  methods:{\n    async getFileList(userID: string){\n      const reqBody: CIB20100116_REQ_BODY = {\n        userID: userID\n      };\n    \n      const responseData = await this.$request.getRequest('CIB20100116', reqBody, false) as CIB20100116_RES; // get list of files\n\n      responseData.body.list.map((item)=>{\n        this.fileList.push({\n          fileId: item.fileId,\n          filePath: item.filePath\n        })\n        return this.fileInfo = item;\n      });\n\n      \n      if(this.fileInfo.fileId){\n        const responseFile = await this.$file.getFileInfo(this.fileInfo.fileId); // get file information\n        this.fileName = responseFile?.data.body.originalFileName;\n        this.fileInfo.fileId = responseFile?.data.body.fileId;\n      }else{\n        this.isShowPlaceholder = true;\n      }\n    },\n\n    onClickOperation(btn: string) {\n      switch (btn) {\n        case \"edit\": \n          this.isEditable = true;\n          if(this.fileList.length == 0){\n            this.isShowPlaceholder = true;\n            this.removeFileButton = false;\n          }else{\n            this.removeFileButton = true;\n          }\n          break;\n\n        case \"cancel\": \n          this.isEditable = false;\n          this.getFileList(`${this.userID}`);\n          this.removeFileButton = false;\n          break;\n\n        case \"list\":\n          this.$router.push('/corporate-internet-banking/subscription');\n          break;\n\n        case \"submit\":\n            this.$dialog.onOpen({\n            content: `${this.$t(\"message.would_you_like_to_save\")}`,\n            dialogMode:\"Question\",\n              callback:()=>{\n                this.handleUpdateFile();\n                modalController.dismiss();\n              }\n            })\n          break;\n      }\n    },\n\n    handleRemoveFile(){\n      this.fileInfo.fileId = '';\n      this.fileInfo.filePath = '';\n      this.getFile = null;\n      this.fileName = '';\n      this.removeFileButton = false;\n      this.isShowPlaceholder = true;\n      this.isEmptyFile = true\n    },\n\n    async handleUploadFile(event: any) {\n      this.isEmptyFile = false\n      const files = event.target.files;\n      const file = files[0];\n\n      this.getFile = file;\n      this.fileName = file.name;\n\n      if (file.size > 10485760) {\n        this.$dialog.onOpen({\n          content: this.$t('message.file_size_must_not_exceed_10MB'),\n          dialogMode: \"Warning\",\n          callback: () => {\n            modalController.dismiss()\n          },\n        });\n      }\n      else{\n        this.removeFileButton = true\n      const files = event.target.files;\n      const file = files[0];\n      if (file.size > 10485760) {\n        this.fileName = ''\n        this.fileInfo.fileId = ''\n        this.$dialog.onOpen({\n          content: this.$t('message.file_size_must_not_exceed_10MB'),\n          dialogMode: \"Warning\",\n          callback: () => {\n            modalController.dismiss()\n          },\n        });\n      } else {\n        this.getFile = file;\n        const size = fileSize.countFileSize(file.size);\n        this.fileSize = size;\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        this.fileName = file.name;\n        this.isShowPlaceholder = false;\n      }\n\n      const duplicatedFile = document.getElementById('actual-btn') as HTMLInputElement;\n      duplicatedFile.value = '';\n      }\n    },\n\n    async handleUpdateFile(){   \n      // this condition work when we click remove icon and it will remove all field in fileList to empty array\n      if (this.getFile === null && this.isEmptyFile) {\n        for (let i = 0; i < this.fileList.length; i++) {\n          await this.$file.updateFileStatus(this.fileList[i].fileId, FILE_TYPE.INACTIVE)\n          for (let i = 0; i < this.fileList.length; i++) {\n            const index = this.fileList.indexOf(this.fileList[i]);\n            this.fileList.splice(index, 1);\n          }\n        }\n      }\n\n      if (this.getFile !== null && !this.isEmptyFile) {\n        if(this.fileList.length == 0 ){\n          const res = await this.$file.uploadFile([this.getFile], \"CIB\")\n          for (let i = 0; i < res.data.body.fileList.length; i++) {\n            const resFileInfo = await this.$file.getFileInfo(res.data.body.fileList[i].fileId)\n            this.fileList.push({\n              filePath: resFileInfo.data.body.filePath,\n              fileId: res.data.body.fileList[i].fileId\n            })\n          }\n        }else if (this.fileList.length > 0){\n          const res = await this.$file.uploadFile([this.getFile], \"CIB\")\n          for (let index = 0; index < this.fileList.length; index++) {\n            await this.$file.updateFileStatus(this.fileList[index].fileId, FILE_TYPE.INACTIVE);\n            for (let i = 0; i < res.data.body.fileList.length; i++) {\n              await this.$file.getFileInfo(res.data.body.fileList[i].fileId).then(item =>\n                Object.assign(this.fileList[index], { fileId: res.data.body.fileList[i].fileId, filePath: item.data.body.filePath })\n              )\n            }\n          }\n        }\n      }\n\n      const reqBody: CIB2010033A_REQ_BODY = {\n        userID: `${this.userID}`,\n        customerNo: `${this.customerNo}`,\n        fileList: this.fileList\n      };\n\n      const responseData = await this.$request.getRequest('CIB2010033A', reqBody, false, 'CIB201003SS12') as CIB2010033A_RES;\n\n      if(this.approvalType){\n        this.isEditable = false;\n        this.removeFileButton = false;\n        this.$emit(\"isReseTButton\", false);\n      }\n\n      if(responseData.header.result){\n        this.isEditable = false;\n        this.removeFileButton = false;\n        this.$emit(\"isReseTButton\", false);\n        this.$dialog.onOpen({\n          content: this.$t(\"message.update_success\"),\n          dialogMode:\"Success\",\n          callback:()=>{\n            modalController.dismiss();\n          }\n        })\n      }else{\n        console.log(responseData.header.error_text);\n      }\n    },\n  }\n});\n","import { render } from \"./cib201003ss12.html?vue&type=template&id=6db68bad&scoped=true&ts=true\"\nimport script from \"./cib201003ss12.vue?vue&type=script&lang=ts\"\nexport * from \"./cib201003ss12.vue?vue&type=script&lang=ts\"\n\nimport \"./cib201003ss12.vue?vue&type=style&index=0&id=6db68bad&lang=scss&scoped=true\"\n\nimport exportComponent from \"/workspace/source/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6db68bad\"]])\n\nexport default __exports__"],"names":["FileSize","countFileSize","size","sufixes","i","Math","floor","log","pow","toFixed","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createElementVNode","_hoisted_9","_hoisted_10","render","_ctx","_cache","_component_ion_label","_resolveComponent","_component_ion_button","_openBlock","_createElementBlock","_toDisplayString","$t","isShowPlaceholder","_createBlock","key","default","_withCtx","_createTextVNode","_","_createCommentVNode","_createVNode","fileName","removeFileButton","onClick","$event","handleRemoveFile","id","ref","type","fileInfo","fileId","accept","onChange","handleUploadFile","disabled","isEditable","fileSize","defineComponent","name","props","approvalPayload","Object","required","currentTab","String","data","getFile","getImage","userID","this","$route","query","customerNo","filePath","transactionDate","attachFile","operationMode","fileList","tempFileList","isEmptyFile","watch","async","payload","authDetailParsed","JSON","parse","requestContent","map","item","responseFile","$file","getFileInfo","body","originalFileName","approvalType","isAllowTabChange","$emit","fileID","computed","toString","mounted","getFileList","methods","reqBody","responseData","$request","getRequest","list","push","onClickOperation","btn","length","$router","$dialog","onOpen","content","dialogMode","callback","handleUpdateFile","modalController","event","files","target","file","reader","FileReader","readAsDataURL","duplicatedFile","document","getElementById","value","updateFileStatus","FILE_TYPE","index","indexOf","splice","res","uploadFile","resFileInfo","then","assign","header","result","console","error_text","__exports__"],"sourceRoot":""}