"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9598],{28183:function(e,t,s){s.a(e,(async function(e,a){try{var i=s(66252),n=s(75080),r=s(72224),o=e([r]);r=(o.then?(await o)():o)[0],t["Z"]=(0,i.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(e){"/COM210001SC00"==this.$route.path&&(e&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:e,route:""}))}},methods:{pathDriver(e,t){if(""===this.approvalType){if(this.$route.path==e)return;t?this.$router.push({path:e,query:t}):this.$router.push(e)}},async renderMenuFromState(){return n.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((e=>""!=e.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(e){console.log("Error rendering menu:",e)}},async buildBreadcrumb(e,t){const s=e.find((e=>`/${e.screenID}`==t));if(s){if(this.generateBreadcrumbs(e,s),"/ICM201001SC00"==this.$route.path){const t=e.find((e=>"ICM201001SC00"==e.screenID));r.u.setData("SpecialScreenID",JSON.stringify(t))}}else{if("/CIB202003SC00"==this.$route.path){let t,s;s=e.find((e=>"CIB202002SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:s.menuID,menuID:"1"},this.generateBreadcrumbs(e,t)}const t=this.$route.path.replace("/","");let s=[];this.menuList.forEach((e=>{s.push(e.screenID)})),s.forEach((s=>{let a;if(this.matchScreenID(s,t)&&(a=e.find((e=>`${e.screenID}`==s)),a&&this.generateBreadcrumbs(e,a)),""!==this.approvalType&&("VBA202002SC00"==t||"CIB201003SC00"==t)&&this.matchApprovalModeScreenID(s,t)){const t=e.find((e=>`${e.screenID}`==s));this.generateBreadcrumbs(e,t)}}));let a=t.charAt(t.length-1);if("1"===a){let e={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`};this.breadcrumbs.push(e),r.u.setData("TempBreadCrumb",JSON.stringify(e))}else if("2"===a)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`});else{let e=JSON.parse(await r.u.getData("TempBreadCrumb"));this.breadcrumbs.push(e,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let s=this.$router.options.history.state.back,a=s.includes("/")?s.replace("/",""):s;const i=await e.find((e=>`${e.screenID}`==a));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let s=JSON.parse(await r.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,s)}else if("/CIB202003SC01"==this.$route.path){let s,a;this.breadcrumbs=[],a=e.find((e=>"CIB202002SC00"==e.screenID)),s={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:a.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,s)}else if("/PUM202002SC00"==this.$route.path){let t,s;s=e.find((e=>"COM200001SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:s.menuID},this.generateBreadcrumbs(e,t)}}},async generateBreadcrumbs(e,t){try{if(t){const s={menuName:t.menuName,route:`/${t.screenID}`,menuIconID:t.menuIconID};if(this.breadcrumbs.unshift(s),t.parentMenuID){const s=e.find((e=>e.menuID==t.parentMenuID));s&&this.generateBreadcrumbs(e,s)}}}catch(s){console.log(s)}},matchScreenID(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length-1;s++)if(e[s]!==t[s])return!1;return!0},matchApprovalModeScreenID(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length-5;s++)if(e[s]!==t[s])return!1;return!0}}}),a()}catch(u){a(u)}}))},83954:function(e,t,s){s.a(e,(async function(e,a){try{var i=s(66252),n=s(21638),r=s(90121),o=s(42615),u=e([r]);r=(u.then?(await u)():u)[0],t["Z"]=(0,i.aZ)({name:"cib202003sc00",components:{Pagination:n.Z,BreadCrumb:r.Z},data(){const e=this.$route.query.userID,t=this.$route.query.customerNo,s=this.$route.query.customerName,a=this.$route.query.managerBankID,i=this.$format.formatPhoneNumber(this.$route.query.cellPhoneNo),n=this.$route.query.companyName,r=this.$route.query.userStatus,u=this.$route.query.mainUserRoleID,c=[{columnName:this.$t("cib202003sc00.no")},{columnName:this.$t("cib202003sc00.view")},{columnName:this.$t("cib202003sc00.user_id")},{columnName:this.$t("cib202003sc00.user_name")},{columnName:this.$t("cib202003sc00.role")},{columnName:this.$t("cib202003sc00.cell_phone_no")},{columnName:this.$t("cib202003sc00.user_status")}];return{headers:c,subUserLists:[],customerInfo:{userID:"",customerNo:"",customerName:"",masterUserID:"",cellPhoneNo:"",managerBankID:""},userID:e,customerNo:t,customerName:s,managerBankID:a,cellPhoneNo:i,companyName:n,masterUserStatus:r,mainUserRoleID:u,isDisableInput:!0,isDisableRegister:!1,pageNumber:1,pageSize:o.IV,startingNo:1,totalUser:0}},mounted(){this.getSubUserLists(),this.handleCheckMasterUserStatus()},computed:{userStatusCode(){return(e,t)=>`${e} : ${t}`}},methods:{async getSubUserLists(){const e={customerNo:`${this.customerNo}`,managerBankID:`${this.managerBankID}`,pageSize:this.pageSize,pageNumber:this.pageNumber};this.customerInfo.customerNo=`${this.customerNo}`,this.customerInfo.customerName=`${this.customerName}`,this.customerInfo.masterUserID=`${this.managerBankID}`,this.customerInfo.cellPhoneNo=`${this.cellPhoneNo}`;const t=await this.$request.getRequest("CIB20200311",e,!1),s=t?.body.list.map(((e,t)=>(e["No"]=t+this.startingNo,e["User ID"]=e.userID,e["User Name"]=""+(e.firstName+" "+e.lastName),e["Role"]=e.userRoleIDName,e["Cell Phone No"]=this.$format.formatPhoneNumber(e.cellPhoneNo),e["User Status"]=this.userStatusCode(e.serviceStatusCode,this.$codeConverter.convertValue("ServiceStatusCode",e.serviceStatusCode)),e)));this.totalUser=t.body.totalCount,this.subUserLists=s},backToCompanyList(){this.$router.push("CIB202002SC00")},handleCheckMasterUserStatus(){"00"==this.masterUserStatus&&"STP"==this.mainUserRoleID||"01"==this.masterUserStatus&&"STP"==this.mainUserRoleID||"00"==this.masterUserStatus&&"STP"!=this.mainUserRoleID||"01"==this.masterUserStatus&&"STP"!=this.mainUserRoleID?this.isDisableRegister=!1:this.isDisableRegister=!0},moveToRegister(){this.$router.push({path:"CIB202003SC01",query:{type:"register",userID:this.userID,customerNo:this.customerNo,customerName:this.customerName,managerBankID:this.managerBankID,companyName:this.companyName,userStatus:this.masterUserStatus,mainUserRoleID:this.mainUserRoleID}})},moveToEditRegister(e){this.$router.push({path:"CIB202003SC01",query:{type:"edit",customerNo:this.subUserLists[e].customerNo,customerName:this.customerName,userID:this.subUserLists[e].userID,managerBankID:this.subUserLists[e].managerBankID,cellPhoneNo:this.cellPhoneNo,userStatus:this.masterUserStatus,mainUserRoleID:this.mainUserRoleID}})},handlePagination(e){this.pageNumber=e,this.getSubUserLists()},handleStartingIndex(e){this.startingNo=e}}}),a()}catch(c){a(c)}}))},90121:function(e,t,s){s.a(e,(async function(e,a){try{var i=s(55864),n=s(44104),r=(s(55241),s(83744)),o=e([n]);n=(o.then?(await o)():o)[0];const u=(0,r.Z)(n.Z,[["render",i.s],["__scopeId","data-v-6668b2f2"]]);t["Z"]=u,a()}catch(u){a(u)}}))},21638:function(e,t,s){s.d(t,{Z:function(){return p}});var a=s(66252),i=s(3577);const n=e=>((0,a.dD)("data-v-3886d7e2"),e=e(),(0,a.Cn)(),e),r={class:"grid_footer"},o={key:0,class:"grid_option"},u={class:"list_count"},c=n((()=>(0,a._)("dd",null,[(0,a._)("span",null," item(s)")],-1))),l={key:1,class:"paginaton"};function h(e,t){const s=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",r,[e.showTotal?((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",u,[(0,a._)("dl",null,[(0,a._)("dt",null,[(0,a._)("strong",null,(0,i.zw)(e.$util.addComma(e.totalCount,3)),1)]),c])])])):(0,a.kq)("",!0),e.perPage>0&&e.totalCount>0&&e.totalCount>e.perPage?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(s,{class:"btn_page_prev",onClick:e.backwardPagination,disabled:e.isDisabledPrev},{default:(0,a.w5)((()=>[(0,a.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.totalPagination,(t=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(s,{class:(0,i.C_)([e.currentPage==t?"on":""]),onClick:s=>e.onClickPagination(t),disabled:"..."===t},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,a.Wm)(s,{class:"btn_page_next",onClick:e.forwardPagination,disabled:e.isDisabledNext},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,a.kq)("",!0)])}var m=(0,a.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(e){e&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(e){this.currentPage=e;const t=[];if(this.endPagination-this.currentPage>=this.maxPageShow){t.push(this.currentPage.toString());for(let s=0;s<this.maxPageShow-4;s++)t.push((e+s+1).toString());t.push("..."),t.push((this.endPagination-1).toString()),t.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let s=1;s<=this.endPagination;s++)t.push(s.toString());else for(let s=this.endPagination-this.maxPageShow+1;s<=this.endPagination;s++)t.push(s.toString());return this.totalPagination=t,e},dividePage(){const e=this.totalCount/this.perPage;if(e%1!=0){const t=e.toString().split(".");return(0,i.He)(t[0])+1}return(0,i.He)(e.toFixed())},onClickPagination(e){this.currentPage!=parseInt(e)&&(this.currentPage=parseInt(e),this.findPagination(parseInt(e)),this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let e=10==this.currentPage?9:10,t=this.currentPage-e;t<1?(t=1,await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let e=1==this.currentPage?9:10,t=this.currentPage+e;t>Number(this.totalPagination.slice(-1))?(t=Number(this.totalPagination.slice(-1)),await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),d=s(83744);const g=(0,d.Z)(m,[["render",h],["__scopeId","data-v-3886d7e2"]]);var p=g},79598:function(e,t,s){s.a(e,(async function(e,a){try{s.r(t);var i=s(33374),n=s(64394),r=s(83744),o=e([n]);n=(o.then?(await o)():o)[0];const u=(0,r.Z)(n.Z,[["render",i.s]]);t["default"]=u,a()}catch(u){a(u)}}))},55241:function(){},44104:function(e,t,s){s.a(e,(async function(e,a){try{s.d(t,{Z:function(){return i.Z}});var i=s(28183),n=e([i]);i=(n.then?(await n)():n)[0],a()}catch(r){a(r)}}))},64394:function(e,t,s){s.a(e,(async function(e,a){try{s.d(t,{Z:function(){return i.Z}});var i=s(83954),n=e([i]);i=(n.then?(await n)():n)[0],a()}catch(r){a(r)}}))},55864:function(e,t,s){s.d(t,{s:function(){return r}});var a=s(66252),i=s(3577);const n={class:"bread_crumb"};function r(e,t){const s=(0,a.up)("ion-label");return(0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.breadcrumbs,((t,n)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:n},[t.menuIconID&&0==n?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,i.C_)(["icon_menu",[t.menuIconID]])},null,2)):(0,a.kq)("",!0),""==t.route||"/"==t.route?((0,a.wg)(),(0,a.j4)(s,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1024)):(0,a.kq)("",!0),""!=t.route&&"/"!=t.route?((0,a.wg)(),(0,a.j4)(s,{key:2,onClick:s=>e.pathDriver(t.route,e.queryData)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1032,["onClick"])):(0,a.kq)("",!0)],64)))),128))])}},33374:function(e,t,s){s.d(t,{s:function(){return T}});var a=s(66252),i=s(3577);const n={class:"contentWrap"},r={class:"title_name"},o={class:"cont"},u={class:"card_box"},c={class:"row gap"},l={class:"col"},h={class:"form01"},m={class:"inp_box"},d={class:"inp"},g={class:"col"},p={class:"form01"},b={class:"inp_box"},_={class:"inp"},f={class:"row gap"},N={class:"col"},P={class:"form01"},I={class:"inp_box"},D={class:"inp"},S={class:"col"},$={class:"form01"},y={class:"inp_box"},w={class:"inp"},C={class:"gridwrap"},v={class:"grid_option"},k={class:"option"},U={class:"add_sm"},B={class:"tableWrap"},x={class:"table01 fixed"},q=(0,a._)("colgroup",null,[(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col"),(0,a._)("col"),(0,a._)("col"),(0,a._)("col"),(0,a._)("col"),(0,a._)("col"),(0,a._)("col")],-1),M={class:"sticky_head"},z={class:"tbody_section"},R={class:"footer_btn"},L={class:"left_side"};function T(e,t){const s=(0,a.up)("BreadCrumb"),T=(0,a.up)("ion-input"),Z=(0,a.up)("ion-button"),V=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(s,{staticScreenName:e.$t("cib202003sc00.sub_user_list")},null,8,["staticScreenName"]),(0,a._)("h1",r,(0,i.zw)(e.$t("cib202003sc00.sub_user_list")),1),(0,a._)("div",o,[(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("div",l,[(0,a._)("dl",h,[(0,a._)("dt",null,(0,i.zw)(e.$t("cib202003sc00.customer_no")),1),(0,a._)("dd",null,[(0,a._)("div",m,[(0,a._)("div",d,[(0,a.Wm)(T,{class:"line",placeholder:e.$t("cib202003sc00.enter_customer_no"),value:"",modelValue:e.customerInfo.customerNo,"onUpdate:modelValue":t[0]||(t[0]=t=>e.customerInfo.customerNo=t),modelModifiers:{trim:!0},readonly:e.isDisableInput},null,8,["placeholder","modelValue","readonly"])])])])])]),(0,a._)("div",g,[(0,a._)("dl",p,[(0,a._)("dt",null,(0,i.zw)(e.$t("cib202003sc00.customer_name")),1),(0,a._)("dd",null,[(0,a._)("div",b,[(0,a._)("div",_,[(0,a.Wm)(T,{class:"line",placeholder:e.$t("cib202003sc00.enter_customer_name"),value:"",modelValue:e.customerInfo.customerName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.customerInfo.customerName=t),readonly:e.isDisableInput},null,8,["placeholder","modelValue","readonly"])])])])])])]),(0,a._)("div",f,[(0,a._)("div",N,[(0,a._)("dl",P,[(0,a._)("dt",null,(0,i.zw)(e.$t("cib202003sc00.master_user_id")),1),(0,a._)("dd",null,[(0,a._)("div",I,[(0,a._)("div",D,[(0,a.Wm)(T,{class:"line",placeholder:e.$t("cib202003sc00.enter_master_user_id"),value:"",modelValue:e.customerInfo.masterUserID,"onUpdate:modelValue":t[2]||(t[2]=t=>e.customerInfo.masterUserID=t),readonly:e.isDisableInput},null,8,["placeholder","modelValue","readonly"])])])])])]),(0,a._)("div",S,[(0,a._)("dl",$,[(0,a._)("dt",null,(0,i.zw)(e.$t("cib202003sc00.cell_phone_no")),1),(0,a._)("dd",null,[(0,a._)("div",y,[(0,a._)("div",w,[(0,a.Wm)(T,{class:"line",placeholder:e.$t("cib202003sc00.enter_cell_phone_no"),value:"",modelValue:e.customerInfo.cellPhoneNo,"onUpdate:modelValue":t[3]||(t[3]=t=>e.customerInfo.cellPhoneNo=t),readonly:e.isDisableInput},null,8,["placeholder","modelValue","readonly"])])])])])])])]),(0,a._)("div",C,[(0,a._)("div",v,[(0,a._)("div",k,[(0,a.Wm)(Z,{class:"btn01 btn_ico btn_sm",onClick:t[4]||(t[4]=t=>e.moveToRegister()),disabled:e.isDisableRegister},{default:(0,a.w5)((()=>[(0,a._)("span",U,(0,i.zw)(e.$t("common.register")),1)])),_:1},8,["disabled"])])]),(0,a._)("div",B,[(0,a._)("table",x,[q,(0,a._)("thead",M,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.headers,(e=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,i.zw)(e.columnName),1)])))),256))])]),(0,a._)("tbody",z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.subUserLists,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["No"]),1)]),(0,a._)("td",null,[(0,a.Wm)(Z,{class:"btn_view",onClick:t=>e.moveToEditRegister(s)},{default:(0,a.w5)((()=>[(0,a.Uk)("View")])),_:2},1032,["onClick"])]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["User ID"]),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["User Name"]),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["Role"]),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["Cell Phone No"]),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t["User Status"]),1)])])))),256))])])]),(0,a.Wm)(V,{totalCount:e.totalUser,perPage:e.pageSize,onGetPageNumber:e.handlePagination,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","onGetStartingIndex"])]),(0,a._)("div",R,[(0,a._)("div",L,[(0,a.Wm)(Z,{class:"btn01",onClick:t[5]||(t[5]=t=>e.backToCompanyList())},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,i.zw)(e.$t("common.list")),1)])),_:1})])])])])}}}]);
//# sourceMappingURL=9598.57e74eef.js.map