"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[4067],{28183:function(t,e,a){a.a(t,(async function(t,i){try{var n=a(66252),s=a(75080),r=a(72224),o=t([r]);r=(o.then?(await o)():o)[0],e["Z"]=(0,n.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(t){"/COM210001SC00"==this.$route.path&&(t&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:t,route:""}))}},methods:{pathDriver(t,e){if(""===this.approvalType){if(this.$route.path==t)return;e?this.$router.push({path:t,query:e}):this.$router.push(t)}},async renderMenuFromState(){return s.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((t=>""!=t.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(t){console.log("Error rendering menu:",t)}},async buildBreadcrumb(t,e){const a=t.find((t=>`/${t.screenID}`==e));if(a){if(this.generateBreadcrumbs(t,a),"/ICM201001SC00"==this.$route.path){const e=t.find((t=>"ICM201001SC00"==t.screenID));r.u.setData("SpecialScreenID",JSON.stringify(e))}}else{if("/CIB202003SC00"==this.$route.path){let e,a;a=t.find((t=>"CIB202002SC00"==t.screenID)),e={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:a.menuID,menuID:"1"},this.generateBreadcrumbs(t,e)}const e=this.$route.path.replace("/","");let a=[];this.menuList.forEach((t=>{a.push(t.screenID)})),a.forEach((a=>{let i;if(this.matchScreenID(a,e)&&(i=t.find((t=>`${t.screenID}`==a)),i&&this.generateBreadcrumbs(t,i)),""!==this.approvalType&&("VBA202002SC00"==e||"CIB201003SC00"==e)&&this.matchApprovalModeScreenID(a,e)){const e=t.find((t=>`${t.screenID}`==a));this.generateBreadcrumbs(t,e)}}));let i=e.charAt(e.length-1);if("1"===i){let t={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`};this.breadcrumbs.push(t),r.u.setData("TempBreadCrumb",JSON.stringify(t))}else if("2"===i)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`});else{let t=JSON.parse(await r.u.getData("TempBreadCrumb"));this.breadcrumbs.push(t,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let a=this.$router.options.history.state.back,i=a.includes("/")?a.replace("/",""):a;const n=await t.find((t=>`${t.screenID}`==i));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,n)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let a=JSON.parse(await r.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,a)}else if("/CIB202003SC01"==this.$route.path){let a,i;this.breadcrumbs=[],i=t.find((t=>"CIB202002SC00"==t.screenID)),a={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:i.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,a)}else if("/PUM202002SC00"==this.$route.path){let e,a;a=t.find((t=>"COM200001SC00"==t.screenID)),e={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:a.menuID},this.generateBreadcrumbs(t,e)}}},async generateBreadcrumbs(t,e){try{if(e){const a={menuName:e.menuName,route:`/${e.screenID}`,menuIconID:e.menuIconID};if(this.breadcrumbs.unshift(a),e.parentMenuID){const a=t.find((t=>t.menuID==e.parentMenuID));a&&this.generateBreadcrumbs(t,a)}}}catch(a){console.log(a)}},matchScreenID(t,e){if(t.length!==e.length)return!1;for(let a=0;a<t.length-1;a++)if(t[a]!==e[a])return!1;return!0},matchApprovalModeScreenID(t,e){if(t.length!==e.length)return!1;for(let a=0;a<t.length-5;a++)if(t[a]!==e[a])return!1;return!0}}}),i()}catch(c){i(c)}}))},5260:function(t,e,a){a.a(t,(async function(t,i){try{var n=a(42615),s=a(66252),r=a(21638),o=a(90121),c=a(43493),u=a(62428),l=a(61928),h=t([o]);o=(h.then?(await h)():h)[0];const d=new u.Z;e["Z"]=(0,s.aZ)({name:"pum202002sc00",components:{Pagination:r.Z,BreadCrumb:o.Z,IonContent:c.W2,IonInfiniteScroll:c.ju,IonInfiniteScrollContent:c.MB},data(){return{list:[],inputSearchTitle:"",filterTab:"",pageNumber:1,totalItem:0,pageSize:n.IV,isReset:!1,startingIndex:1,headers:[{columnName:"No"},{columnName:"Type"},{columnName:"Title"},{columnName:"Date"}]}},async mounted(){await this.getNotificationList()},methods:{async getNotificationList(){const t={pageSize:this.pageSize,pageNumber:this.pageNumber,searchValue:this.inputSearchTitle.trim(),searchTypeCode:this.filterTab},e=await this.$request.getRequest("PUM20300111",t,!1);e.header.result&&(this.list=e.body.list,this.totalItem=e.body.totalCount)},openNotificationDetail(t){d.onOpen({dataProp:{data:t},component:l.Z,callback:()=>{this.getNotificationList()}})},onReset(){this.isReset=!0,this.pageNumber=1,this.inputSearchTitle="",this.getNotificationList()},handlePagination(t){this.isReset=!1,this.pageNumber=t,this.getNotificationList()},handleStartingIndex(t){this.startingIndex=t},ionInfinite(t){Number(this.pageSize)<Number(this.totalItem)&&(this.pageSize+=n.IV),Number(this.pageSize)<=Number(this.totalItem)&&this.getNotificationList(),setTimeout((()=>t.target.complete()),1e3)}}}),i()}catch(d){i(d)}}))},90121:function(t,e,a){a.a(t,(async function(t,i){try{var n=a(55864),s=a(44104),r=(a(55241),a(83744)),o=t([s]);s=(o.then?(await o)():o)[0];const c=(0,r.Z)(s.Z,[["render",n.s],["__scopeId","data-v-6668b2f2"]]);e["Z"]=c,i()}catch(c){i(c)}}))},61928:function(t,e,a){a.d(e,{Z:function(){return N}});var i=a(66252),n=a(3577);const s=t=>((0,i.dD)("data-v-03351900"),t=t(),(0,i.Cn)(),t),r={class:"popup"},o={class:"popWrap w1024"},c={class:"pop_head"},u=s((()=>(0,i._)("h1",null,"Notification Center Detail",-1))),l={class:"pop_cont"},h={class:"noti_cont"},d={key:0,class:"cont_detail"},g=["innerHTML"],m={class:"date_time"};function p(t,e,a,s,p,f){const b=(0,i.up)("ion-button");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[(0,i._)("div",c,[u,(0,i.Wm)(b,{class:"btn_pop_close",onClick:t.onClose},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t.$t("common.close")),1)])),_:1},8,["onClick"])]),(0,i._)("div",l,[(0,i._)("div",h,[(0,i._)("h1",null,(0,n.zw)(t.data.messageTitle||""),1),t.data.messageContentHtml?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"cont_detail",innerHTML:t.data.messageContentHtml},null,8,g)):((0,i.wg)(),(0,i.iD)("div",d,(0,n.zw)(t.data.messageContent),1)),(0,i._)("p",null,[(0,i._)("span",m,(0,n.zw)(t.$datetime.formatStringToStringDate(t.detail.transactionOccurDate))+" "+(0,n.zw)(t.$datetime.formatStringToTime(t.detail.transactionOccurTime)),1)])])])])])}var f,b=a(43493);(function(t){t["notice"]="02",t["approval"]="03"})(f||(f={}));var P=(0,i.aZ)({name:"NotificationDetailPopup",props:{data:{type:Object,required:!0}},data(){return{NotificationServiceTypeCode:f,detail:{customerSendTime:"",firstRegisterBranchCode:"",firstRegisterDate:"",firstRegisterTellerID:"",firstRegisterTime:"",frameworkChangeTimeStamp:"",lastChangeBranchCode:"",lastChangeDate:"",lastChangeTellerID:"",lastChangeTime:"",messageContent:"",messageContentHtml:"",messagePayload:"",messageTitle:"",messageTypeCode:"",notificationSendTime:"",processDate:"",pushIcon:"",transactionOccurDate:"",transactionOccurTime:"",transactionSeqNo:0}}},mounted(){this.getNotificationDetail(),this.updateNotificationReadDatetime()},methods:{async getNotificationDetail(){const t={processDate:this.data.processDate,transactionSeqNo:this.data.transactionSeqNo},e=await this.$request.getRequest("PUM20300112",t,!1);e.header.result&&(this.detail=e.body)},async updateNotificationReadDatetime(){const t={processDate:this.data.processDate,transactionSeqNo:this.data.transactionSeqNo};await this.$request.getRequest("PUM20300131",t,!1)},async onClose(){await b.Fy.dismiss(null,"confirm")}}}),S=a(83744);const _=(0,S.Z)(P,[["render",p],["__scopeId","data-v-03351900"]]);var N=_},21638:function(t,e,a){a.d(e,{Z:function(){return p}});var i=a(66252),n=a(3577);const s=t=>((0,i.dD)("data-v-3886d7e2"),t=t(),(0,i.Cn)(),t),r={class:"grid_footer"},o={key:0,class:"grid_option"},c={class:"list_count"},u=s((()=>(0,i._)("dd",null,[(0,i._)("span",null," item(s)")],-1))),l={key:1,class:"paginaton"};function h(t,e){const a=(0,i.up)("ion-button");return(0,i.wg)(),(0,i.iD)("div",r,[t.showTotal?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",c,[(0,i._)("dl",null,[(0,i._)("dt",null,[(0,i._)("strong",null,(0,n.zw)(t.$util.addComma(t.totalCount,3)),1)]),u])])])):(0,i.kq)("",!0),t.perPage>0&&t.totalCount>0&&t.totalCount>t.perPage?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(a,{class:"btn_page_prev",onClick:t.backwardPagination,disabled:t.isDisabledPrev},{default:(0,i.w5)((()=>[(0,i.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.totalPagination,(e=>((0,i.wg)(),(0,i.iD)("li",null,[(0,i.Wm)(a,{class:(0,n.C_)([t.currentPage==e?"on":""]),onClick:a=>t.onClickPagination(e),disabled:"..."===e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,i.Wm)(a,{class:"btn_page_next",onClick:t.forwardPagination,disabled:t.isDisabledNext},{default:(0,i.w5)((()=>[(0,i.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,i.kq)("",!0)])}var d=(0,i.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(t){t&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(t){this.currentPage=t;const e=[];if(this.endPagination-this.currentPage>=this.maxPageShow){e.push(this.currentPage.toString());for(let a=0;a<this.maxPageShow-4;a++)e.push((t+a+1).toString());e.push("..."),e.push((this.endPagination-1).toString()),e.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let a=1;a<=this.endPagination;a++)e.push(a.toString());else for(let a=this.endPagination-this.maxPageShow+1;a<=this.endPagination;a++)e.push(a.toString());return this.totalPagination=e,t},dividePage(){const t=this.totalCount/this.perPage;if(t%1!=0){const e=t.toString().split(".");return(0,n.He)(e[0])+1}return(0,n.He)(t.toFixed())},onClickPagination(t){this.currentPage!=parseInt(t)&&(this.currentPage=parseInt(t),this.findPagination(parseInt(t)),this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let t=10==this.currentPage?9:10,e=this.currentPage-t;e<1?(e=1,await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let t=1==this.currentPage?9:10,e=this.currentPage+t;e>Number(this.totalPagination.slice(-1))?(e=Number(this.totalPagination.slice(-1)),await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),g=a(83744);const m=(0,g.Z)(d,[["render",h],["__scopeId","data-v-3886d7e2"]]);var p=m},18638:function(t,e,a){a.a(t,(async function(t,i){try{a.r(e);var n=a(98878),s=a(69114),r=(a(82377),a(83744)),o=t([s]);s=(o.then?(await o)():o)[0];const c=(0,r.Z)(s.Z,[["render",n.s],["__scopeId","data-v-d2ca4896"]]);e["default"]=c,i()}catch(c){i(c)}}))},55241:function(){},82377:function(){},44104:function(t,e,a){a.a(t,(async function(t,i){try{a.d(e,{Z:function(){return n.Z}});var n=a(28183),s=t([n]);n=(s.then?(await s)():s)[0],i()}catch(r){i(r)}}))},69114:function(t,e,a){a.a(t,(async function(t,i){try{a.d(e,{Z:function(){return n.Z}});var n=a(5260),s=t([n]);n=(s.then?(await s)():s)[0],i()}catch(r){i(r)}}))},55864:function(t,e,a){a.d(e,{s:function(){return r}});var i=a(66252),n=a(3577);const s={class:"bread_crumb"};function r(t,e){const a=(0,i.up)("ion-label");return(0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.breadcrumbs,((e,s)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:s},[e.menuIconID&&0==s?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)(["icon_menu",[e.menuIconID]])},null,2)):(0,i.kq)("",!0),""==e.route||"/"==e.route?((0,i.wg)(),(0,i.j4)(a,{key:1},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t.$t(`${e.menuName}`)),1)])),_:2},1024)):(0,i.kq)("",!0),""!=e.route&&"/"!=e.route?((0,i.wg)(),(0,i.j4)(a,{key:2,onClick:a=>t.pathDriver(e.route,t.queryData)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t.$t(`${e.menuName}`)),1)])),_:2},1032,["onClick"])):(0,i.kq)("",!0)],64)))),128))])}},98878:function(t,e,a){a.d(e,{s:function(){return B}});var i=a(66252),n=a(49963),s=a(3577);const r=t=>((0,i.dD)("data-v-d2ca4896"),t=t(),(0,i.Cn)(),t),o={class:"contentWrap"},c=r((()=>(0,i._)("h1",{class:"title_name"},"Notification Center",-1))),u={class:"cont"},l={class:"row gap"},h={class:"col"},d={class:"form01"},g=r((()=>(0,i._)("dt",null,"Search Keyword",-1))),m={class:"inp_box search"},p={class:"inp"},f={class:"row gap"},b={class:"col"},P={class:"footer_btn"},S={class:"right_side"},_={class:"gridwrap"},N=r((()=>(0,i._)("div",{class:"grid_option"},[(0,i._)("div",{class:"option"})],-1))),w={class:"tableWrap"},D={class:"table01 fixed"},C=r((()=>(0,i._)("colgroup",null,[(0,i._)("col",{style:{width:"80px"}}),(0,i._)("col",{style:{width:"80px"}}),(0,i._)("col"),(0,i._)("col",{style:{width:"80px"}})],-1))),y={class:"sticky_head"},I={class:"tbody_section"},v=["id","onClick"],$={class:"txt_left"},k={key:0,class:"no_data"},T=r((()=>(0,i._)("p",null,"No Data",-1))),x=[T];function B(t,e){const a=(0,i.up)("BreadCrumb"),r=(0,i.up)("ion-input"),T=(0,i.up)("ion-button"),B=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(a,{staticScreenName:"Notification"}),c,(0,i._)("div",u,[(0,i._)("div",l,[(0,i._)("div",h,[(0,i._)("dl",d,[g,(0,i._)("dd",null,[(0,i._)("div",m,[(0,i._)("div",p,[(0,i.Wm)(r,{modelValue:t.inputSearchTitle,"onUpdate:modelValue":e[0]||(e[0]=e=>t.inputSearchTitle=e),modelModifiers:{trim:!0},placeholder:"Search Keyword",onKeyup:e[1]||(e[1]=(0,n.D2)((e=>t.getNotificationList()),["enter"]))},null,8,["modelValue"])])])])])])]),(0,i._)("div",f,[(0,i._)("div",b,[(0,i._)("div",P,[(0,i._)("div",S,[(0,i.Wm)(T,{class:"btn01",onClick:e[2]||(e[2]=e=>t.getNotificationList())},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,s.zw)(t.$t("common.search")),1)])),_:1}),(0,i.Wm)(T,{class:"btn_refresh",onClick:e[3]||(e[3]=e=>t.onReset())},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,s.zw)(t.$t("common.reset")),1)])),_:1})])])])]),(0,i._)("div",_,[N,(0,i._)("div",w,[(0,i._)("table",D,[C,(0,i._)("thead",y,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.headers,(t=>((0,i.wg)(),(0,i.iD)("th",null,[(0,i._)("span",null,(0,s.zw)(t.columnName),1)])))),256))])]),(0,i._)("tbody",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.list,((e,a)=>((0,i.wg)(),(0,i.iD)("tr",{id:`row-${t.startingIndex+a}`,onClick:i=>(t.$util.rowFocus(`row-${t.startingIndex+a}`),t.openNotificationDetail(e))},[(0,i._)("td",null,[(0,i._)("span",null,(0,s.zw)(t.startingIndex+a),1)]),(0,i._)("td",null,[(0,i._)("span",null,(0,s.zw)(t.$codeConverter.convertValue("NotificationServiceTypeCode",e.notificationServiceTypeCode)),1)]),(0,i._)("td",$,[(0,i._)("span",null,(0,s.zw)(e.messageTitle),1)]),(0,i._)("td",null,[(0,i._)("span",null,(0,s.zw)(t.$datetime.formatStringToStringDate(e.transactionOccurDate))+" "+(0,s.zw)(t.$datetime.formatStringToTime(e.transactionOccurTime)),1)])],8,v)))),256))])]),0===t.totalItems?((0,i.wg)(),(0,i.iD)("div",k,x)):(0,i.kq)("",!0)]),(0,i.Wm)(B,{totalCount:t.totalItem,perPage:t.pageSize,onGetPageNumber:t.handlePagination,resetPage:t.isReset,onGetStartingIndex:t.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])])])}}}]);
//# sourceMappingURL=customer-message.c0a293b4.js.map