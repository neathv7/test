"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[7266],{21638:function(e,t,a){a.d(t,{Z:function(){return p}});var i=a(66252),n=a(3577);const s=e=>((0,i.dD)("data-v-3886d7e2"),e=e(),(0,i.Cn)(),e),l={class:"grid_footer"},o={key:0,class:"grid_option"},r={class:"list_count"},u=s((()=>(0,i._)("dd",null,[(0,i._)("span",null," item(s)")],-1))),d={key:1,class:"paginaton"};function c(e,t){const a=(0,i.up)("ion-button");return(0,i.wg)(),(0,i.iD)("div",l,[e.showTotal?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("dl",null,[(0,i._)("dt",null,[(0,i._)("strong",null,(0,n.zw)(e.$util.addComma(e.totalCount,3)),1)]),u])])])):(0,i.kq)("",!0),e.perPage>0&&e.totalCount>0&&e.totalCount>e.perPage?((0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(a,{class:"btn_page_prev",onClick:e.backwardPagination,disabled:e.isDisabledPrev},{default:(0,i.w5)((()=>[(0,i.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.totalPagination,(t=>((0,i.wg)(),(0,i.iD)("li",null,[(0,i.Wm)(a,{class:(0,n.C_)([e.currentPage==t?"on":""]),onClick:a=>e.onClickPagination(t),disabled:"..."===t},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,i.Wm)(a,{class:"btn_page_next",onClick:e.forwardPagination,disabled:e.isDisabledNext},{default:(0,i.w5)((()=>[(0,i.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,i.kq)("",!0)])}var g=(0,i.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(e){e&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(e){this.currentPage=e;const t=[];if(this.endPagination-this.currentPage>=this.maxPageShow){t.push(this.currentPage.toString());for(let a=0;a<this.maxPageShow-4;a++)t.push((e+a+1).toString());t.push("..."),t.push((this.endPagination-1).toString()),t.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let a=1;a<=this.endPagination;a++)t.push(a.toString());else for(let a=this.endPagination-this.maxPageShow+1;a<=this.endPagination;a++)t.push(a.toString());return this.totalPagination=t,e},dividePage(){const e=this.totalCount/this.perPage;if(e%1!=0){const t=e.toString().split(".");return(0,n.He)(t[0])+1}return(0,n.He)(e.toFixed())},onClickPagination(e){this.currentPage!=parseInt(e)&&(this.currentPage=parseInt(e),this.findPagination(parseInt(e)),this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let e=10==this.currentPage?9:10,t=this.currentPage-e;t<1?(t=1,await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let e=1==this.currentPage?9:10,t=this.currentPage+e;t>Number(this.totalPagination.slice(-1))?(t=Number(this.totalPagination.slice(-1)),await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),h=a(83744);const m=(0,h.Z)(g,[["render",c],["__scopeId","data-v-3886d7e2"]]);var p=m},27266:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var i=a(66252),n=a(3577);const s=e=>((0,i.dD)("data-v-326f60c0"),e=e(),(0,i.Cn)(),e),l={class:"contentWrap"},o={class:"bread_crumb"},r={class:"title_name"},u={class:"cont"},d={class:"row gap"},c={class:"col-6"},g={class:"form01"},h={class:"inp_box"},m={class:"inp"},p={class:"col-6"},_={class:"form01"},P={class:"footer_btn"},b={class:"right_side"},w={class:"gridwrap"},f={class:"grid_option"},v={class:"option"},C={class:"add_sm"},k={class:"tableWrap"},$={class:"table01 fixed"},R=s((()=>(0,i._)("colgroup",null,[(0,i._)("col",{style:{width:"80px"}}),(0,i._)("col",{style:{width:"120px"}}),(0,i._)("col",{style:{width:"200px"}}),(0,i._)("col",{style:{width:"200px"}}),(0,i._)("col",{style:{width:"200px"}}),(0,i._)("col",{style:{width:"300px"}})],-1))),S={class:"sticky_head"},x={class:"tbody_section"};function y(e,t){const a=(0,i.up)("ion-label"),s=(0,i.up)("ion-input"),y=(0,i.up)("ion-select-option"),D=(0,i.up)("ion-select"),N=(0,i.up)("ion-button"),z=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",o,[(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("com207003sc00.label.home")),1)])),_:1}),(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("com207003sc00.label.ib_management")),1)])),_:1}),(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("com207003sc00.label.ib_role")),1)])),_:1}),(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("com207003sc00.label.ib_role_list")),1)])),_:1})]),(0,i._)("h1",r,(0,n.zw)(e.$t("com207003sc00.label.ib_role_list")),1),(0,i._)("div",u,[(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("dl",g,[(0,i._)("dt",null,(0,n.zw)(e.$t("com207003sc00.label.role_id")),1),(0,i._)("dd",null,[(0,i._)("div",h,[(0,i._)("div",m,[(0,i.Wm)(s,{class:"",value:"",modelValue:e.searchField.userRoleID,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchField.userRoleID=t),placeholder:e.$t("com207003sc00.label.role_id")},null,8,["modelValue","placeholder"])])])])])]),(0,i._)("div",p,[(0,i._)("dl",_,[(0,i._)("dt",null,(0,n.zw)(e.$t("com207003sc00.label.status")),1),(0,i._)("dd",null,[(0,i.Wm)(D,{interface:"popover",interfaceOptions:{size:"cover"},class:"",placeholder:"Select",modelValue:e.searchField.userRoleStatusCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchField.userRoleStatusCode=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(y,{value:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("common.all")),1)])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.COMMON_KEY_VALUE.screenStatusCode,((e,t)=>((0,i.wg)(),(0,i.j4)(y,{value:e.key},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.value),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])])])]),(0,i._)("div",P,[(0,i._)("div",b,[(0,i.Wm)(N,{onClick:e.handleSearch,class:"btn02"},{default:(0,i.w5)((()=>[(0,i._)("span",null,(0,n.zw)(e.$t("com207003sc00.button.search")),1)])),_:1},8,["onClick"]),(0,i.Wm)(N,{onClick:e.handleRefresh,class:"btn_refresh"},null,8,["onClick"])])]),(0,i._)("div",w,[(0,i._)("div",f,[(0,i._)("div",v,[(0,i.Wm)(N,{class:"btn02 btn_sm btn_ico",onClick:e.handleRegister},{default:(0,i.w5)((()=>[(0,i._)("span",C,(0,n.zw)(e.$t("com207003sc00.button.register")),1)])),_:1},8,["onClick"])])]),(0,i._)("div",k,[(0,i._)("table",$,[R,(0,i._)("thead",S,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.headers,(e=>((0,i.wg)(),(0,i.iD)("th",null,[(0,i._)("span",null,(0,n.zw)(e.columnName),1)])))),256))])]),(0,i._)("tbody",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.dataTable,((t,a)=>((0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i._)("span",null,(0,n.zw)(e.startingIndex+a),1)]),(0,i._)("td",null,[(0,i.Wm)(N,{class:"btn_view",onClick:i=>e.handleRowClick(a+1,t)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.$t("pfm203001sc00.column.view")),1)])),_:2},1032,["onClick"])]),(0,i._)("td",null,[(0,i._)("span",null,(0,n.zw)(t.userRoleID),1)]),(0,i._)("td",null,[(0,i._)("span",null,(0,n.zw)(t.userRoleName),1)]),(0,i._)("td",null,[(0,i._)("span",null,(0,n.zw)(t.userRoleDescription),1)]),(0,i._)("td",null,[(0,i._)("span",null,(0,n.zw)(t.userRoleStatusCode),1)])])))),256))])])]),(0,i.Wm)(z,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","onGetStartingIndex"])])])])}var D=a(21638),N=a(61244),z=a(42615),I=a(43493);const W=new N.j;var q=(0,i.aZ)({name:"com207003sc00",components:{Pagination:D.Z},data(){return{dataTable:[],searchField:{userRoleID:"",userRoleStatusCode:""},totalItems:0,currentPage:1,pageSize:10,startingIndex:1,COMMON_KEY_VALUE:z.ii}},created(){this.inquiryRoleList()},computed:{headers(){return[{columnName:this.$t("com207003sc00.column.no_")},{columnName:this.$t("com207003sc00.column.view")},{columnName:this.$t("com207003sc00.column.role_id")},{columnName:this.$t("com207003sc00.column.role_name")},{columnName:this.$t("com207003sc00.column.role_des")},{columnName:this.$t("com207003sc00.column.status")}]}},methods:{async inquiryRoleList(){W.openloading();const e={userRoleID:this.searchField.userRoleID.trim(),userRoleStatusCode:this.searchField.userRoleStatusCode,pageSize:this.pageSize,pageNumber:this.currentPage},t=await this.$request.getRequest("COM21200111",e,!1);t.header.result?(W.closeLoading(),this.dataTable=JSON.parse(JSON.stringify(this.mapDataTable(t.body.list))),this.totalItems=t.body.totalCount):this.dialogMessage(t.header.error_text)},handleRegister(){this.$router.push("/common-management/ib-role/register")},handleRowClick(e,t){this.$router.push({path:`/common-management/ib-role/edit/${t.userRoleID}`,query:{viewType:"detail",userRoleID:t.userRoleID}})},handleSearch(){this.inquiryRoleList()},handleRefresh(){this.searchField.userRoleID="",this.searchField.userRoleStatusCode="",this.inquiryRoleList()},mapDataTable(e){const t=z.ii.screenStatusCode;return e.map((e=>({userRoleID:e.userRoleID,userRoleName:e.userRoleName,userRoleDescription:e.userRoleDescription,userRoleStatusCode:e.userRoleStatusCode===t[0].key?t[0].value:e.userRoleStatusCode===t[1].key?t[1].value:t[2].value})))},handlePagination(e){this.currentPage=e,this.inquiryRoleList()},handleStartingIndex(e){this.startingIndex=e},dialogMessage(e){this.$dialog.onOpen({title:"",content:`${e}`,showCancel:!1,callback:()=>{I.Fy.dismiss()}})}}}),U=a(83744);const F=(0,U.Z)(q,[["render",y],["__scopeId","data-v-326f60c0"]]);var O=F}}]);
//# sourceMappingURL=7266.27fc73eb.js.map