"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[1351],{1351:function(e,s,a){a.r(s),a.d(s,{default:function(){return v}});var t=a(66252),r=a(3577);const o={class:"tab_cont"},i={class:"row gap"},l={class:"col"},d={class:"form01"},n={class:"inp"},m={key:0,class:"txt_error"},u={key:1,class:"txt_error"},p={class:"col"},c={class:"form01"},h={class:"inp_box"},w={class:"inp"};function P(e,s){const a=(0,t.up)("ion-input");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",i,[(0,t._)("div",l,[(0,t._)("dl",d,[(0,t._)("dt",null,(0,r.zw)(e.$t("common.email")),1),(0,t._)("dd",null,[(0,t._)("div",{class:(0,r.C_)(["inp_box",{inp_error:e.isResetPasswaord&&!e.tempData.resetPassword.email||e.isWrongEmailFormat}])},[(0,t._)("div",n,[(0,t.Wm)(a,{type:"email",class:"line",placeholder:"Enter Email",modelValue:e.tempData.resetPassword.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.tempData.resetPassword.email=s),disabled:""},null,8,["modelValue"])]),e.isResetPasswaord&&!e.tempData.resetPassword.email?((0,t.wg)(),(0,t.iD)("p",m,(0,r.zw)(e.$t("error_text.email_is_required")),1)):(0,t.kq)("",!0),e.isWrongEmailFormat&&e.tempData.resetPassword.email?((0,t.wg)(),(0,t.iD)("p",u,(0,r.zw)(e.$t("error_text.email_invalid")),1)):(0,t.kq)("",!0)],2)])])]),(0,t._)("div",p,[(0,t._)("dl",c,[(0,t._)("dt",null,(0,r.zw)(e.$t("cib201003ss02.password_error_count")),1),(0,t._)("dd",null,[(0,t._)("div",h,[(0,t._)("div",w,[(0,t.Wm)(a,{class:"line",type:"number",disabled:"",modelValue:e.tempData.resetPassword.userPasswordErrorCount,"onUpdate:modelValue":s[1]||(s[1]=s=>e.tempData.resetPassword.userPasswordErrorCount=s),readonly:!e.isEditable},null,8,["modelValue","readonly"])])])])])])])])}var _=a(43493),b=(0,t.aZ)({name:"cib201003ss02",props:{data:{type:Object,required:!0},userId:{type:String,required:!0},approvalPayload:{type:Object,required:!1},currentTab:{type:String,required:!0}},data(){const e=this.$route.query.userID,s=this.$route.query.customerNo,a=this.$route.query.tab;return{userID:e,customerNo:s,approvalTap:a,tempData:{customerNo:"",resetPassword:{email:"",userPasswordErrorCount:0}},isEditable:!1,isResetPasswaord:!1,isWrongEmailFormat:!1,operationMode:"normal",tempEmail:"",tempUserPasswordErrorCount:0}},watch:{data(e){if(""==this.approvalType)this.tempData=JSON.parse(JSON.stringify({customerNo:e.userInfo.customerNo,resetPassword:{email:e.userInfo.email,userPasswordErrorCount:e.userInfo.userPasswordErrorCount}})),this.tempEmail=e.userInfo.email,this.tempUserPasswordErrorCount=e.userInfo.userPasswordErrorCount;else if(this.approvalPayload&&"CIB201003SS02"==this.approvalTap){let e=JSON.parse(this.approvalPayload?.requestContent);this.tempData.resetPassword.email=e.email,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal"}},"tempData.resetPassword.email":function(e){e&&(this.isWrongEmailFormat=!1)},isEditable(e){this.$emit("isBeingEdited",e)}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},methods:{onClickOperation(e){switch(e){case"edit":"cib201003ss02"==this.currentTab&&this.$dialog.onOpen({dialogMode:"Question",content:`${this.$t("message.would_you_like_to_send_password")}`,callback:async()=>{this.handleSendPassword(),_.Fy.dismiss()}});break;case"cancel":this.tempData.resetPassword.email=this.tempEmail,this.tempData.resetPassword.userPasswordErrorCount=this.tempUserPasswordErrorCount,this.isEditable=!1;break;case"list":this.$router.push("/corporate-internet-banking/subscription");break;case"submit":this.tempData.resetPassword.email&&this.handleValidateEmailFormat()?this.handleSendPassword():(this.isResetPasswaord=!0,1==this.handleValidateEmailFormat()?this.isWrongEmailFormat=!1:this.isWrongEmailFormat=!0);break}},async handleSendPassword(){let e={customerNo:`${this.customerNo}`,userID:`${this.userID}`,email:this.tempData.resetPassword.email};const s=await this.$request.getRequest("CIB20100332",e,!1,"CIB201003SS02");this.approvalType&&(this.isEditable=!1,this.$emit("isReseTButton",!1)),s.header.result&&(this.tempData.resetPassword.userPasswordErrorCount=0,this.$dialog.onOpen({content:`${this.$t("message.submit_successfully")}`,callback:()=>{_.Fy.dismiss()}}))},handleValidateEmailFormat(){let e=!1;return e=this.$validate.validateEmail(this.tempData.resetPassword.email),this.isWrongEmailFormat=!e,e}}}),y=a(83744);const E=(0,y.Z)(b,[["render",P],["__scopeId","data-v-0b3dafaa"]]);var v=E}}]);
//# sourceMappingURL=1351.79397d63.js.map