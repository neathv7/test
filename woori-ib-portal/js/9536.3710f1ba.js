"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9536],{52251:function(e,s,t){t.a(e,(async function(e,n){try{var a=t(66252),i=t(42615),o=t(43493),r=t(90121),d=t(67201),l=t(15828),c=e([r]);r=(c.then?(await c)():c)[0],s["Z"]=(0,a.aZ)({name:"com215003sc01Vue",components:{BreadCrumb:r.Z,SelectOption:d.Z,ModifyCard:l.Z},data(){const e={registerTellerName:"",registerTellerId:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:"",registerDate:"",registerTime:"",deleteTellerName:"",deleteTellerId:"",deleteDate:"",deleteTime:""};return{modifyCard:e,COMMON_KEY_VALUE:i.ii,isEnableEdit:!1,isInValidInput:!1,selectScreenStatus:"",screenInfo:{screenName:"",screenID:"",screenStatusCode:"",screenTypeCode:"",businessCategoryCode:""},isRegister:!0,businessCategoryItems:[],approvalRes:{},operationMode:"normal"}},async mounted(){if(""===this.approvalType){const{type:e,screenID:s}=this.$route.query;"edit"===e&&""!==s?(this.getScreenInfoDetail(),this.isEnableEdit=!1,this.isRegister=!1):(this.isEnableEdit=!0,this.isRegister=!0,this.screenInfo.screenStatusCode=this.screenStatusCode[0].key)}else await this.$approval.getAuthorizationDetail().then((e=>{let s=JSON.parse(e.body.requestContent);this.approvalRes=e.body,console.log(this.operationMode),this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.screenInfo={screenName:s.screenName,screenID:s.screenID,screenStatusCode:s.screenStatusCode,screenTypeCode:s.screenTypeCode,businessCategoryCode:s.businessCategoryCode}}))},computed:{renderPageTitle(){const{type:e}=this.$route.query;return"edit"===e?this.$t("com215003sc01.ib_screen_edit"):this.$t("com215003sc01.ib_screen_register")},screenStatusCode(){return this.$store.state.CommonCodeModule.commonCode.ScreenStatusCode},approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{modifyCard(){"09"==this.screenInfo.screenStatusCode&&(this.modifyCard.deleteTellerName=this.modifyCard.updatedTellerName,this.modifyCard.deleteTellerId=this.modifyCard.updatedTellerId,this.modifyCard.deleteDate=this.modifyCard.updatedDate,this.modifyCard.deleteTime=this.modifyCard.updatedTime,this.modifyCard.updatedTime="",this.modifyCard.updatedDate="",this.modifyCard.updatedTellerId="",this.modifyCard.updatedTellerName="")}},methods:{async getScreenInfoDetail(){const e={screenID:this.$route.query.screenID},s=await this.$request.getRequest("COM21500312",e,!1);s.header.result&&(this.screenInfo=s.body,this.modifyCard={registerTellerName:s.body.firstRegisterTellerName,registerTellerId:s.body.firstRegisterTellerID,updatedTellerId:s.body.lastChangeTellerID,updatedTellerName:s.body.lastChangeTellerName,updatedDate:s.body.lastChangeDate,updatedTime:s.body.lastChangeTime,registerDate:s.body.firstRegisterDate,registerTime:s.body.firstRegisterTime})},checkInValidInput(){const{screenID:e,screenName:s,screenStatusCode:t,screenTypeCode:n,businessCategoryCode:a}=this.screenInfo;return""===e||""===s||""===t||""===n||""===a?(this.isInValidInput=!0,!0):(this.isInValidInput=!1,!1)},onClickCancel(){const{type:e}=this.$route.query;let s="",t="";"register"===e?(t="Question",s=this.$t("message.move_to_list_without_saving_changes")):(t="Question",s=this.$t("message.cancel_without_saving_changes")),this.$dialog.onOpen({dialogMode:t,content:s,callback:()=>this.callbackCancel()})},callbackCancel(){o.Fy.dismiss();const{type:e}=this.$route.query;"register"===e?this.$router.push({path:"/COM215003SC00"}):(this.isEnableEdit=!1,this.getScreenInfoDetail())},onClickList(){this.$router.push({path:"/COM215003SC00"})},onClickSave(){this.checkInValidInput()?this.isInValidInput=!0:this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.would_you_like_to_save"),callback:()=>{o.Fy.dismiss();const{type:e}=this.$route.query;"register"===e?this.onRegisterScreen():this.onUpdateScreen()}})},async onRegisterScreen(){const e={businessCategoryCode:this.screenInfo.businessCategoryCode,screenTypeCode:this.screenInfo.screenTypeCode,screenName:this.screenInfo.screenName,screenID:this.screenInfo.screenID,screenStatusCode:this.screenInfo.screenStatusCode},s=await this.$request.getRequest("COM21500321",e,!1);s.header.result&&(this.$router.push({path:"/COM215003SC00"}),this.$dialog.onOpen({dialogMode:"Success",content:this.$t("com215003sc01.register_screen"),callback:()=>o.Fy.dismiss()}),this.isEnableEdit=!1,this.$router.push({path:"/COM215003SC00"}))},async onUpdateScreen(){const e={businessCategoryCode:this.screenInfo.businessCategoryCode,screenTypeCode:this.screenInfo.screenTypeCode,screenName:this.screenInfo.screenName,screenID:this.screenInfo.screenID,screenStatusCode:this.screenInfo.screenStatusCode},s=await this.$request.getRequest("COM21500331",e,!1);s.header.result&&(this.isEnableEdit=!1,this.$dialog.onOpen({dialogMode:"Success",content:this.$t("com215003sc01.update_screen"),callback:()=>o.Fy.dismiss()}),this.getScreenInfoDetail())},onClickEnableEdit(){this.isEnableEdit=!0,this.isRegister=!1}}}),n()}catch(u){n(u)}}))},29536:function(e,s,t){t.a(e,(async function(e,n){try{t.r(s);var a=t(68625),i=t(41504),o=(t(69541),t(83744)),r=e([i]);i=(r.then?(await r)():r)[0];const d=(0,o.Z)(i.Z,[["render",a.s],["__scopeId","data-v-4b5addfe"]]);s["default"]=d,n()}catch(d){n(d)}}))},69541:function(){},41504:function(e,s,t){t.a(e,(async function(e,n){try{t.d(s,{Z:function(){return a.Z}});var a=t(52251),i=e([a]);a=(i.then?(await i)():i)[0],n()}catch(o){n(o)}}))},68625:function(e,s,t){t.d(s,{s:function(){return B}});var n=t(66252),a=t(3577);const i=e=>((0,n.dD)("data-v-4b5addfe"),e=e(),(0,n.Cn)(),e),o={class:"contentWrap"},r={class:"title_name"},d={class:"cont"},l={class:"card_box"},c={class:"row gap"},u={class:"col-6"},p={class:"form01"},m=i((()=>(0,n._)("span",{class:"require"},"*",-1))),C={class:"inp"},_={key:0,class:"txt_error"},h={class:"col-6"},y={class:"form01"},I=i((()=>(0,n._)("span",{class:"require"},"*",-1))),f={class:"inp"},g={key:0,class:"txt_error"},b={class:"row gap"},v={class:"col"},k={class:"form01"},T=i((()=>(0,n._)("span",{class:"require"},"*",-1))),w={class:"inp"},$={key:0,class:"txt_error"},S={class:"col"},E={class:"form01"},D=i((()=>(0,n._)("span",{class:"require"},"*",-1))),q={class:"inp"},V={key:0,class:"txt_error"},M={class:"col"},N={class:"form01"},z=i((()=>(0,n._)("span",{class:"require"},"*",-1))),R={class:"inp"},O={key:0,class:"txt_error"},x={key:0,class:"footer_btn"},U={class:"left_side"},Z={class:"right_side"},W={class:"edit"},j={class:"save"};function B(e,s){const t=(0,n.up)("BreadCrumb"),i=(0,n.up)("ion-input"),B=(0,n.up)("SelectOption"),F=(0,n.up)("ion-select-option"),K=(0,n.up)("ion-select"),A=(0,n.up)("ModifyCard"),L=(0,n.up)("ion-button"),Q=(0,n.up)("ApprovalReason");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(t,{staticScreenName:"register"==this.$route.query.type?e.$t("com215003sc01.ib_screen_register"):e.$t("com215003sc01.ib_screen_edit")},null,8,["staticScreenName"]),(0,n._)("h1",r,(0,a.zw)(e.renderPageTitle),1),(0,n._)("div",d,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("div",u,[(0,n._)("dl",p,[(0,n._)("dt",null,[(0,n.Uk)((0,a.zw)(e.$t("common.screen_id")),1),m]),(0,n._)("dd",null,[(0,n._)("div",{class:(0,a.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.screenInfo.screenID}])},[(0,n._)("div",C,[(0,n.Wm)(i,{class:"line",placeholder:e.$t("common.screen_id"),modelValue:e.screenInfo.screenID,"onUpdate:modelValue":s[0]||(s[0]=s=>e.screenInfo.screenID=s),readonly:!e.isRegister||!e.isEnableEdit||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","modelValue","readonly"])]),e.isInValidInput&&""===e.screenInfo.screenID?((0,n.wg)(),(0,n.iD)("p",_,(0,a.zw)(e.$t("error_text.this_field_is_required")),1)):(0,n.kq)("",!0)],2)])])]),(0,n._)("div",h,[(0,n._)("dl",y,[(0,n._)("dt",null,[(0,n.Uk)((0,a.zw)(e.$t("common.screen_name")),1),I]),(0,n._)("dd",null,[(0,n._)("div",{class:(0,a.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.screenInfo.screenName}])},[(0,n._)("div",f,[(0,n.Wm)(i,{class:"line",placeholder:e.$t("common.screen_name"),modelValue:e.screenInfo.screenName,"onUpdate:modelValue":s[1]||(s[1]=s=>e.screenInfo.screenName=s),readonly:!e.isEnableEdit||!e.isEnableEdit||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","modelValue","readonly"])]),e.isInValidInput&&""===e.screenInfo.screenName?((0,n.wg)(),(0,n.iD)("p",g,(0,a.zw)(e.$t("error_text.this_field_is_required")),1)):(0,n.kq)("",!0)],2)])])])]),(0,n._)("div",b,[(0,n._)("div",v,[(0,n._)("dl",k,[(0,n._)("dt",null,[(0,n.Uk)((0,a.zw)(e.$t("common.screen_type")),1),T]),(0,n._)("dd",null,[(0,n._)("div",{class:(0,a.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.screenInfo.screenTypeCode}])},[(0,n._)("div",w,[(0,n.Wm)(B,{ValidateClass:{invalid:e.isInValidInput&&""===e.screenInfo.screenTypeCode},data:e.$store.state.CommonCodeModule.commonCode.ScreenTypeCode,modelValue:e.screenInfo.screenTypeCode,"onUpdate:modelValue":s[2]||(s[2]=s=>e.screenInfo.screenTypeCode=s),value:e.screenInfo.screenTypeCode,isDisabled:!e.isEnableEdit||!e.isEnableEdit||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0,classSelectType:"line"},null,8,["ValidateClass","data","modelValue","value","isDisabled"]),e.isInValidInput&&""===e.screenInfo.screenTypeCode?((0,n.wg)(),(0,n.iD)("p",$,(0,a.zw)(e.$t("error_text.this_field_is_required")),1)):(0,n.kq)("",!0)])],2)])])]),(0,n._)("div",S,[(0,n._)("dl",E,[(0,n._)("dt",null,[(0,n.Uk)((0,a.zw)(e.$t("com215003sc01.business_category")),1),D]),(0,n._)("dd",null,[(0,n._)("div",{class:(0,a.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.screenInfo.businessCategoryCode}])},[(0,n._)("div",q,[(0,n.Wm)(B,{validateClass:{invalid:""===e.screenInfo.businessCategoryCode},data:e.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode,modelValue:e.screenInfo.businessCategoryCode,"onUpdate:modelValue":s[3]||(s[3]=s=>e.screenInfo.businessCategoryCode=s),value:e.screenInfo.businessCategoryCode,isDisabled:!e.isEnableEdit||!e.isEnableEdit||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0,classSelectType:"line"},null,8,["validateClass","data","modelValue","value","isDisabled"]),e.isInValidInput&&""===e.screenInfo.businessCategoryCode?((0,n.wg)(),(0,n.iD)("p",V,(0,a.zw)(e.$t("error_text.this_field_is_required")),1)):(0,n.kq)("",!0)])],2)])])]),(0,n._)("div",M,[(0,n._)("dl",N,[(0,n._)("dt",null,[(0,n.Uk)((0,a.zw)(e.$t("common.status")),1),z]),(0,n._)("dd",null,[(0,n._)("div",{class:(0,a.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.screenInfo.screenStatusCode}])},[(0,n._)("div",R,[(0,n.Wm)(K,{interface:"popover",interfaceOptions:{size:"cover"},class:(0,a.C_)(["line",{invalidRadio:e.isInValidInput&&""===e.screenInfo.screenStatusCode}]),modelValue:e.screenInfo.screenStatusCode,"onUpdate:modelValue":s[4]||(s[4]=s=>e.screenInfo.screenStatusCode=s),disabled:e.isRegister||!e.isEnableEdit||!e.isEnableEdit||"read"==e.operationMode||"approval"==e.operationMode},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.$store.state.CommonCodeModule.commonCode.BusinessCommonStatusCode,((e,s)=>((0,n.wg)(),(0,n.j4)(F,{value:e.key,key:e.key},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.value),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","disabled","class"]),e.isInValidInput&&""===e.screenInfo.screenStatusCode?((0,n.wg)(),(0,n.iD)("p",O,(0,a.zw)(e.$t("error_text.this_field_is_required")),1)):(0,n.kq)("",!0)])],2)])])])]),(0,n.Wm)(A,{data:e.modifyCard},null,8,["data"])]),"normal"==e.operationMode?((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("div",U,[e.isEnableEdit?((0,n.wg)(),(0,n.j4)(L,{key:0,class:"btn03",onClick:e.onClickCancel},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,a.zw)(e.$t("common.cancel")),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0),e.isEnableEdit||"edit"!==e.$route.query.type?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(L,{key:1,class:"btn02",onClick:e.onClickList},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,a.zw)(e.$t("common.list")),1)])),_:1},8,["onClick"]))]),(0,n._)("div",Z,[e.isEnableEdit||"edit"!==e.$route.query.type?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(L,{key:0,class:"btn02 btn_ico",onClick:s[5]||(s[5]=s=>e.onClickEnableEdit()),disabled:"09"==e.screenInfo.screenStatusCode},{default:(0,n.w5)((()=>[(0,n._)("span",W,(0,a.zw)(e.$t("common.edit")),1)])),_:1},8,["disabled"])),e.isEnableEdit?((0,n.wg)(),(0,n.j4)(L,{key:1,class:"btn01 btn_ico",onClick:e.onClickSave},{default:(0,n.w5)((()=>[(0,n._)("span",j,(0,a.zw)(e.$t("common.save")),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)]),"normal"!==e.operationMode?((0,n.wg)(),(0,n.j4)(Q,{key:0,payload:e.approvalRes},null,8,["payload"])):(0,n.kq)("",!0)])}}}]);
//# sourceMappingURL=9536.3710f1ba.js.map