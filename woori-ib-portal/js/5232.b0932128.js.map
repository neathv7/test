{"version":3,"file":"js/5232.b0932128.js","mappings":"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","sources":["webpack://bizMOB4Vue/./src/views/cib/cib201003ss05/cib201003ss05.html","webpack://bizMOB4Vue/./src/views/cib/cib201003ss05/cib201003ss05.vue?bda2","webpack://bizMOB4Vue/./src/views/cib/cib201003ss05/cib201003ss05.vue"],"sourcesContent":["import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6e3c32a2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tab_cont\" }\nconst _hoisted_2 = { class: \"row\" }\nconst _hoisted_3 = { class: \"col\" }\nconst _hoisted_4 = { class: \"form01\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"require\" }, \"*\", -1))\n\nexport function render(_ctx, _cache) {\n  const _component_ion_select_option = _resolveComponent(\"ion-select-option\")\n  const _component_ion_select = _resolveComponent(\"ion-select\")\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"dl\", _hoisted_4, [\n          _createElementVNode(\"dt\", null, [\n            _createTextVNode(_toDisplayString(_ctx.$t(\"cib201003ss05.main_transfer_account\")) + \" \", 1),\n            _hoisted_5\n          ]),\n          _createElementVNode(\"dd\", null, [\n            _createVNode(_component_ion_select, {\n              interface: \"popover\",\n              interfaceOptions: {size: 'cover'},\n              class: \"line\",\n              placeholder: _ctx.mainTransferAccount,\n              modelValue: _ctx.mainTransferAccount,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((_ctx.mainTransferAccount) = $event)),\n              disabled: !_ctx.isEditable\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.withdrawAccounts, (account) => {\n                  return (_openBlock(), _createBlock(_component_ion_select_option, {\n                    value: account.accountNo\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(account.accountNo), 1)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]))\n                }), 256))\n              ]),\n              _: 1\n            }, 8, [\"placeholder\", \"modelValue\", \"disabled\"])\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","\nimport { PropType, defineComponent } from 'vue'\nimport { WithdrawAccount, CIB20100312_REQ_BODY, CIB20100312_RES } from '@/shared/type/CIB20100312.type'\nimport { IbUserDetail } from '@/shared/type/CIB20100311.type'\nimport { CIB20100335_REQ_BODY, CIB20100335_RES } from '@/shared/type/CIB20100335.type'\nimport { modalController } from '@ionic/vue';\nimport { APM20200113_RES } from \"@/shared/type/APM20200113.type\";\nimport { screenMode } from \"@/shared/type/Approval.type\";\n\nexport default defineComponent({\n  name: \"cib201003ss05\",\n\n  props: {\n    data: {\n      type: Object as PropType<IbUserDetail>,\n      required: true,\n    },\n    currentTab: {\n      type: String,\n      required: true,\n    }\n  },\n\n  data() {\n    const userID = this.$route.query.userID;\n    const customerNo = this.$route.query.customerNo;\n    const approvalTap = this.$route.query.tab;\n    return {\n      userID,\n      customerNo,\n      approvalTap,\n      mainTransferAccount: \"\",\n      withdrawAccounts: [] as WithdrawAccount[],\n      isEditable: false,\n      approvalRes: {} as any,\n\t\t\toperationMode: 'normal' as screenMode,\n      tempMainAccount:''        \n    };\n  },\n\n  watch: {\n    data(customerData: IbUserDetail) {\n      if(this.approvalType == ''){\n        this.mainTransferAccount = customerData.userInfo.mainTransferAccount;\n        this.tempMainAccount = customerData.userInfo.mainTransferAccount;\n      }else{\n        if(this.approvalTap == 'CIB201003SS05'){\n          this.$approval.getAuthorizationDetail().then( (authDetail: APM20200113_RES) => {\n            let authDetailParsed = JSON.parse(authDetail.body.requestContent);\n            this.mainTransferAccount = authDetailParsed.mainTransferAccount\n            this.approvalRes = authDetail.body;\n          })\n          this.operationMode = this.approvalType == 'my-request' ? 'read' : this.approvalType == 'my-approval' ? 'approval' : 'normal';\n        }\n      }\n    },\n    \n    async currentTab(tabTittle: string){\n      if(tabTittle == 'cib201003ss05.main_transfer_account'){\n        await this.getWithdrawAccounts();\n      }\n    },\n\n    isEditable(isAllowTabChange) {\n      this.$emit('isBeingEdited', isAllowTabChange)\n    }\n  },\n\n  computed: {\n\t\tapprovalType(): string {\n\t\t\treturn this.$route.query.approvalType ? this.$route.query.approvalType.toString() : '';\n\t\t},\n  },\n\n  mounted(){\n    this.getWithdrawAccounts();\n  },\n\n  methods: {\n    onClickOperation(btn: string) {\n      switch (btn) {\n        case \"edit\":\n          this.isEditable = true;\n          break;\n\n        case \"cancel\": \n        this.mainTransferAccount = this.tempMainAccount;\n          this.isEditable = false;\n          break;\n\n        case \"list\":\n          this.$router.push('/corporate-internet-banking/subscription');\n          break;\n\n        case \"submit\": \n          this.$dialog.onOpen({\n            content: `${this.$t(\"message.would_you_like_to_save\")}`,\n            dialogMode:\"Question\",\n            callback:()=>{\n              this.handleSubmit();\n              modalController.dismiss();\n            }\n          });\n          break;\n      }\n    },\n\n    async getWithdrawAccounts(){\n      const reqBody: CIB20100312_REQ_BODY = {\n        customerNo: `${this.customerNo}`,\n        userID: `${this.userID}`,\n      };\n\n      const responseData = await this.$request.getRequest('CIB20100312', reqBody, false) as CIB20100312_RES;\n      this.withdrawAccounts = responseData.body.list;\n    },\n\n    async handleSubmit() {\n      const reqBody: CIB20100335_REQ_BODY ={\n        userID: `${this.userID}`,\n        customerNo: `${this.customerNo}`,\n        mainTransferAccount: this.mainTransferAccount\n      };\n\n      const responseData = await this.$request.getRequest('CIB20100335', reqBody, false, 'CIB201003SS05') as CIB20100335_RES;\n      if(this.approvalType){\n        this.isEditable = false;\n        this.$emit(\"isReseTButton\", false);\n      }\n\n      if(responseData.header.result){\n        this.isEditable = false;\n        this.$emit(\"isReseTButton\", false);\n        this.$dialog.onOpen({\n          content: `${this.$t(\"message.update_success\")}`,\n          dialogMode:\"Success\",\n          callback: ()=>{\n            modalController.dismiss();\n          }\n        })\n      }\n    }\n  }\n})\n","import { render } from \"./cib201003ss05.html?vue&type=template&id=6e3c32a2&scoped=true&ts=true\"\nimport script from \"./cib201003ss05.vue?vue&type=script&lang=ts\"\nexport * from \"./cib201003ss05.vue?vue&type=script&lang=ts\"\n\nimport \"./cib201003ss05.vue?vue&type=style&index=0&id=6e3c32a2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/workspace/source/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e3c32a2\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementVNode","render","_ctx","_cache","_component_ion_select_option","_resolveComponent","_component_ion_select","_openBlock","_createElementBlock","_createTextVNode","_toDisplayString","$t","_createVNode","interface","interfaceOptions","size","placeholder","mainTransferAccount","modelValue","$event","disabled","isEditable","default","_withCtx","_Fragment","_renderList","withdrawAccounts","account","_createBlock","value","accountNo","_","defineComponent","name","props","data","type","Object","required","currentTab","String","userID","this","$route","query","customerNo","approvalTap","tab","approvalRes","operationMode","tempMainAccount","watch","customerData","approvalType","userInfo","$approval","getAuthorizationDetail","then","authDetail","authDetailParsed","JSON","parse","body","requestContent","async","tabTittle","getWithdrawAccounts","isAllowTabChange","$emit","computed","toString","mounted","methods","onClickOperation","btn","$router","push","$dialog","onOpen","content","dialogMode","callback","handleSubmit","modalController","reqBody","responseData","$request","getRequest","list","header","result","__exports__"],"sourceRoot":""}