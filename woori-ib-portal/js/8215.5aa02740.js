"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[8215],{38215:function(t,e,a){a.r(e),a.d(e,{default:function(){return F}});var n=a(66252),l=a(3577);const i=t=>((0,n.dD)("data-v-059c2ca8"),t=t(),(0,n.Cn)(),t),s={class:"row"},o={class:"col"},r={class:"form01"},c={class:"inp_box type_datetime"},d={class:"inp"},u={class:"dp__action_buttons"},m=["onClick"],g=["onClick"],h={class:"footer_btn"},_={class:"right_side"},p={class:"gridwrap"},b={class:"grid_option"},w={class:"option"},D={class:"tableWrap"},v={class:"table01 fixed"},N=i((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}})],-1))),P={class:"sticky_head"},f={class:"tbody_section"},k=["id","onClick"],y={class:"txt_left description"},I={key:0,class:"no_data"},z=i((()=>(0,n._)("p",null,"No Data",-1))),R=[z];function S(t,e){const a=(0,n.up)("ion-input"),i=(0,n.up)("ion-button"),z=(0,n.up)("VueDatePicker"),S=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[(0,n._)("div",o,[(0,n._)("dl",r,[(0,n._)("dt",null,(0,l.zw)(t.$t("rpt202001ss15.label.title")),1),(0,n._)("dd",null,[(0,n.Wm)(z,{placeholder:t.$t("rpt202001ss15.label.enter_date"),modelValue:t.date,"onUpdate:modelValue":e[0]||(e[0]=e=>t.date=e),"enable-time-picker":!1,type:"date"},{trigger:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n._)("div",d,[(0,n.Wm)(a,{class:"",value:t.formattedDate},null,8,["value"]),(0,n.Wm)(i,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar")])),_:1})])])])),"action-row":(0,n.w5)((({closePicker:e,selectDate:a})=>[(0,n._)("div",u,[(0,n._)("button",{type:"button",class:"btn_refresh",onClick:e},(0,l.zw)(t.$t("rpt202001ss15.label.cancel")),9,m),(0,n._)("button",{type:"button",class:"",onClick:a},(0,l.zw)(t.$t("rpt202001ss15.label.select")),9,g)])])),_:1},8,["placeholder","modelValue"])])])])]),(0,n._)("div",h,[(0,n._)("div",_,[(0,n.Wm)(i,{onClick:e[1]||(e[1]=e=>t.getIbActivityLogRecordForBackendDetail("search")),class:"btn01"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.zw)(t.$t("rpt202001ss15.label.search")),1)])),_:1}),(0,n.Wm)(i,{onClick:e[2]||(e[2]=e=>t.handleReset()),class:"btn_refresh"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.zw)(t.$t("rpt202001ss15.label.refresh")),1)])),_:1})])]),(0,n._)("div",p,[(0,n._)("div",b,[(0,n._)("div",w,[(0,n.Wm)(i,{class:"btn01 btn_ico btn_sm",onClick:t.exportToExcel},{default:(0,n.w5)((()=>[(0,n.Uk)("Download Excel")])),_:1},8,["onClick"])])]),(0,n._)("div",D,[(0,n._)("table",v,[N,(0,n._)("thead",P,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.header,(t=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,l.zw)(t.columnName),1)])))),256))])]),(0,n._)("tbody",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.table,((e,a)=>((0,n.wg)(),(0,n.iD)("tr",{id:`row-${t.startingIndex+a}`,onClick:e=>t.$util.rowFocus(`row-${t.startingIndex+a}`)},[(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.startingIndex+a),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.roleID),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.roleName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.jobTitleCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.email),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.$format.formatPhoneNumber(e.cellPhoneNo)),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.transactionBranchName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.branchAddress),1)]),(0,n._)("td",y,[(0,n._)("span",null,(0,l.zw)(e.activities),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.$datetime.formatStringToStringDate(e.firstLoginDate)),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.$datetime.formatStringToStringDate(e.lastLoginDate)),1)])],8,k)))),256))])]),0===t.table.length?((0,n.wg)(),(0,n.iD)("div",I,R)):(0,n.kq)("",!0)]),(0,n.Wm)(S,{totalCount:t.totalItems,perPage:t.pageSize,onGetPageNumber:t.handlePagination,resetPage:t.isResetPage,onGetStartingIndex:t.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])],64)}var $=a(21638),x=a(41762),L=a(42615),C=a(11076);const T=new C.l;var B=(0,n.aZ)({name:"rpt202001ss15",components:{Pagination:$.Z,VueDatePicker:x.Z},data(){return{date:"",header:[{columnName:"No."},{columnName:"User Name"},{columnName:"User Role"},{columnName:"Job Title"},{columnName:"Email ID"},{columnName:"Phone Number"},{columnName:"Branch"},{columnName:"Address"},{columnName:"Activity log type"},{columnName:"First Login"},{columnName:"Last Login"}],table:[],totalItems:0,currentPage:1,pageSize:L.IV,startingIndex:1,isResetPage:!1}},computed:{formattedDate(){return this.date?this.$datetime.formatVueDatePicker(this.date):""}},mounted(){this.getIbActivityLogRecordForBackendDetail(!1)},methods:{async getIbActivityLogRecordForBackendDetail(t){const e={systemDate:this.date?this.$datetime.convertDateToString(this.date):"",pageSize:this.pageSize,pageNumber:t?0:this.currentPage};t&&(this.currentPage=1,this.isResetPage=!0);const a=await this.$request.getRequest("RPT20400311",e,!1);this.table=a.body.list,this.totalItems=a.body.totalCount},async exportToExcel(){const t=["User Name","User Role","Job Title","Email ID","Phone Number","Branch","Branch Address","Activity log type","First Login","Last Login"],e={systemDate:this.date?this.$datetime.convertDateToString(this.date):"",pageSize:this.totalItems,pageNumber:0},a=await this.$request.getRequest("RPT20400311",e,!1),n=this.onMappingTableData(a.body.list),l={data:n,columnHeader:[t],sheetName:"IB Activity Log Bankend user"};T.exportSheet([l],"IB Activity Log Record Report (backend user)")},onMappingTableData(t){return t.map((t=>({roleName:t.roleName,roleID:t.roleID,jobTitle:t.jobTitle,email:t.email,cellPhoneNo:this.$format.formatPhoneNumber(t.cellPhoneNo),transactionBranchName:t.transactionBranchName,branchAddress:t.branchAddress,activities:t.activities,firstLoginDate:this.$datetime.formatStringToStringDate(t.firstLoginDate),lastLoginDate:this.$datetime.formatStringToStringDate(t.lastLoginDate)})))},handlePagination(t){this.isResetPage=!1,this.currentPage=t,this.getIbActivityLogRecordForBackendDetail(!1)},handleStartingIndex(t){this.startingIndex=t},handleReset(){this.date="",this.currentPage=1,this.isResetPage=!0,this.getIbActivityLogRecordForBackendDetail(!1)}}}),A=a(83744);const V=(0,A.Z)(B,[["render",S],["__scopeId","data-v-059c2ca8"]]);var F=V}}]);
//# sourceMappingURL=8215.5aa02740.js.map