"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[4319],{65156:function(e,a,t){t.a(e,(async function(e,s){try{var i=t(66252),n=t(2262),d=t(41762),l=t(43493),o=t(67201),r=t(90121),c=t(15828),h=e([r]);r=(h.then?(await h)():h)[0],a["Z"]=(0,i.aZ)({name:"com202001sc01",components:{SelectOption:o.Z,VueDatePicker:d.Z,BreadCrumb:r.Z,ModifyCard:c.Z},data(){const e=(0,n.iH)([]),a=this.$route.query.type,t=(0,n.qj)({branchCode:"",branchName:"",branchShortName:"",branchStatusCode:"",branchTypeCode:"",firstRegisterTellerName:"",firstRegisterTellerID:"",firstRegisterBranchCode:"",firstRegisterDate:"",firstRegisterTime:"",lastChangeTellerName:"",lastChangeTellerID:"",lastChangeBranchCode:"",lastChangeDate:"",lastChangeTime:""}),s={registerTellerId:"",registerTellerName:"",registerDate:"",registerTime:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:""};return{approvalRes:{},operationMode:"normal",isDisabledBranchStatus:!0,modifyCard:s,isInValidInput:!1,input:t,isDisabledField:(0,n.iH)(!0),isDisabled:(0,n.iH)(!1),isEdited:(0,n.iH)(!1),branchDeptData:e,viewType:a,breadcrumbs:[{value:"apm201001sc00.label.home",keyPath:"/COM200001SC00",type:"route"},{value:"com203002sc00.portal_management",keyPath:"",type:"label"},{value:"com202001sc00.branch_dept_list",keyPath:"/COM202001SC00",type:"route"},{value:""+("edit"===a?"com202001sc01.branch_dept_edit":"com202001sc01.branch_dept_register"),keyPath:"",type:"label"}]}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},branchStatusCode(){return this.$store.state.CommonCodeModule.commonCode.BranchStatusCode},branchTypeCode(){return this.$store.state.CommonCodeModule.commonCode.branchType}},async mounted(){""===this.approvalType?"edit"==this.viewType?(this.handleFetchBranchDetail(),this.isDisabled=!0,this.isEdited=!0):(this.input.branchStatusCode=this.branchStatusCode[0].key,this.input.branchTypeCode=this.branchTypeCode[0].key,this.isDisabledField=!1,this.isDisabled=!1,this.isEdited=!1):await this.$approval.getAuthorizationDetail().then((e=>{let a=JSON.parse(e.body.requestContent);this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.input.branchCode=a.branchCode,this.input.branchName=a.branchName,this.input.branchShortName=a.branchShortName,this.input.branchStatusCode=a.branchStatusCode,this.input.branchTypeCode=a.branchTypeCode}))},methods:{handleClickAction(e){switch(e){case"save":"edit"==this.viewType?(this.handleUpdateBranchData(),this.isDisabled=!0,this.isEdited=!0):(this.handleRegisterBranchData(),this.isDisabled=!1,this.isEdited=!1);break;case"cancel":"edit"==this.viewType?(this.handleFetchBranchDetail(),this.isDisabled=!0,this.isEdited=!0):this.$router.push("/COM202001SC00");break;default:}},handleListButton(){this.$router.push("/COM202001SC00")},handleEditButton(){"edit"==this.viewType?(this.isDisabled=!1,this.isDisabledBranchStatus=!1,this.isEdited=!1):(this.isDisabled=!0,this.isEdited=!0)},handleSaveButton(){this.isDisabledBranchStatus=!0,this.input.branchCode&&this.input.branchName&&this.input.branchStatusCode&&this.input.branchTypeCode?this.$dialog.onOpen({content:this.$t("message.would_you_like_to_save"),dialogMode:"Question",callback:()=>this.handleClickAction("save")}):this.isInValidInput=!0},handleCancelButton(){this.isDisabledBranchStatus=!1,this.$dialog.onOpen({content:"edit"===this.viewType?this.$t("message.cancel_without_saving_changes"):this.$t("message.are_you_sure_you_want_to_cancel_registration?"),dialogMode:"Question",callback:()=>{this.handleClickAction("cancel"),l.Fy.dismiss()}})},async handleFetchBranchDetail(){this.isDisabledBranchStatus=!0;const e="COM20200112",a=!1,t={branchCode:`${this.$route.query.branchCode}`},s=await this.$request.getRequest(e,t,a);if(this.modifyCard={registerTellerId:s?.body.firstRegisterTellerID,registerTellerName:s?.body.firstRegisterTellerName,registerDate:s?.body.firstRegisterDate,registerTime:s?.body.firstRegisterTime,updatedTellerId:s?.body.lastChangeTellerID,updatedTellerName:s?.body.lastChangeTellerName,updatedDate:s?.body.lastChangeDate,updatedTime:s?.body.lastChangeTime},s.header.result)return this.input=s?.body},async handleRegisterBranchData(){l.Fy.dismiss();const e="COM20200121",a=!1,t={branchCode:this.input.branchCode,branchName:this.input.branchName,branchShortName:this.input.branchShortName,branchStatusCode:this.input.branchStatusCode,branchTypeCode:this.input.branchTypeCode},s=await this.$request.getRequest(e,t,a);s.header.result&&(this.$router.push("/COM202001SC00"),this.$dialog.onOpen({content:this.$t("message.register_success"),dialogMode:"Success",callback:()=>{l.Fy.dismiss()}}))},async handleUpdateBranchData(){l.Fy.dismiss();const e="COM20200131",a=!1,t={branchCode:this.input.branchCode,branchName:this.input.branchName,branchShortName:this.input.branchShortName,branchStatusCode:this.input.branchStatusCode,branchTypeCode:this.input.branchTypeCode},s=await this.$request.getRequest(e,t,a);if(s.header.result)return this.$dialog.onOpen({content:this.$t("message.update_success"),dialogMode:"Success",callback:()=>{this.handleFetchBranchDetail(),l.Fy.dismiss()}}),this.input===s.body}}}),s()}catch(u){s(u)}}))},94319:function(e,a,t){t.a(e,(async function(e,s){try{t.r(a);var i=t(92132),n=t(95329),d=(t(40954),t(83744)),l=e([n]);n=(l.then?(await l)():l)[0];const o=(0,d.Z)(n.Z,[["render",i.s],["__scopeId","data-v-489882a2"]]);a["default"]=o,s()}catch(o){s(o)}}))},40954:function(){},95329:function(e,a,t){t.a(e,(async function(e,s){try{t.d(a,{Z:function(){return i.Z}});var i=t(65156),n=e([i]);i=(n.then?(await n)():n)[0],s()}catch(d){s(d)}}))},92132:function(e,a,t){t.d(a,{s:function(){return F}});var s=t(66252),i=t(3577);const n=e=>((0,s.dD)("data-v-489882a2"),e=e(),(0,s.Cn)(),e),d={class:"contentWrap"},l={class:"title_name"},o={class:"cont"},r={class:"card_box"},c={class:"row gap"},h={class:"col-6"},u={class:"form01"},p=n((()=>(0,s._)("span",{class:"require"},"*",-1))),b={class:"inp"},m={key:0,class:"txt_error"},_={class:"col-6"},C={class:"form01"},y=n((()=>(0,s._)("span",{class:"require"},"*",-1))),v={class:"row gap"},g={class:"col-6"},T={class:"form01"},w=n((()=>(0,s._)("span",{class:"require"},"*",-1))),D={class:"inp"},S={key:0,class:"txt_error"},k={class:"col-6"},f={class:"form01"},$={class:"inp_box"},M={class:"inp"},N={class:"row gap"},V={class:"col-6"},B={class:"form01"},I=n((()=>(0,s._)("span",{class:"require"},"*",-1))),q={key:0,class:"footer_btn"},R={class:"left_side"},O={class:"right_side"},z={class:"edit"},E={class:"save"};function F(e,a){const t=(0,s.up)("BreadCrumb"),n=(0,s.up)("ion-input"),F=(0,s.up)("SelectOption"),U=(0,s.up)("ModifyCard"),Z=(0,s.up)("ion-button"),x=(0,s.up)("ApprovalReason");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(t,{staticScreenName:"register"==e.viewType?e.$t("com202001sc01.branch_dept_register"):e.$t("com202001sc01.branch_dept_edit")},null,8,["staticScreenName"]),(0,s._)("h1",l,(0,i.zw)("edit"===e.viewType?e.$t("com202001sc01.branch_dept_edit"):e.$t("com202001sc01.branch_dept_register")),1),(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s._)("div",h,[(0,s._)("dl",u,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(e.$t("com202001sc00.branch_dept_code")),1),p]),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.input.branchCode}])},[(0,s._)("div",b,[(0,s.Wm)(n,{class:"line",maxlength:"12",placeholder:e.$t("com202001sc00.branch_dept_code"),modelValue:e.input.branchCode,"onUpdate:modelValue":a[0]||(a[0]=a=>e.input.branchCode=a),readonly:e.isDisabledField||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","modelValue","readonly"])]),e.isInValidInput&&""===e.input.branchCode?((0,s.wg)(),(0,s.iD)("p",m,(0,i.zw)(e.$t("error_text.field_empty")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",_,[(0,s._)("dl",C,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(e.$t("com202001sc00.branch_dept_type")),1),y]),(0,s._)("dd",null,[(0,s.Wm)(F,{ValidateClass:{invalid:e.isInValidInput&&""===e.input.branchTypeCode},data:e.$store.state.CommonCodeModule.commonCode.branchType,modelValue:e.input.branchTypeCode,"onUpdate:modelValue":a[1]||(a[1]=a=>e.input.branchTypeCode=a),value:e.input.branchTypeCode,disabled:e.isDisabled||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0,classSelectType:"line"},null,8,["ValidateClass","data","modelValue","value","disabled"])])])])]),(0,s._)("div",v,[(0,s._)("div",g,[(0,s._)("dl",T,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(e.$t("com202001sc00.branch_dept_name")),1),w]),(0,s._)("dd",null,[(0,s._)("div",{class:(0,i.C_)(["inp_box",{inp_error:e.isInValidInput&&""===e.input.branchName}])},[(0,s._)("div",D,[(0,s.Wm)(n,{class:(0,i.C_)(["line",{invalidInput:e.isInValidInput&&""===e.input.branchName}]),placeholder:e.$t("com202001sc00.branch_dept_name"),modelValue:e.input.branchName,"onUpdate:modelValue":a[2]||(a[2]=a=>e.input.branchName=a),readonly:e.isDisabled||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","class","modelValue","readonly"])]),e.isInValidInput&&""===e.input.branchName?((0,s.wg)(),(0,s.iD)("p",S,(0,i.zw)(e.$t("error_text.field_empty")),1)):(0,s.kq)("",!0)],2)])])]),(0,s._)("div",k,[(0,s._)("dl",f,[(0,s._)("dt",null,(0,i.zw)(e.$t("com202001sc00.branch_dept_short_name")),1),(0,s._)("dd",null,[(0,s._)("div",$,[(0,s._)("div",M,[(0,s.Wm)(n,{class:"line",placeholder:e.$t("com202001sc00.branch_dept_short_name"),modelValue:e.input.branchShortName,"onUpdate:modelValue":a[3]||(a[3]=a=>e.input.branchShortName=a),readonly:e.isDisabled||"read"==e.operationMode||"approval"==e.operationMode},null,8,["placeholder","modelValue","readonly"])])])])])])]),(0,s._)("div",N,[(0,s._)("div",V,[(0,s._)("dl",B,[(0,s._)("dt",null,[(0,s.Uk)((0,i.zw)(e.$t("com202001sc00.branch_status")),1),I]),(0,s._)("dd",null,[(0,s.Wm)(F,{ValidateClass:{invalid:e.isInValidInput&&""===e.input.branchStatusCode},data:e.$store.state.CommonCodeModule.commonCode.BranchStatusCode,modelValue:e.input.branchStatusCode,"onUpdate:modelValue":a[4]||(a[4]=a=>e.input.branchStatusCode=a),value:e.input.branchStatusCode,isDisabled:e.isDisabledBranchStatus||"read"==e.operationMode||"approval"==e.operationMode,showKey:!0,classSelectType:"line"},null,8,["ValidateClass","data","modelValue","value","isDisabled"])])])])]),"edit"==e.viewType?((0,s.wg)(),(0,s.j4)(U,{key:0,data:e.modifyCard},null,8,["data"])):(0,s.kq)("",!0)]),"normal"==e.operationMode?((0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("div",R,[e.isEdited?((0,s.wg)(),(0,s.j4)(Z,{key:1,class:"btn02",onClick:e.handleListButton},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,i.zw)(e.$t("common.list")),1)])),_:1},8,["onClick"])):((0,s.wg)(),(0,s.j4)(Z,{key:0,class:"btn03",onClick:e.handleCancelButton},{default:(0,s.w5)((()=>[(0,s._)("span",null,(0,i.zw)(e.$t("common.cancel")),1)])),_:1},8,["onClick"]))]),(0,s._)("div",O,[e.isEdited?((0,s.wg)(),(0,s.j4)(Z,{key:0,class:"btn02 btn_ico",onClick:e.handleEditButton,disabled:"09"==e.input.branchStatusCode},{default:(0,s.w5)((()=>[(0,s._)("span",z,(0,i.zw)(e.$t("common.edit")),1)])),_:1},8,["onClick","disabled"])):((0,s.wg)(),(0,s.j4)(Z,{key:1,class:"btn01 btn_ico",onClick:e.handleSaveButton},{default:(0,s.w5)((()=>[(0,s._)("span",E,(0,i.zw)(e.$t("common.save")),1)])),_:1},8,["onClick"]))])])):(0,s.kq)("",!0)]),"normal"!==e.operationMode?((0,s.wg)(),(0,s.j4)(x,{key:0,payload:e.approvalRes},null,8,["payload"])):(0,s.kq)("",!0)])}}}]);
//# sourceMappingURL=4319.33ee341b.js.map