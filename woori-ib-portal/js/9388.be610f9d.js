"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9388],{47397:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(66252),a=n(3577);const r={class:"custom_input"},o=["placeholder","readonly","value"];function u(e,t){const n=(0,i.Q2)("phoneinput");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.wy)((0,i._)("input",{type:"text",class:(0,a.C_)(["line",[e.clearInput&&"padding_input",e.invalid&&"invalid_input"]]),placeholder:e.placeholder,readonly:e.disabled,autocomplete:"off",value:e.formatValue,onChange:t[0]||(t[0]=(...t)=>e.change&&e.change(...t)),onInput:t[1]||(t[1]=(...t)=>e.input&&e.input(...t)),onBlur:t[2]||(t[2]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:t[3]||(t[3]=(...t)=>e.onFocus&&e.onFocus(...t))},null,42,o),[[n,e.config]])])}var l=n(82482);n(21703);class s{constructor(e){(0,l.Z)(this,"options",void 0),(0,l.Z)(this,"input",void 0),(0,l.Z)(this,"numberRegExp",void 0),this.options=Object.assign(e),this.input="",this.numberRegExp=new RegExp("[^0-9]+","gi")}isNull(){return!this.input?.toString().replace(this.numberRegExp,"")}numbers(){return"number"===typeof this.input?this.input.toString().replace("-",""):this.input?.toString().replace(this.numberRegExp,"")}addFormatPrefix0(){let e=this.numbers();e.length>10&&(e=e.substring(0,10));const{separator:t}=this.options;return e.length<10?e.replace(/[^\dA-Z]/g,"").replace(/(.{3})/g,`$1${t}`).trim():e.replace(/[^\dA-Z]/g,"").replace(/(.{3})(.{3})(.{4})/g,`$1${t}$2${t}$3${t}`).trim()}addFormatPrefix855(){let e=this.numbers();e.length>10&&(e=e.substring(0,12));const{separator:t}=this.options;return e.replace(/[^\dA-Z]/g,"").replace(/(.{3})/g,`$1${t}`).trim()}format(e){return this.input=e,this.isNull()?"":"855"===this.options.prefix?"855"===String(this.numbers()).slice(0,3)?this.addFormatPrefix855():this.options.prefix+this.addFormatPrefix855():"0"===String(this.numbers()).slice(0,1)?this.addFormatPrefix0():this.options.prefix+this.addFormatPrefix0()}unformat(e){return this.input=e,this.isNull()?"":this.numbers()}}CustomEvent;function p(e){return JSON.parse(JSON.stringify(e))}function c(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function d(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("facade directive requires an input element");return t}function f(e,t){const n=()=>{e.setSelectionRange(t,t)};n(),setTimeout(n(),1)}function h(e,t,{emit:n=!0,force:i=!1,blur:a=!1}={}){const{options:r,oldValue:o}=e;let u=t?.props?.value||e.value;if("string"!==typeof u&&(u=u.toString()),i||o!==u){const t=new s(r),i=t.format(u),a=t.unformat(u);return e.oldValue=i,e.formatValue=i,e.unformatValue=a,e.value!==i&&(e.value=i),n&&e.dispatchEvent(c("input"))}}function m(e){const{target:t,detail:n}=e;if(n?.facade)return!1;const{oldValue:i,options:a,formatValue:r}=t;e.stopPropagation();let o=t.value.length;t.selectionEnd&&(o=t.value.length-t.selectionEnd),h(t,null,{emit:!1,blur:!1}),o=t.value.length-o,a.prefix&&(o=Math.max(o,a.prefix.length)),f(t,o),i!==t.value&&(t.oldValue=r,t.dispatchEvent(c("input")))}function g(e){const{target:t,detail:n}=e;if(n?.facade)return!1;const{oldValue:i,formatValue:a}=t;h(t,null,{emit:!1,force:!0,blur:!0}),i!==t.value&&(t.oldValue=a,t.dispatchEvent(c("change")))}function v(e){const{target:t,detail:n}=e;if(n?.facade)return!1;h(t,null,{emit:!1,force:!0,blur:!1})}function b(e,t){const{options:n}=t,{prefix:i,separator:a}=n,{key:r}=e,o=new RegExp("[^0-9]+","gi"),u=t?.value?.toString().replace(o,""),l=t.selectionEnd||0,s=t.selectionStart||0,p=t.value.slice(l-1,l),c=t.value.slice(l-2,l);let d=t.value.length-l;"Backspace"===r&&[i,a].includes(p)&&(e.preventDefault(),t.value=p===a?t.value.replace(c,""):t.value.replace(new RegExp(`[${i}]`,"g"),""),d=t.value.length-d,d=Math.max(d,i.length),f(t,d),t.dispatchEvent(new Event("input"))),"Backspace"!==r&&"ArrowLeft"!==r&&"ArrowRight"!==r&&t.value.length>=12&&s>u.length&&("855"===String(t.value).slice(0,3)?u.length>=12&&e.preventDefault():u.length>=10&&e.preventDefault())}var V={modelValue:"",separator:"",prefill:!0,prefix:""},x={beforeMount:(e,{value:t,modifiers:n},i)=>{e=d(e);const a=Object.assign(p(V),t,n);e.options=a,h(e,i,{force:a.prefill,blur:!0})},mounted:e=>{e=d(e);const t=e.parentElement||e,n=t=>{t.target===e&&m(t)};t.addEventListener("input",n,!0),e.onblur=e=>g(e),e.onfocus=e=>v(e),e.onkeydown=t=>{"Enter"===t.key?g(t):b(t,e)},e.cleanup=()=>t.removeEventListener("input",n,!0)},updated:(e,{value:t,oldValue:n,modifiers:i},a)=>{e=d(e);const r=e.options;e.options=Object.assign(r,t,i),t!==n?h(e,a,{force:!0,blur:!0}):h(e,a)},unmounted:e=>{d(e).cleanup()}},E=(0,i.aZ)({name:"PhoneInput",directives:{phoneinput:x},props:{modelValue:{type:[String,Number],required:!0},placeholder:{type:String,default:""},prefill:{type:Boolean,default:!0},prefix:{type:String,default:""},separator:{type:String,default:""},disabled:{type:Boolean,default:!1},clearInput:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1}},emits:["update:modelValue","input:modelValue","change","input","onBlur","onFocus"],data(){const e=this.modelValue,t="",n=!1;return{formatValue:e,unformatValue:t,isClear:n}},watch:{modelValue(e,t){e!==t&&(this.formatValue=e)}},computed:{config(){const e=""===this.separator?" ":this.separator,t=""===this.prefix?"0":this.prefix;return{...this.$props,separator:e,prefix:t}}},methods:{input(e){this.isClear=!1;const{target:t}=e;this.formatValue=t.formatValue,this.unformatValue=t.unformatValue,this.$emit("update:modelValue",this.unformatValue),this.$emit("input",e)},change(e){this.$emit("update:modelValue",this.unformatValue),this.$emit("change",e)},onClearValue(){this.$emit("update:modelValue","")},onBlur(e){this.$emit("onBlur",e)},onFocus(e){this.$emit("onFocus",e)}}}),y=n(83744);const $=(0,y.Z)(E,[["render",u],["__scopeId","data-v-daab112c"]]);var S=$}}]);
//# sourceMappingURL=9388.be610f9d.js.map