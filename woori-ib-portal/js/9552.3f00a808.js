"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9552],{69552:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=a(66252),i=a(3577);const o=e=>((0,n.dD)("data-v-fe8fa25a"),e=e(),(0,n.Cn)(),e),s={class:"row"},r={class:"col"},l={class:"form01"},u={class:"inp_box type_datetime"},m={class:"inp"},d={class:"dp__action_buttons"},h=["onClick"],c=["onClick"],p={class:"footer_btn"},g={class:"right_side"},_={class:"gridwrap"},z={class:"grid_option"},D={class:"option"},C={class:"tableWrap"},f={class:"table01 fixed"},y=o((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}})],-1))),N={class:"sticky_head"},R={class:"tbody_section"},w={key:0,class:"no_data"};function $(e,t){const a=(0,n.up)("ion-input"),o=(0,n.up)("ion-button"),$=(0,n.up)("VueDatePicker"),b=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[(0,n._)("div",r,[(0,n._)("dl",l,[(0,n._)("dt",null,(0,i.zw)(e.$t("rpt202001ss11.customer_information_report")),1),(0,n._)("dd",null,[(0,n.Wm)($,{placeholder:e.$t("rpt202001ss11.enter_date"),modelValue:e.searchValueBy.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchValueBy.date=t),"enable-time-picker":!1,type:"date"},{trigger:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n._)("div",m,[(0,n.Wm)(a,{class:"",value:e.formattedDate},null,8,["value"]),(0,n.Wm)(o,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar")])),_:1})])])])),"action-row":(0,n.w5)((({closePicker:t,selectDate:a})=>[(0,n._)("div",d,[(0,n._)("button",{type:"button",class:"btn_refresh",onClick:t},(0,i.zw)(e.$t("common.cancel")),9,h),(0,n._)("button",{type:"button",class:"",onClick:a},(0,i.zw)(e.$t("common.select")),9,c)])])),_:1},8,["placeholder","modelValue"])])])])]),(0,n._)("div",p,[(0,n._)("div",g,[(0,n.Wm)(o,{class:"btn01",onClick:t[1]||(t[1]=t=>e.handleSearch())},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,i.zw)(e.$t("common.search")),1)])),_:1}),(0,n.Wm)(o,{class:"btn_refresh",onClick:t[2]||(t[2]=t=>e.handleReset())},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,i.zw)(e.$t("common.refresh")),1)])),_:1})])]),(0,n._)("div",_,[(0,n._)("div",z,[(0,n._)("div",D,[(0,n.Wm)(o,{class:"btn01 btn_ico btn_sm",onClick:e.exportToExcel},{default:(0,n.w5)((()=>[(0,n.Uk)("Download Excel")])),_:1},8,["onClick"])])]),(0,n._)("div",C,[(0,n._)("table",f,[y,(0,n._)("thead",N,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.header,(e=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,i.zw)(e.columnName),1)])))),256))])]),(0,n._)("tbody",R,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.customerInformationReportData,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.startingIndex+a),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.branchCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.bizCID),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.bizName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.userName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.userRole),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.accountAssignation),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.phoneNumber),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.emailID),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.dateOfBirth),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.address),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.userType),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.authorizationStatus),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.createBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.createDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.authorizationCreateBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.authorizationCreateDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.updateBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.updateDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.authorizationUpdateBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.authorizationUpdateDate),1)])])))),256))])]),0===e.totalItems?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("p",null,(0,i.zw)(e.$t("common.no_data")),1)])):(0,n.kq)("",!0)]),(0,n.Wm)(b,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,resetPage:e.isResetPage,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])],64)}var b=a(42615),I=a(21638),T=a(41762),B=a(11076);const A=new B.l;var S=(0,n.aZ)({components:{Pagination:I.Z,VueDatePicker:T.Z},data(){return{customerInformationReportData:[],COMMON_KEY_VALUE:b.ii,header:[{columnName:"No"},{columnName:"Branch Code"},{columnName:"Biz CID"},{columnName:"Biz Name"},{columnName:"Username"},{columnName:"User Role"},{columnName:"Account Assignation"},{columnName:"Phone Number"},{columnName:"Email ID"},{columnName:"Date Of Birth"},{columnName:"Address"},{columnName:"User Type"},{columnName:"Authorization Status"},{columnName:"Create By"},{columnName:"Create Date"},{columnName:"Authorization Create By"},{columnName:"Authorization Create Date"},{columnName:"Update By"},{columnName:"Update Date"},{columnName:"Authorization Update By"},{columnName:"Authorization Update Date"}],totalItems:0,pageSize:b.IV,currentPage:1,startingIndex:1,isResetPage:!1,searchValueBy:{date:""},userRoleData:[]}},async mounted(){await this.requestUserRoleList(),await this.getCustomerInformationReportData()},computed:{formattedDate(){return this.searchValueBy.date?this.$datetime.formatVueDatePicker(this.searchValueBy.date):""}},methods:{async getCustomerInformationReportData(){const e={pageNumber:this.currentPage,pageSize:b.IV,applicationDate:this.searchValueBy.date?this.$datetime.convertDateToString(this.searchValueBy.date):""},t=await this.$request.getRequest("RPT20300111",e,!1);t.header.result&&(this.customerInformationReportData=this.onMappingTableData(t.body.list),this.totalItems=t.body.totalCount)},async exportToExcel(){const e=["Branch Code","Biz CID","Biz Name","Username","User Role","Account Assignation","Phone Number","Email ID","Date Of Birth","Address","User Type","Authorization Status","Create By","Create Date","Authorization Create By","Authorization Create Date","Update By","Update Date","Authorization Update By","Authorization Update Date"],t={applicationDate:this.searchValueBy.date?this.$datetime.convertDateToString(this.searchValueBy.date):"",pageSize:this.totalItems,pageNumber:0},a=await this.$request.getRequest("RPT20300111",t,!1),n=this.onMappingTableData(a.body.list),i={data:n,columnHeader:[e],sheetName:"Customer Information Report"};A.exportSheet([i],"Customer Information Report")},onMappingTableData(e){const{ServiceStatusCode:t,AuthorizationStatusCode:a}=this.$store.state.CommonCodeModule.commonCode;return e.map((e=>({branchCode:e.applicationBranchCode,bizCID:e.customerNo,bizName:e.customerName,userName:e.userID,userRole:this.handleMappingUserRole(this.userRoleData,e.mainUserRoleID),accountAssignation:e.accountAssignation,phoneNumber:this.$format.formatPhoneNumber(e.cellPhoneNo),emailID:e.email,dateOfBirth:e.birthDate,address:e.customerAddress,userType:t&&""!=e.serviceStatusCode?`${t.find((t=>t.key===e.serviceStatusCode))?.key}: ${t.find((t=>t.key===e.serviceStatusCode))?.value}`:"",authorizationStatus:a&&""!=e.authorizationStatusCode?`${a.find((t=>t.key===e.authorizationStatusCode))?.key}: ${a.find((t=>t.key===e.authorizationStatusCode))?.value}`:"",createBy:`${e.firstRegisterTellerID?`(${e.firstRegisterTellerID})`:""} ${e.firstRegisterTellerName?e.firstRegisterTellerName:""}`,createDate:`${e.firstRegisterDate?this.$datetime.formatStringToStringDate(e.firstRegisterDate):""} ${e.firstRegisterTime?this.$datetime.formatStringToTime(e.firstRegisterTime):""}`,authorizationCreateBy:`${e.firstRegisterAuthorizerEmployeeNo?`(${e.firstRegisterAuthorizerEmployeeNo})`:""} ${e.firstRegisterAuthorizationEmpName?e.firstRegisterAuthorizationEmpName:""}`,authorizationCreateDate:`${e.firstRegisterAuthorizationDate?this.$datetime.formatStringToStringDate(e.firstRegisterAuthorizationDate):""} ${e.firstRegisterAuthorizationTime?this.$datetime.formatStringToTime(e.firstRegisterAuthorizationTime):""}`,updateBy:`${e.lastChangeTellerID?`(${e.lastChangeTellerID})`:""} ${e.lastChangeTellerName?e.lastChangeTellerName:""}`,updateDate:`${e.lastChangeDate?this.$datetime.formatStringToStringDate(e.lastChangeDate):""} ${e.lastChangeTime?this.$datetime.formatStringToTime(e.lastChangeTime):""}`,authorizationUpdateBy:`${e.lastChangeAuthorizerEmployeeNo?`(${e.lastChangeAuthorizerEmployeeNo})`:""} ${e.lastChangeAuthorizationEmpName?e.lastChangeAuthorizationEmpName:""}`,authorizationUpdateDate:`${e.lastChangeAuthorizationDate?this.$datetime.formatStringToStringDate(e.lastChangeAuthorizationDate):""} ${e.lastChangeAuthorizationTime?this.$datetime.formatStringToTime(e.lastChangeAuthorizationTime):""}`})))},handleMappingUserRole(e,t){const a=e.find((e=>e.userRoleID===t));return a?`${a.userRoleID}: ${a.userRoleName} `:""},async requestUserRoleList(){const e=await this.$request.getRequest("COM21200113",{},!1);e.header.result&&(this.userRoleData=e.body.list)},handlePagination(e){this.isResetPage=!1,this.currentPage=e,this.getCustomerInformationReportData()},handleStartingIndex(e){this.startingIndex=e},handleSearch(){this.currentPage>1?(this.currentPage=1,this.isResetPage=!0,this.getCustomerInformationReportData()):(this.isResetPage=!0,this.getCustomerInformationReportData())},handleReset(){this.searchValueBy.date="",this.currentPage=1,this.isResetPage=!0,this.getCustomerInformationReportData()}}}),P=a(83744);const k=(0,P.Z)(S,[["render",$],["__scopeId","data-v-fe8fa25a"]]);var v=k}}]);
//# sourceMappingURL=9552.3f00a808.js.map