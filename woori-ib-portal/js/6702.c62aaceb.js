"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[6702],{16702:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var r=a(66252),n=a(3577);const o=e=>((0,r.dD)("data-v-20b2373a"),e=e(),(0,r.Cn)(),e),i={class:"row"},l={class:"col"},s={class:"form01"},c=o((()=>(0,r._)("dt",null,"NBC Service on Internet Banking Report (Fast Transfer, RFT, Transfer to Bakong, Interbank Transfer via Bakong)",-1))),u={class:"inp_box type_date"},m={class:"inp_box type_datetime"},d={class:"inp"},p={class:"dp__action_buttons"},_=["onClick"],h=["onClick"],C={class:"footer_btn"},g={class:"right_side"},N=o((()=>(0,r._)("span",null,"Search",-1))),f=o((()=>(0,r._)("span",null,"Refresh",-1))),v={class:"gridwrap"},y={class:"grid_option"},D={class:"option"},b={class:"tableWrap"},T={class:"table01 fixed"},z=o((()=>(0,r._)("colgroup",null,[(0,r._)("col",{style:{width:"80px"}}),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col"),(0,r._)("col")],-1))),k={class:"sticky_head"},w={class:"tbody_section"},$=["id","onClick"],R={key:0,class:"no_data"},S=o((()=>(0,r._)("p",null,"No Data",-1))),B=[S];function A(e,t){const a=(0,r.up)("ion-input"),o=(0,r.up)("ion-button"),S=(0,r.up)("VueDatePicker"),A=(0,r.up)("Pagination");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",i,[(0,r._)("div",l,[(0,r._)("dl",s,[c,(0,r._)("dd",null,[(0,r._)("div",u,[(0,r.Wm)(S,{placeholder:e.$t("pfm204001sc01.enter_date"),modelValue:e.approvalRequestDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.approvalRequestDate=t),"enable-time-picker":!1,type:"date"},{trigger:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r._)("div",d,[(0,r.Wm)(a,{class:"",value:e.formattedDate},null,8,["value"]),(0,r.Wm)(o,{class:"btn_date"},{default:(0,r.w5)((()=>[(0,r.Uk)("Calendar")])),_:1})])])])),"action-row":(0,r.w5)((({closePicker:e,selectDate:t})=>[(0,r._)("div",p,[(0,r._)("button",{type:"button",class:"btn_refresh",onClick:e},"Cancel",8,_),(0,r._)("button",{type:"button",class:"",onClick:t},"Select",8,h)])])),_:1},8,["placeholder","modelValue"])])])])])]),(0,r._)("div",C,[(0,r._)("div",g,[(0,r.Wm)(o,{onClick:t[1]||(t[1]=t=>e.handleSearch()),class:"btn01"},{default:(0,r.w5)((()=>[N])),_:1}),(0,r.Wm)(o,{onClick:t[2]||(t[2]=t=>e.handleReset()),class:"btn_refresh"},{default:(0,r.w5)((()=>[f])),_:1})])]),(0,r._)("div",v,[(0,r._)("div",y,[(0,r._)("div",D,[(0,r.Wm)(o,{class:"btn01 btn_ico btn_sm",onClick:e.exportToExcel},{default:(0,r.w5)((()=>[(0,r.Uk)("Download Excel")])),_:1},8,["onClick"])])]),(0,r._)("div",b,[(0,r._)("table",T,[z,(0,r._)("thead",k,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.header,(e=>((0,r.wg)(),(0,r.iD)("th",null,[(0,r._)("span",null,(0,n.zw)(e.columnName),1)])))),256))])]),(0,r._)("tbody",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.table,((t,a)=>((0,r.wg)(),(0,r.iD)("tr",{id:`row-${e.startingIndex+a}`,onClick:t=>e.$util.rowFocus(`row-${e.startingIndex+a}`)},[(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(e.startingIndex+a),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.referenceNo),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.bizCID),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.bizName),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.transactionType),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.fromAccountNo),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.beneficiaryAccountNumber),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.beneficiaryAccountName),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.bankName),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.amount),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.currency),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.senderFee),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.receiverFee),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.nCHFee),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.totalFeeCharge),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.remark),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.status),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.createdBy),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.createdDate),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.authorizedBy),1)]),(0,r._)("td",null,[(0,r._)("span",null,(0,n.zw)(t.authorizedDate),1)])],8,$)))),256))])]),0===e.totalItems?((0,r.wg)(),(0,r.iD)("div",R,B)):(0,r.kq)("",!0)]),(0,r.Wm)(A,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,resetPage:e.isResetPage,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])],64)}var I=a(42615),F=a(21638),P=a(41762),q=a(11076);const x=new q.l;var V=(0,r.aZ)({name:"RPT202001SS02",components:{Pagination:F.Z,VueDatePicker:P.Z},data(){return{approvalRequestDate:"",header:[{columnName:"No"},{columnName:"Reference No"},{columnName:"Biz CID"},{columnName:"Biz Name"},{columnName:"Transaction Type"},{columnName:"From Account No"},{columnName:"Beneficiary Account Number"},{columnName:"Beneficiary Account Name"},{columnName:"Bank Name"},{columnName:"Amount"},{columnName:"Currency"},{columnName:"Sender Fee"},{columnName:"Receiver Fee"},{columnName:"NCH Fee"},{columnName:"Total Fee Charge"},{columnName:"Remark"},{columnName:"Status"},{columnName:"Created by"},{columnName:"Created date"},{columnName:"Authorized by"},{columnName:"Authorized Date"}],table:[],totalItems:0,currentPage:1,pageSize:I.IV,startingIndex:1,isResetPage:!1}},mounted(){this.requestNBCServiceDetail()},computed:{formattedDate(){return this.approvalRequestDate?this.$datetime.formatVueDatePicker(this.approvalRequestDate):""}},methods:{async requestNBCServiceDetail(){const e={approvalRequestDate:this.approvalRequestDate?this.$datetime.convertDateToString(this.approvalRequestDate):"",pageSize:this.pageSize,pageNumber:this.currentPage},t=await this.$request.getRequest("RPT20500311",e,!1);this.table=t.body.list.map((e=>({referenceNo:e.serverTransactionID,bizCID:e.customerNo,bizName:e.customerName,transactionType:`${e.eBankTransactionTypeCode} : ${this.$codeConverter.convertValue("eBankTransactionTypeCode",e.eBankTransactionTypeCode)}`,fromAccountNo:e.withdrawalAccountNo,beneficiaryAccountNumber:e.receiverAccountNo,beneficiaryAccountName:e.receiverName,bankName:e.bankName,amount:this.$format.formatCurrency(e.transactionAmount,e.transactionCurrencyCode),currency:e.transactionCurrencyCode,senderFee:this.$format.formatCurrency(e.senderFee,e.transactionCurrencyCode),receiverFee:this.$format.formatCurrency(e.receiverFee,e.transactionCurrencyCode),nCHFee:this.$format.formatCurrency(e.centerFee,e.transactionCurrencyCode),totalFeeCharge:this.$format.formatCurrency(e.feeAmount,e.transactionCurrencyCode),remark:e.withdrawalAccountRemark,status:`${e.corpBankingApprovalStatusCode} : ${this.$codeConverter.convertValue("CorpBankingApprovalStatusCode",e.corpBankingApprovalStatusCode)}`,createdBy:e.firstRegisterTellerID&&e.firstRegisterTellerName?`${e.firstRegisterTellerID} (${e.firstRegisterTellerName})`:"",createdDate:e.firstRegisterDate&&e.firstRegisterTime?`${this.$datetime.formatStringToStringDate(e.firstRegisterDate)} ${this.$datetime.formatStringToTime(e.firstRegisterTime)}`:"",authorizedBy:e.approverID&&e.approverName?`${e.approverID} (${e.approverName})`:"",authorizedDate:e.authorizationDate&&e.authorizationTime?`${this.$datetime.formatStringToStringDate(e.authorizationDate)} ${this.$datetime.formatStringToTime(e.authorizationTime)}`:""}))),this.totalItems=t.body.totalCount},async exportToExcel(){const e=["Reference No","Biz CID","Biz Name","Transaction Type","From Account No","Beneficiary Account Number","Beneficiary Account Name","Bank Name","Amount","Currency","Sender Fee","Receiver Fee","NCH Fee","Total Fee Charge","Remark","Status","Created by","Created date","Authorized by","Authorized Date"],t={approvalRequestDate:this.approvalRequestDate?this.$datetime.convertDateToString(this.approvalRequestDate):"",pageSize:this.totalItems,pageNumber:0},a=await this.$request.getRequest("RPT20500311",t,!1),r=this.onMappingTableData(a.body.list),n={data:r,columnHeader:[e],sheetName:"NBC Service on IB Report"};x.exportSheet([n],"NBC Service on Internet Banking Report")},onMappingTableData(e){return e.map((e=>({referenceNo:e.serverTransactionID,bizCID:e.customerNo,bizName:e.customerName,transactionType:`${e.eBankTransactionTypeCode} : ${this.$codeConverter.convertValue("eBankTransactionTypeCode",e.eBankTransactionTypeCode)}`,fromAccountNo:e.withdrawalAccountNo,beneficiaryAccountNumber:e.receiverAccountNo,beneficiaryAccountName:e.receiverName,bankName:e.bankName,amount:this.$format.formatCurrency(e.transactionAmount,e.transactionCurrencyCode),currency:e.transactionCurrencyCode,senderFee:this.$format.formatCurrency(e.senderFee,e.transactionCurrencyCode),receiverFee:this.$format.formatCurrency(e.receiverFee,e.transactionCurrencyCode),nCHFee:this.$format.formatCurrency(e.centerFee,e.transactionCurrencyCode),totalFeeCharge:this.$format.formatCurrency(e.feeAmount,e.transactionCurrencyCode),remark:e.withdrawalAccountRemark,status:`${e.corpBankingApprovalStatusCode} : ${this.$codeConverter.convertValue("CorpBankingApprovalStatusCode",e.corpBankingApprovalStatusCode)}`,createdBy:e.firstRegisterTellerID&&e.firstRegisterTellerName?`${e.firstRegisterTellerID} (${e.firstRegisterTellerName})`:"",createdDate:e.firstRegisterDate&&e.firstRegisterTime?`${this.$datetime.formatStringToStringDate(e.firstRegisterDate)} ${this.$datetime.formatStringToTime(e.firstRegisterTime)}`:"",authorizedBy:e.approverID&&e.approverName?`${e.approverID} (${e.approverName})`:"",authorizedDate:e.authorizationDate&&e.authorizationTime?`${this.$datetime.formatStringToStringDate(e.authorizationDate)} ${this.$datetime.formatStringToTime(e.authorizationTime)}`:""})))},handlePagination(e){this.isResetPage=!1,this.currentPage=e,this.requestNBCServiceDetail()},handleStartingIndex(e){this.startingIndex=e},handleSearch(){this.currentPage>1?(this.currentPage=1,this.isResetPage=!0,this.requestNBCServiceDetail()):(this.isResetPage=!0,this.requestNBCServiceDetail())},handleReset(){this.approvalRequestDate="",this.currentPage=1,this.isResetPage=!0,this.requestNBCServiceDetail()}}}),H=a(83744);const W=(0,H.Z)(V,[["render",A],["__scopeId","data-v-20b2373a"]]);var G=W}}]);
//# sourceMappingURL=6702.c62aaceb.js.map