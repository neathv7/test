"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[4985],{21638:function(t,e,n){n.d(e,{Z:function(){return _}});var a=n(66252),i=n(3577);const r=t=>((0,a.dD)("data-v-3886d7e2"),t=t(),(0,a.Cn)(),t),s={class:"grid_footer"},l={key:0,class:"grid_option"},o={class:"list_count"},u=r((()=>(0,a._)("dd",null,[(0,a._)("span",null," item(s)")],-1))),c={key:1,class:"paginaton"};function d(t,e){const n=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",s,[t.showTotal?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",o,[(0,a._)("dl",null,[(0,a._)("dt",null,[(0,a._)("strong",null,(0,i.zw)(t.$util.addComma(t.totalCount,3)),1)]),u])])])):(0,a.kq)("",!0),t.perPage>0&&t.totalCount>0&&t.totalCount>t.perPage?((0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(n,{class:"btn_page_prev",onClick:t.backwardPagination,disabled:t.isDisabledPrev},{default:(0,a.w5)((()=>[(0,a.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.totalPagination,(e=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(n,{class:(0,i.C_)([t.currentPage==e?"on":""]),onClick:n=>t.onClickPagination(e),disabled:"..."===e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,a.Wm)(n,{class:"btn_page_next",onClick:t.forwardPagination,disabled:t.isDisabledNext},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,a.kq)("",!0)])}var g=(0,a.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(t){t&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(t){this.currentPage=t;const e=[];if(this.endPagination-this.currentPage>=this.maxPageShow){e.push(this.currentPage.toString());for(let n=0;n<this.maxPageShow-4;n++)e.push((t+n+1).toString());e.push("..."),e.push((this.endPagination-1).toString()),e.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let n=1;n<=this.endPagination;n++)e.push(n.toString());else for(let n=this.endPagination-this.maxPageShow+1;n<=this.endPagination;n++)e.push(n.toString());return this.totalPagination=e,t},dividePage(){const t=this.totalCount/this.perPage;if(t%1!=0){const e=t.toString().split(".");return(0,i.He)(e[0])+1}return(0,i.He)(t.toFixed())},onClickPagination(t){this.currentPage!=parseInt(t)&&(this.currentPage=parseInt(t),this.findPagination(parseInt(t)),this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let t=10==this.currentPage?9:10,e=this.currentPage-t;e<1?(e=1,await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let t=1==this.currentPage?9:10,e=this.currentPage+t;e>Number(this.totalPagination.slice(-1))?(e=Number(this.totalPagination.slice(-1)),await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),h=n(83744);const p=(0,h.Z)(g,[["render",d],["__scopeId","data-v-3886d7e2"]]);var _=p},54985:function(t,e,n){n.r(e),n.d(e,{default:function(){return rt}});var a=n(66252),i=n(3577);const r=t=>((0,a.dD)("data-v-6a3f9a78"),t=t(),(0,a.Cn)(),t),s={class:"row"},l={class:"col"},o={class:"form01"},u=r((()=>(0,a._)("dt",null,"Report Month",-1))),c={class:"inp_box type_datetime"},d={class:"inp"},g={class:"dp__action_buttons"},h=["onClick"],p=["onClick"],_={class:"footer_btn"},m={class:"right_side"},P=r((()=>(0,a._)("span",null,"Search",-1))),b=r((()=>(0,a._)("span",null,"Refresh",-1))),f={class:"gridwrap no_grid_option"},w=r((()=>(0,a._)("h3",{class:"no_border"},"Monthly Report of Internet Banking for NBC",-1))),C={class:"tableWrap full"},y={class:"table01 fixed"},k=r((()=>(0,a._)("colgroup",null,[(0,a._)("col")],-1))),v={class:"sticky_head"},x={key:0,class:"tbody_section"},D={class:"txt_left"},N={class:"txt_right"},R={class:"txt_right"},S={key:0,class:"no_data"},$=r((()=>(0,a._)("p",null,"No Data",-1))),B=[$],I=r((()=>(0,a._)("br",null,null,-1))),T=r((()=>(0,a._)("h3",{class:"no_border"},"Intra Bank Transfer & Inter Bank Transfer",-1))),z={class:"tableWrap full"},M={class:"table01 fixed"},H=r((()=>(0,a._)("colgroup",null,[(0,a._)("col"),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}})],-1))),K={class:"sticky_head"},V={class:"tbody_section"},U={class:"txt_left"},A={class:"txt_left"},W={class:"txt_right"},q={class:"tableWrap full"},Z={class:"table01 fixed"},L=r((()=>(0,a._)("colgroup",null,[(0,a._)("col"),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}}),(0,a._)("col",{style:{width:"350px"}})],-1))),Y={class:"sticky_head"},E={class:"tbody_section"},G={class:"txt_left"},O={class:"txt_left"},F={class:"txt_right"};function j(t,e){const n=(0,a.up)("ion-input"),r=(0,a.up)("ion-button"),$=(0,a.up)("VueDatePicker"),j=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",s,[(0,a._)("div",l,[(0,a._)("dl",o,[u,(0,a._)("dd",null,[(0,a.Wm)($,{placeholder:t.$t("pfm204001sc01.enter_date"),modelValue:t.date,"onUpdate:modelValue":e[0]||(e[0]=e=>t.date=e),"enable-time-picker":!1,"month-picker":"",type:"date"},{trigger:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(n,{class:"",value:t.formattedDate},null,8,["value"]),(0,a.Wm)(r,{class:"btn_date"},{default:(0,a.w5)((()=>[(0,a.Uk)("Calendar")])),_:1})])])])),"action-row":(0,a.w5)((({closePicker:t,selectDate:e})=>[(0,a._)("div",g,[(0,a._)("button",{type:"button",class:"btn_refresh",onClick:t},"Cancel",8,h),(0,a._)("button",{type:"button",class:"",onClick:e},"Select",8,p)])])),_:1},8,["placeholder","modelValue"])])])])]),(0,a._)("div",_,[(0,a._)("div",m,[(0,a.Wm)(r,{class:"btn01",onClick:e[1]||(e[1]=e=>t.getNBCReport())},{default:(0,a.w5)((()=>[P])),_:1}),(0,a.Wm)(r,{class:"btn_refresh",onClick:e[2]||(e[2]=e=>t.onRefresh())},{default:(0,a.w5)((()=>[b])),_:1})])]),(0,a._)("div",f,[w,(0,a._)("div",C,[(0,a._)("table",y,[k,(0,a._)("thead",v,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.headers.nbc,(t=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,i.zw)(t.columnName),1)])))),256))])]),t.reportList.nBCMonthlyReport.length>0?((0,a.wg)(),(0,a.iD)("tbody",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.nBCMonthlyReport,(e=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",D,[(0,a._)("span",null,(0,i.zw)(t.$codeConverter.convertValue("MonthlyNBCServiceCode",e.serviceTypeCode)),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalTransactionInKHR),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalTransactionInUSD),1)]),(0,a._)("td",N,[(0,a._)("span",null,(0,i.zw)(t.$format.formatCurrency(e.totalAmountInKHR,"KHR")),1)]),(0,a._)("td",R,[(0,a._)("span",null,(0,i.zw)(t.$format.formatCurrency(e.totalAmountInUSD,"USD")),1)])])))),256))])):(0,a.kq)("",!0)]),0==t.reportList.nBCMonthlyReport.length?((0,a.wg)(),(0,a.iD)("div",S,B)):(0,a.kq)("",!0)]),(0,a.Wm)(j,{showTotal:t.reportList.nBCMonthlyReport.length>t.PAGE_SIZE,totalCount:t.reportList.nBCMonthlyReport.length,perPage:t.PAGE_SIZE,onGetPageNumber:t.handlePagination,resetPage:t.isResetPage},null,8,["showTotal","totalCount","perPage","onGetPageNumber","resetPage"]),I,T,(0,a._)("div",z,[(0,a._)("table",M,[H,(0,a._)("thead",K,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.headers.bank,(t=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,i.zw)(t.columnName),1)])))),256))])]),(0,a._)("tbody",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.bankReportKHR,(e=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",U,[(0,a._)("span",null,(0,i.zw)(t.$codeConverter.convertValue("IntraInterBankServiceTypeCode",e.serviceTypeCode)),1)]),(0,a._)("td",A,[(0,a._)("span",null,(0,i.zw)(e.gapOfTransactionValue),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalTransaction),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalCustomer),1)]),(0,a._)("td",W,[(0,a._)("span",null,(0,i.zw)(t.$format.formatCurrency(e.totalAmount,"KHR")),1)])])))),256))])])]),(0,a._)("div",q,[(0,a._)("table",Z,[L,(0,a._)("thead",Y,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.headers.bank,(t=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,i.zw)(t.columnName),1)])))),256))])]),(0,a._)("tbody",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.bankReportUSD,(e=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",G,[(0,a._)("span",null,(0,i.zw)(t.$codeConverter.convertValue("IntraInterBankServiceTypeCode",e.serviceTypeCode)),1)]),(0,a._)("td",O,[(0,a._)("span",null,(0,i.zw)(e.gapOfTransactionValue),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalTransaction),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.totalCustomer),1)]),(0,a._)("td",F,[(0,a._)("span",null,(0,i.zw)(t.$format.formatCurrency(e.totalAmount,"USD")),1)])])))),256))])])])])],64)}var J=n(21638),Q=n(41762),X=n(42615);class tt{calculateTotalPages(t,e){return Math.ceil(t/e)}validateCurrentPage(t,e){return Math.max(1,Math.min(t,e))}paginate(t,e,n){const a=e.length,i=this.calculateTotalPages(a,n),r=this.validateCurrentPage(t,i),s=(r-1)*n,l=Math.min(r*n,a),o=e.slice(s,l);return{currentPage:r,totalPages:i,startItem:s,endItem:l,itemsOnPage:o}}}const et=new tt;var nt=(0,a.aZ)({name:"rpt202001ss17",components:{Pagination:J.Z,VueDatePicker:Q.Z},data(){return{PAGE_SIZE:X.IV,reportList:{nBCMonthlyReport:[],intraAndInterBankReport:[]},headers:{nbc:[{columnName:"Service Type"},{columnName:"Number of Transaction in KHR"},{columnName:"Number of Transaction in USD"},{columnName:"Amount in KHR"},{columnName:"Amount in USD"}],bank:[{columnName:"Service Type"},{columnName:"Gap of Transaction Value"},{columnName:"Number of Transaction"},{columnName:"Number of Customer"},{columnName:"Amount"}]},paginations:{nbc:{currentPage:1,isResetPage:!1}},date:""}},computed:{nBCMonthlyReport(){return et.paginate(this.paginations.nbc.currentPage,this.reportList.nBCMonthlyReport,X.IV).itemsOnPage},bankReportKHR(){return this.reportList.intraAndInterBankReport.filter((t=>"KHR"==t.currencyCode))},bankReportUSD(){return this.reportList.intraAndInterBankReport.filter((t=>"USD"==t.currencyCode))},formattedDate(){return this.$datetime.formatVueMonthPicker(this.date)}},async created(){await this.getNBCReport()},methods:{async getNBCReport(){const t={year:""==this.date?"":`${this.date.year}`,month:""==this.date?"":this.returnMonth(this.date.month)},e=await this.$request.getRequest("RPT20500811",t,!1);e.header.result&&(this.reportList=e.body)},handlePagination(t){this.paginations.nbc.isResetPage=!1,this.paginations.nbc.currentPage=t},onRefresh(){this.date="",this.getNBCReport()},returnMonth(t){return t<10?`0${t+1}`:`${t+1}`}}}),at=n(83744);const it=(0,at.Z)(nt,[["render",j],["__scopeId","data-v-6a3f9a78"]]);var rt=it}}]);
//# sourceMappingURL=4985.1ed00c24.js.map