"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[3805],{74416:function(e,t,s){s.a(e,(async function(e,a){try{var o=s(66252),l=s(2262),n=s(42615),u=s(21638),i=s(90121),r=s(67201),c=e([i]);i=(c.then?(await c)():c)[0],t["Z"]=(0,o.aZ)({name:"com203002sc00",components:{BreadCrumb:i.Z,Pagination:u.Z,SelectOption:r.Z},data(){const e=(0,l.iH)([]),t=(0,l.iH)([]),s=[{columnName:this.$t("com203002sc00.column.no")},{columnName:this.$t("com203002sc00.column.view")},{columnName:this.$t("com203002sc00.column.employee_no")},{columnName:this.$t("com203002sc00.column.first_name")},{columnName:this.$t("com203002sc00.column.last_name")},{columnName:this.$t("com203002sc00.column.status")},{columnName:this.$t("com203002sc00.column.user_type")},{columnName:this.$t("com203002sc00.column.work_status")},{columnName:this.$t("com203002sc00.column.branch_code")},{columnName:this.$t("com203002sc00.column.branch_name")},{columnName:this.$t("com203002sc00.column.job_title")},{columnName:this.$t("com203002sc00.column.phone_no")},{columnName:this.$t("com203002sc00.column.email_address")},{columnName:this.$t("com203002sc00.column.login_date")}],a=(0,l.qj)({employeeNo:"",userFirstName:"",workStatusCode:"",userStatusCode:"",userTypeCode:"",loginDate:""});return{dataTable:t,staffListData:e,header:s,input:a,COMMON_KEY_VALUE:n.ii,totalItems:0,currentPage:1,pageSize:n.IV,startingIndex:1,isReset:!1,breadcrumbs:[{value:"apm201001sc00.label.home",keyPath:"/COM200001SC00",type:"route"},{value:"com203002sc00.portal_management",keyPath:"",type:"label"},{value:"com203002sc00.bank_staff_info",keyPath:"",type:"label"},{value:"com203002sc00.bank_staff_list",keyPath:"",type:"route"}]}},mounted(){this.handleFetchStaffList()},computed:{userStatusCodeValue(){return e=>`${e} : `+this.$codeConverter.convertValue("userStatusCode",`${e}`)},workStatusCodeValue(){return e=>`${e} : `+this.$codeConverter.convertValue("WorkStatusTypeCode",`${e}`)},userTypeCodeValue(){return e=>`${e} : `+this.$codeConverter.convertValue("userTypeCode",`${e}`)}},methods:{workStatusConverter(e){switch(e){case"00: Registered":return"success";case"01: Normal":return"info";case"02: Dispatched":return"fail";case"03: Leave":return"info";case"04: Suspended":return"warning";case"05: Quit":return"info";default:return"fail"}},statusConverter(e){switch(e){case"01: Active":return"success";case"02: Suspended":return"info";default:return"fail"}},handleClickRegister(){this.$router.push({path:"/COM203002SC01",query:{type:"register"}})},handleClickRow(e,t){this.$router.push({path:"/COM203002SC01",query:{type:"edit",employeeNo:t.employeeNo}})},convertCodeToValue(e){const t=e.map((e=>(e.userStatusCode=e.userStatusCode?this.userStatusCodeValue(e.userStatusCode):"",e.workStatusCode=e.workStatusCode?this.workStatusCodeValue(e.workStatusCode):"",e.userTypeCode=e.userTypeCode?this.userTypeCodeValue(e.userTypeCode):"",e.loginDate=this.$datetime.formatStringToStringDate(e.loginDate),e)));return t},async handleClickRefresh(){this.input.employeeNo="",this.input.userFirstName="",this.input.workStatusCode="",this.input.userStatusCode="",this.isReset=!0,this.currentPage=1,await this.handleFetchStaffList()},async handleFetchStaffList(e){const t="COM20300211",s=!1,a={pageSize:this.pageSize,pageNumber:"search"==e?0:this.currentPage,employeeNo:this.input.employeeNo,userFirstName:this.input.userFirstName,userStatusCode:this.input.userStatusCode,workStatusCode:this.input.workStatusCode};"search"===e&&(this.isReset=!0,this.currentPage=1);const o=await this.$request.getRequest(t,a,s);this.dataTable=this.onMappingTableData(o.body.list),this.staffListData=JSON.parse(JSON.stringify(this.convertCodeToValue(o.body.list))),this.totalItems=o.body.totalCount},handlePagination(e){this.isReset=!1,this.currentPage=e,this.handleFetchStaffList()},handleStartingIndex(e){this.startingIndex=e},onMappingTableData(e){const{UserStatusCodes:t,UserTypeCode:s,WorkStatusCode:a}=this.$store.state.CommonCodeModule.commonCode;return e.map(((e,o)=>({No:o+1,branchCode:e.branchCode,branchName:e.branchName,cellPhoneNo:e.cellPhoneNo,emailAddress:e.emailAddress,employeeNo:e.employeeNo,loginDate:this.$datetime.formatStringToStringDate(e.loginDate),userFirstName:e.userFirstName,userLastName:e.userLastName,jobTitleCode:e.jobTitleCode,userStatusCode:t&&e.userStatusCode?`${t.find((t=>t.key===e.userStatusCode))?.key}: ${t.find((t=>t.key===e.userStatusCode))?.value}`:"",userTypeCode:s&&e.userTypeCode?`${s.find((t=>t.key===e.userTypeCode))?.key}: ${s.find((t=>t.key===e.userTypeCode))?.value}`:"",workStatusCode:a&&e.workStatusCode?`${a.find((t=>t.key===e.workStatusCode))?.key}: ${a.find((t=>t.key===e.workStatusCode))?.value}`:""})))}}}),a()}catch(d){a(d)}}))},33805:function(e,t,s){s.a(e,(async function(e,a){try{s.r(t);var o=s(54667),l=s(18138),n=(s(78866),s(83744)),u=e([l]);l=(u.then?(await u)():u)[0];const i=(0,n.Z)(l.Z,[["render",o.s],["__scopeId","data-v-a8561118"]]);t["default"]=i,a()}catch(i){a(i)}}))},78866:function(){},18138:function(e,t,s){s.a(e,(async function(e,a){try{s.d(t,{Z:function(){return o.Z}});var o=s(74416),l=e([o]);o=(l.then?(await l)():l)[0],a()}catch(n){a(n)}}))},54667:function(e,t,s){s.d(t,{s:function(){return L}});var a=s(66252),o=s(3577),l=s(49963);const n=e=>((0,a.dD)("data-v-a8561118"),e=e(),(0,a.Cn)(),e),u={class:"contentWrap"},i={class:"title_name"},r={class:"cont"},c={class:"row gap"},d={class:"col-3"},m={class:"form01"},h={class:"inp_box"},p={class:"inp"},_={class:"col-3"},C={class:"form01"},w={class:"inp_box"},y={class:"inp"},f={class:"col-3"},S={class:"form01"},g={class:"col-3"},k={class:"form01"},b={class:"footer_btn"},N={class:"right_side"},$={class:"gridwrap"},v={class:"grid_option"},z={class:"option"},x={class:"add_sm"},V={class:"tableWrap"},T={class:"table01 fixed"},P=n((()=>(0,a._)("colgroup",null,[(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}})],-1))),D={class:"sticky_head"},F={class:"tbody_section"},I=["id","onClick"],W={key:0,class:"no_data"};function L(e,t){const s=(0,a.up)("BreadCrumb"),n=(0,a.up)("ion-input"),L=(0,a.up)("SelectOption"),O=(0,a.up)("ion-button"),M=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(s,{items:e.breadcrumbs},null,8,["items"]),(0,a._)("h1",i,(0,o.zw)(e.$t("com203002sc00.bank_staff_list")),1),(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("dl",m,[(0,a._)("dt",null,(0,o.zw)(e.$t("com203002sc00.employee_no")),1),(0,a._)("dd",null,[(0,a._)("div",h,[(0,a._)("div",p,[(0,a.Wm)(n,{maxlength:"20",placeholder:e.$t("com203002sc00.employee_no"),modelValue:e.input.employeeNo,"onUpdate:modelValue":t[0]||(t[0]=t=>e.input.employeeNo=t),onKeyup:t[1]||(t[1]=(0,l.D2)((t=>e.handleFetchStaffList("search")),["enter"])),"clear-input":""},null,8,["placeholder","modelValue"])])])])])]),(0,a._)("div",_,[(0,a._)("dl",C,[(0,a._)("dt",null,(0,o.zw)(e.$t("com203002sc00.first_name")),1),(0,a._)("dd",null,[(0,a._)("div",w,[(0,a._)("div",y,[(0,a.Wm)(n,{placeholder:e.$t("com203002sc00.first_name"),modelValue:e.input.userFirstName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.input.userFirstName=t),onKeyup:t[3]||(t[3]=(0,l.D2)((t=>e.handleFetchStaffList("search")),["enter"])),"clear-input":""},null,8,["placeholder","modelValue"])])])])])]),(0,a._)("div",f,[(0,a._)("dl",S,[(0,a._)("dt",null,(0,o.zw)(e.$t("com203002sc00.work_status")),1),(0,a._)("dd",null,[(0,a.Wm)(L,{data:e.$store.state.CommonCodeModule.commonCode.WorkStatusCode,modelValue:e.input.workStatusCode,"onUpdate:modelValue":t[4]||(t[4]=t=>e.input.workStatusCode=t),value:e.input.workStatusCode,showOptionAll:!0,showKey:!0},null,8,["data","modelValue","value"])])])]),(0,a._)("div",g,[(0,a._)("dl",k,[(0,a._)("dt",null,(0,o.zw)(e.$t("com203002sc00.user_status")),1),(0,a._)("dd",null,[(0,a.Wm)(L,{data:e.$store.state.CommonCodeModule.commonCode.UserStatusCodes,modelValue:e.input.userStatusCode,"onUpdate:modelValue":t[5]||(t[5]=t=>e.input.userStatusCode=t),value:e.input.userStatusCode,showOptionAll:!0,showKey:!0},null,8,["data","modelValue","value"])])])])]),(0,a._)("div",b,[(0,a._)("div",N,[(0,a.Wm)(O,{onClick:t[6]||(t[6]=t=>e.handleFetchStaffList("search")),class:"btn01"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.$t("common.search")),1)])),_:1}),(0,a.Wm)(O,{class:"btn_refresh",onClick:e.handleClickRefresh},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.$t("common.reset")),1)])),_:1},8,["onClick"])])]),(0,a._)("div",$,[(0,a._)("div",v,[(0,a._)("div",z,[(0,a.Wm)(O,{class:"btn02 btn_sm btn_ico",onClick:t[7]||(t[7]=t=>e.handleClickRegister())},{default:(0,a.w5)((()=>[(0,a._)("span",x,(0,o.zw)(e.$t("common.register")),1)])),_:1})])]),(0,a._)("div",V,[(0,a._)("table",T,[P,(0,a._)("thead",D,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.header,(e=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,o.zw)(e.columnName),1)])))),256))])]),(0,a._)("tbody",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.dataTable,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",{id:`row-${e.startingIndex+s}`,onClick:t=>e.$util.rowFocus(`row-${e.startingIndex+s}`)},[(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(e.startingIndex+s),1)]),(0,a._)("td",null,[(0,a.Wm)(O,{class:"btn_view",onClick:a=>e.handleClickRow(e.startingIndex+s,t)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("com204003sc00.view")),1)])),_:2},1032,["onClick"])]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.employeeNo),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.userFirstName),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.userLastName),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.userStatusCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.userTypeCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.workStatusCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.branchCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.branchName),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.jobTitleCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(e.$format.formatPhoneNumber(t.cellPhoneNo)),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.emailAddress),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,o.zw)(t.loginDate),1)])],8,I)))),256))])]),0===e.totalItems?((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("p",null,(0,o.zw)(e.$t("common.no_data")),1)])):(0,a.kq)("",!0)]),(0,a.Wm)(M,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,resetPage:e.isReset,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])])])}}}]);
//# sourceMappingURL=3805.243aa8d5.js.map