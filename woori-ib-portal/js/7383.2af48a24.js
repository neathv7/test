"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[7383],{28183:function(t,e,n){n.a(t,(async function(t,a){try{var i=n(66252),r=n(75080),s=n(72224),u=t([s]);s=(u.then?(await u)():u)[0],e["Z"]=(0,i.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(t){"/COM210001SC00"==this.$route.path&&(t&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:t,route:""}))}},methods:{pathDriver(t,e){if(""===this.approvalType){if(this.$route.path==t)return;e?this.$router.push({path:t,query:e}):this.$router.push(t)}},async renderMenuFromState(){return r.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((t=>""!=t.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(t){console.log("Error rendering menu:",t)}},async buildBreadcrumb(t,e){const n=t.find((t=>`/${t.screenID}`==e));if(n){if(this.generateBreadcrumbs(t,n),"/ICM201001SC00"==this.$route.path){const e=t.find((t=>"ICM201001SC00"==t.screenID));s.u.setData("SpecialScreenID",JSON.stringify(e))}}else{if("/CIB202003SC00"==this.$route.path){let e,n;n=t.find((t=>"CIB202002SC00"==t.screenID)),e={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:n.menuID,menuID:"1"},this.generateBreadcrumbs(t,e)}const e=this.$route.path.replace("/","");let n=[];this.menuList.forEach((t=>{n.push(t.screenID)})),n.forEach((n=>{let a;if(this.matchScreenID(n,e)&&(a=t.find((t=>`${t.screenID}`==n)),a&&this.generateBreadcrumbs(t,a)),""!==this.approvalType&&("VBA202002SC00"==e||"CIB201003SC00"==e)&&this.matchApprovalModeScreenID(n,e)){const e=t.find((t=>`${t.screenID}`==n));this.generateBreadcrumbs(t,e)}}));let a=e.charAt(e.length-1);if("1"===a){let t={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`};this.breadcrumbs.push(t),s.u.setData("TempBreadCrumb",JSON.stringify(t))}else if("2"===a)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`});else{let t=JSON.parse(await s.u.getData("TempBreadCrumb"));this.breadcrumbs.push(t,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let n=this.$router.options.history.state.back,a=n.includes("/")?n.replace("/",""):n;const i=await t.find((t=>`${t.screenID}`==a));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,i)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let n=JSON.parse(await s.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,n)}else if("/CIB202003SC01"==this.$route.path){let n,a;this.breadcrumbs=[],a=t.find((t=>"CIB202002SC00"==t.screenID)),n={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:a.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${e}`}),this.generateBreadcrumbs(t,n)}else if("/PUM202002SC00"==this.$route.path){let e,n;n=t.find((t=>"COM200001SC00"==t.screenID)),e={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:n.menuID},this.generateBreadcrumbs(t,e)}}},async generateBreadcrumbs(t,e){try{if(e){const n={menuName:e.menuName,route:`/${e.screenID}`,menuIconID:e.menuIconID};if(this.breadcrumbs.unshift(n),e.parentMenuID){const n=t.find((t=>t.menuID==e.parentMenuID));n&&this.generateBreadcrumbs(t,n)}}}catch(n){console.log(n)}},matchScreenID(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length-1;n++)if(t[n]!==e[n])return!1;return!0},matchApprovalModeScreenID(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length-5;n++)if(t[n]!==e[n])return!1;return!0}}}),a()}catch(o){a(o)}}))},95847:function(t,e,n){n.a(t,(async function(t,a){try{var i=n(66252),r=n(21638),s=n(93514),u=n(42615),o=n(90121),c=t([o]);o=(c.then?(await c)():c)[0],e["Z"]=(0,i.aZ)({name:"cib202001sc00",components:{Pagination:r.Z,CustomerInformation:s.Z,BreadCrumb:o.Z},data(){const t=this.$route.query.customerNo,e=this.$route.query.userID,n=[],a={},i=[{columnName:this.$t("cib202001sc00.column.no")},{columnName:this.$t("cib202001sc00.column.change_date")},{columnName:this.$t("cib202001sc00.column.change_time")},{columnName:this.$t("cib202001sc00.column.service")},{columnName:this.$t("cib202001sc00.column.change_item")},{columnName:this.$t("cib202001sc00.column.branch")},{columnName:this.$t("cib202001sc00.column.branch_name")},{columnName:this.$t("cib202001sc00.column.before_change_content")},{columnName:this.$t("cib202001sc00.column.after_change_content")},{columnName:this.$t("cib202001sc00.column.transaction_teller_id")}];return{userID:e,customerNo:t,userList:n,customerInfo:a,header:i,totalItems:0,currentPage:1,pageSize:u.IV,startingIndex:1,isReset:!1}},mounted(){this.getCustomerInformation(),this.getCustomerHistoryList()},methods:{async getCustomerInformation(){const t={customerNo:`${this.customerNo}`},e=await this.$request.getRequest("CIB20100114",t,!1);e.header.result&&(this.customerInfo=e.body)},async getCustomerHistoryList(){const t={pageSize:`${this.pageSize}`,userID:`${this.userID}`,pageNumber:`${this.currentPage}`},e=await this.$request.getRequest("CIB20200111",t,!1);e?.header.result&&(this.userList=e?.body.list.map((t=>({changeTypeCode:this.$codeConverter.convertValue("ChangeTypeCode",t.changeTypeCode),serviceCeaseReasonCode:t.serviceCeaseReasonCode,changeTime:this.$datetime.formatStringToTime(t.changeTime),historyContent:t.historyContent,serviceID:t.serviceID,transactionTellerID:t.transactionTellerID,authorizationNo:t.authorizationNo,userID:t.userID,changeDate:this.$datetime.formatStringToStringDate(t.changeDate),afterChangeItemContent:t.afterChangeItemContent,seqNo:t.seqNo,beforeChangeItemContent:t.beforeChangeItemContent,handleBranchCode:t.handleBranchCode,handleBranchName:t.handleBranchName}))),this.totalItems=e.body.totalCount)},handleList(){this.$router.push("CIB201001SC00")},handlePagination(t){this.currentPage=t,this.getCustomerHistoryList()},handleStartingIndex(t){this.startingIndex=t}}}),a()}catch(l){a(l)}}))},90121:function(t,e,n){n.a(t,(async function(t,a){try{var i=n(55864),r=n(44104),s=(n(55241),n(83744)),u=t([r]);r=(u.then?(await u)():u)[0];const o=(0,s.Z)(r.Z,[["render",i.s],["__scopeId","data-v-6668b2f2"]]);e["Z"]=o,a()}catch(o){a(o)}}))},93514:function(t,e,n){n.d(e,{Z:function(){return N}});var a=n(66252),i=n(3577);const r={class:"card_box"},s={class:"wrap_info type02"},u=(0,a._)("dt",null,"Customer No",-1),o=(0,a._)("dt",null,"Name",-1),c=(0,a._)("dt",null,"National ID",-1),l=(0,a._)("dt",null,"Passport No",-1),h=(0,a._)("dt",null,"Customer Type",-1),d=(0,a._)("dt",null,"Status",-1),m=(0,a._)("dt",null,"Branch",-1),g=(0,a._)("dt",null,"Nationality",-1),p={class:"full"},b=(0,a._)("dt",null,"Birthday",-1),f={class:"full"},_=(0,a._)("dt",null,"Address",-1);function C(t,e){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("h3",null,(0,i.zw)(t.$t("cib201002sc00.customer_information")),1),(0,a._)("div",s,[(0,a._)("dl",null,[u,(0,a._)("dd",null,(0,i.zw)(t.data.customerNo),1)]),(0,a._)("dl",null,[o,(0,a._)("dd",null,(0,i.zw)(t.data.customerFullName),1)]),(0,a._)("dl",null,[c,(0,a._)("dd",null,(0,i.zw)(t.data.nationalID),1)]),(0,a._)("dl",null,[l,(0,a._)("dd",null,(0,i.zw)(t.data.passportNumber),1)]),(0,a._)("dl",null,[h,(0,a._)("dd",null,(0,i.zw)(t.customerCorpIndTypeCode),1)]),(0,a._)("dl",null,[d,(0,a._)("dd",null,(0,i.zw)(t.data.customerStatusCode),1)]),(0,a._)("dl",null,[m,(0,a._)("dd",null,(0,i.zw)(t.data.branchName),1)]),(0,a._)("dl",null,[g,(0,a._)("dd",null,(0,i.zw)(t.data.nationality),1)]),(0,a._)("dl",p,[b,(0,a._)("dd",null,(0,i.zw)(t.dateOfBirth),1)]),(0,a._)("dl",f,[_,(0,a._)("dd",null,(0,i.zw)(t.data.customerAddress),1)])])])}var P=n(42615),w=(0,a.aZ)({name:"CustomerInformation",props:{data:{type:Object,required:!0}},data(){return{COMMON_KEY_VALUE:P.ii,branch:""}},computed:{customerCorpIndTypeCode(){return this.$codeConverter.convertValue("subscriptionCustomerType",this.data.customerType)},dateOfBirth(){let t="";return this.data.dateOfBirth&&(t=`${this.data.dateOfBirth.slice(0,4)}${this.data.dateOfBirth.slice(4,6)}${this.data.dateOfBirth.slice(6,8)}`),this.$datetime.formatStringToStringDate(t)}}}),I=n(83744);const y=(0,I.Z)(w,[["render",C]]);var N=y},21638:function(t,e,n){n.d(e,{Z:function(){return p}});var a=n(66252),i=n(3577);const r=t=>((0,a.dD)("data-v-3886d7e2"),t=t(),(0,a.Cn)(),t),s={class:"grid_footer"},u={key:0,class:"grid_option"},o={class:"list_count"},c=r((()=>(0,a._)("dd",null,[(0,a._)("span",null," item(s)")],-1))),l={key:1,class:"paginaton"};function h(t,e){const n=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",s,[t.showTotal?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",o,[(0,a._)("dl",null,[(0,a._)("dt",null,[(0,a._)("strong",null,(0,i.zw)(t.$util.addComma(t.totalCount,3)),1)]),c])])])):(0,a.kq)("",!0),t.perPage>0&&t.totalCount>0&&t.totalCount>t.perPage?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(n,{class:"btn_page_prev",onClick:t.backwardPagination,disabled:t.isDisabledPrev},{default:(0,a.w5)((()=>[(0,a.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.totalPagination,(e=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(n,{class:(0,i.C_)([t.currentPage==e?"on":""]),onClick:n=>t.onClickPagination(e),disabled:"..."===e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,a.Wm)(n,{class:"btn_page_next",onClick:t.forwardPagination,disabled:t.isDisabledNext},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,a.kq)("",!0)])}var d=(0,a.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(t){t&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(t){this.currentPage=t;const e=[];if(this.endPagination-this.currentPage>=this.maxPageShow){e.push(this.currentPage.toString());for(let n=0;n<this.maxPageShow-4;n++)e.push((t+n+1).toString());e.push("..."),e.push((this.endPagination-1).toString()),e.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let n=1;n<=this.endPagination;n++)e.push(n.toString());else for(let n=this.endPagination-this.maxPageShow+1;n<=this.endPagination;n++)e.push(n.toString());return this.totalPagination=e,t},dividePage(){const t=this.totalCount/this.perPage;if(t%1!=0){const e=t.toString().split(".");return(0,i.He)(e[0])+1}return(0,i.He)(t.toFixed())},onClickPagination(t){this.currentPage!=parseInt(t)&&(this.currentPage=parseInt(t),this.findPagination(parseInt(t)),this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let t=10==this.currentPage?9:10,e=this.currentPage-t;e<1?(e=1,await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let t=1==this.currentPage?9:10,e=this.currentPage+t;e>Number(this.totalPagination.slice(-1))?(e=Number(this.totalPagination.slice(-1)),await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),m=n(83744);const g=(0,m.Z)(d,[["render",h],["__scopeId","data-v-3886d7e2"]]);var p=g},37383:function(t,e,n){n.a(t,(async function(t,a){try{n.r(e);var i=n(63148),r=n(66175),s=(n(26620),n(83744)),u=t([r]);r=(u.then?(await u)():u)[0];const o=(0,s.Z)(r.Z,[["render",i.s],["__scopeId","data-v-082f5244"]]);e["default"]=o,a()}catch(o){a(o)}}))},55241:function(){},26620:function(){},44104:function(t,e,n){n.a(t,(async function(t,a){try{n.d(e,{Z:function(){return i.Z}});var i=n(28183),r=t([i]);i=(r.then?(await r)():r)[0],a()}catch(s){a(s)}}))},66175:function(t,e,n){n.a(t,(async function(t,a){try{n.d(e,{Z:function(){return i.Z}});var i=n(95847),r=t([i]);i=(r.then?(await r)():r)[0],a()}catch(s){a(s)}}))},55864:function(t,e,n){n.d(e,{s:function(){return s}});var a=n(66252),i=n(3577);const r={class:"bread_crumb"};function s(t,e){const n=(0,a.up)("ion-label");return(0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.breadcrumbs,((e,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[e.menuIconID&&0==r?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,i.C_)(["icon_menu",[e.menuIconID]])},null,2)):(0,a.kq)("",!0),""==e.route||"/"==e.route?((0,a.wg)(),(0,a.j4)(n,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.$t(`${e.menuName}`)),1)])),_:2},1024)):(0,a.kq)("",!0),""!=e.route&&"/"!=e.route?((0,a.wg)(),(0,a.j4)(n,{key:2,onClick:n=>t.pathDriver(e.route,t.queryData)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.$t(`${e.menuName}`)),1)])),_:2},1032,["onClick"])):(0,a.kq)("",!0)],64)))),128))])}},63148:function(t,e,n){n.d(e,{s:function(){return _}});var a=n(66252),i=n(3577);const r=t=>((0,a.dD)("data-v-082f5244"),t=t(),(0,a.Cn)(),t),s={class:"contentWrap"},u={class:"title_name"},o={class:"cont"},c={class:"gridwrap no_grid_option"},l={class:"tableWrap"},h={class:"table01 fixed"},d=r((()=>(0,a._)("colgroup",null,[(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"150px"}}),(0,a._)("col",{style:{width:"150px"}}),(0,a._)("col",{style:{width:"100px"}}),(0,a._)("col",{style:{width:"150px"}}),(0,a._)("col",{style:{width:"100px"}}),(0,a._)("col",{style:{width:"240px"}}),(0,a._)("col",{style:{width:"240px"}}),(0,a._)("col",{style:{width:"240px"}}),(0,a._)("col",{style:{width:"240px"}})],-1))),m={class:"sticky_head"},g={class:"tbody_section"},p=["id","onClick"],b={class:"footer_btn"},f={class:"left_side"};function _(t,e){const n=(0,a.up)("BreadCrumb"),r=(0,a.up)("CustomerInformation"),_=(0,a.up)("Pagination"),C=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(n,{staticScreenName:t.$t("cib202001sc00.ib_customer_inquiry")},null,8,["staticScreenName"]),(0,a._)("h1",u,(0,i.zw)(t.$t("cib202001sc00.ib_customer_inquiry")),1),(0,a._)("div",o,[(0,a.Wm)(r,{data:t.customerInfo},null,8,["data"]),(0,a._)("div",c,[(0,a._)("h3",null,(0,i.zw)(t.$t("cib202001sc00.change_history")),1),(0,a._)("div",l,[(0,a._)("table",h,[d,(0,a._)("thead",m,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.header,(t=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,i.zw)(t.columnName),1)])))),256))])]),(0,a._)("tbody",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.userList,((e,n)=>((0,a.wg)(),(0,a.iD)("tr",{id:`row-${t.startingIndex+n}`,onClick:e=>t.$util.rowFocus(`row-${t.startingIndex+n}`)},[(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(t.startingIndex+n),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.changeDate),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.changeTime),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.serviceID),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.changeTypeCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.handleBranchCode),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.handleBranchName),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.beforeChangeItemContent),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.afterChangeItemContent),1)]),(0,a._)("td",null,[(0,a._)("span",null,(0,i.zw)(e.transactionTellerID),1)])],8,p)))),256))])])]),(0,a.Wm)(_,{totalCount:t.totalItems,perPage:t.pageSize,onGetPageNumber:t.handlePagination,onGetStartingIndex:t.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","onGetStartingIndex"])])]),(0,a._)("div",b,[(0,a._)("div",f,[(0,a.Wm)(C,{class:"btn02",onClick:t.handleList},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,i.zw)(t.$t("common.list")),1)])),_:1},8,["onClick"])])])])}}}]);
//# sourceMappingURL=7383.2af48a24.js.map