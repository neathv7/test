"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[2083],{27300:function(e,t,a){a.a(e,(async function(e,n){try{var i=a(66252),s=a(42615),r=a(21638),l=a(90121),o=a(41762),d=a(67201),u=e([l]);l=(u.then?(await u)():u)[0],t["Z"]=(0,i.aZ)({name:"pfm203001sc00",components:{Pagination:r.Z,BreadCrumb:l.Z,VueDatePicker:o.Z,SelectOption:d.Z},data(){const e=[];return{dataTable:e,searchField:{productFeeCode:"",applyStartDate:"",applyEndDate:"",feeApplyStatusCode:""},totalItems:0,currentPage:1,pageSize:s.IV,startingIndex:1,resetPage:!1}},created(){this.inquiryFeeByAmounLIst(!1)},computed:{headers(){return[{columnName:"No."},{columnName:"View"},{columnName:"Fee Code"},{columnName:"Fee Currency Code"},{columnName:"Apply Seq No."},{columnName:"Fee Apply Status Code"},{columnName:"Apply Start Date"},{columnName:"Apply End Date"},{columnName:"Base Fee Rate %"},{columnName:"Base Fee Amount"},{columnName:"Fee Min Amount"},{columnName:"Fee Max Amount"},{columnName:"Range Start Amount"},{columnName:"Range End Amount"}]},formattedStartDate(){return this.searchField.applyStartDate?this.$datetime.formatVueDatePicker(this.searchField.applyStartDate):""},formattedEndDate(){return this.searchField.applyEndDate?this.$datetime.formatVueDatePicker(this.searchField.applyEndDate):""}},methods:{statusConverter(e){switch(e){case"01 : Registered":return"success";case"02 : Cancel":return"warning";case"03 : Normal":return"success";case"04 : Termination":return"fail";case"05 : Request Approval":return"info";default:return"info"}},async refreshSearch(){this.searchField.productFeeCode="",this.searchField.applyStartDate="",this.searchField.applyEndDate="",this.searchField.feeApplyStatusCode="",this.currentPage=1,this.resetPage=!0,this.inquiryFeeByAmounLIst(!1)},async inquiryFeeByAmounLIst(e){const t={productFeeCode:this.searchField.productFeeCode,feeApplyStatusCode:this.searchField.feeApplyStatusCode,applyStartDate:this.searchField.applyStartDate&&this.searchField.applyStartDate?this.$datetime.convertDateToString(this.searchField.applyStartDate):"",applyEndDate:this.searchField.applyEndDate&&this.searchField.applyEndDate?this.$datetime.convertDateToString(this.searchField.applyEndDate):"",pageSize:this.pageSize,pageNumber:e?0:this.currentPage};e&&(this.currentPage=1,this.resetPage=!0);const a=await this.$request.getRequest("PFM20300111",t,!1);a.header.result&&(this.dataTable=JSON.parse(JSON.stringify(this.convertCodeToValue(a.body.list))),this.totalItems=a.body.totalCount)},convertCodeToValue(e){return e.map((e=>({productFeeCode:e.productFeeCode,rangeStartAmount:this.$format.formatCurrency(e.rangeStartAmount,e.feeCurrencyCode),rangeEndAmount:this.$format.formatCurrency(e.rangeEndAmount,e.feeCurrencyCode),feeApplyStatusCode:`${e.feeApplyStatusCode} : ${this.$codeConverter.convertValue("FeeApplyStatusCode",e.feeApplyStatusCode)}`,applyStartDate:this.$datetime.formatStringToStringDate(e.applyStartDate),applyEndDate:this.$datetime.formatStringToStringDate(e.applyEndDate),applySeqNo:e.applySeqNo,baseFeeRate:e.baseFeeRate,baseFeeAmount:this.$format.formatCurrency(e.baseFeeAmount,e.feeCurrencyCode),feeMinAmount:this.$format.formatCurrency(e.feeMinAmount,e.feeCurrencyCode),feeMaxAmount:this.$format.formatCurrency(e.feeMaxAmount,e.feeCurrencyCode),minFeeRate:e.minFeeRate,maxFeeRate:e.maxFeeRate,feeCurrencyCode:e.feeCurrencyCode})))},handleRegister(){this.$router.push({path:"PFM203001SC01",query:{type:"register"}})},handleClickRow(e,t){this.$router.push({path:"PFM203001SC01",query:{type:"edit",productFeeCode:t?.productFeeCode,feeCurrencyCode:t?.feeCurrencyCode,rangeStartAmount:this.$format.unformatCurrency(t.rangeStartAmount),rangeEndAmount:this.$format.unformatCurrency(t.rangeEndAmount),applyStartDate:this.$datetime.unFormatStringToStringDate(String(t.applyStartDate)),applySeqNo:t.applySeqNo}})},handlePagination(e){this.resetPage=!1,this.currentPage=e,this.inquiryFeeByAmounLIst(!1)},handleStartingIndex(e){this.startingIndex=e}}}),n()}catch(c){n(c)}}))},21638:function(e,t,a){a.d(t,{Z:function(){return m}});var n=a(66252),i=a(3577);const s=e=>((0,n.dD)("data-v-3886d7e2"),e=e(),(0,n.Cn)(),e),r={class:"grid_footer"},l={key:0,class:"grid_option"},o={class:"list_count"},d=s((()=>(0,n._)("dd",null,[(0,n._)("span",null," item(s)")],-1))),u={key:1,class:"paginaton"};function c(e,t){const a=(0,n.up)("ion-button");return(0,n.wg)(),(0,n.iD)("div",r,[e.showTotal?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",o,[(0,n._)("dl",null,[(0,n._)("dt",null,[(0,n._)("strong",null,(0,i.zw)(e.$util.addComma(e.totalCount,3)),1)]),d])])])):(0,n.kq)("",!0),e.perPage>0&&e.totalCount>0&&e.totalCount>e.perPage?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(a,{class:"btn_page_prev",onClick:e.backwardPagination,disabled:e.isDisabledPrev},{default:(0,n.w5)((()=>[(0,n.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.totalPagination,(t=>((0,n.wg)(),(0,n.iD)("li",null,[(0,n.Wm)(a,{class:(0,i.C_)([e.currentPage==t?"on":""]),onClick:a=>e.onClickPagination(t),disabled:"..."===t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(t),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,n.Wm)(a,{class:"btn_page_next",onClick:e.forwardPagination,disabled:e.isDisabledNext},{default:(0,n.w5)((()=>[(0,n.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,n.kq)("",!0)])}var p=(0,n.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(e){e&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(e){this.currentPage=e;const t=[];if(this.endPagination-this.currentPage>=this.maxPageShow){t.push(this.currentPage.toString());for(let a=0;a<this.maxPageShow-4;a++)t.push((e+a+1).toString());t.push("..."),t.push((this.endPagination-1).toString()),t.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let a=1;a<=this.endPagination;a++)t.push(a.toString());else for(let a=this.endPagination-this.maxPageShow+1;a<=this.endPagination;a++)t.push(a.toString());return this.totalPagination=t,e},dividePage(){const e=this.totalCount/this.perPage;if(e%1!=0){const t=e.toString().split(".");return(0,i.He)(t[0])+1}return(0,i.He)(e.toFixed())},onClickPagination(e){this.currentPage!=parseInt(e)&&(this.currentPage=parseInt(e),this.findPagination(parseInt(e)),this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let e=10==this.currentPage?9:10,t=this.currentPage-e;t<1?(t=1,await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let e=1==this.currentPage?9:10,t=this.currentPage+e;t>Number(this.totalPagination.slice(-1))?(t=Number(this.totalPagination.slice(-1)),await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),h=a(83744);const g=(0,h.Z)(p,[["render",c],["__scopeId","data-v-3886d7e2"]]);var m=g},87966:function(e,t,a){a.a(e,(async function(e,n){try{a.r(t);var i=a(84330),s=a(893),r=(a(94552),a(83744)),l=e([s]);s=(l.then?(await l)():l)[0];const o=(0,r.Z)(s.Z,[["render",i.s],["__scopeId","data-v-496ec138"]]);t["default"]=o,n()}catch(o){n(o)}}))},94552:function(){},893:function(e,t,a){a.a(e,(async function(e,n){try{a.d(t,{Z:function(){return i.Z}});var i=a(27300),s=e([i]);i=(s.then?(await s)():s)[0],n()}catch(r){n(r)}}))},84330:function(e,t,a){a.d(t,{s:function(){return K}});var n=a(66252),i=a(3577),s=a(49963);const r=e=>((0,n.dD)("data-v-496ec138"),e=e(),(0,n.Cn)(),e),l={class:"contentWrap"},o={class:"title_name"},d={class:"cont"},u={class:"row gap"},c={class:"col-4"},p={class:"form01"},h={class:"inp_box search"},g={class:"inp"},m={class:"col-4"},_={class:"form01"},y={class:"col-4"},f={class:"form01"},P={class:"inp_box type_datetime"},C={class:"inp"},w={class:"col-4"},S={class:"form01"},b={class:"inp_box type_datetime"},F={class:"inp"},x={class:"col-14"},D={class:"footer_btn"},v={class:"right_side"},$={class:"gridwrap"},A={class:"grid_option"},N={class:"option"},k={class:"add_sm"},z={class:"tableWrap"},I={class:"table01 fixed"},q=r((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col")],-1))),E={class:"sticky_head"},V={class:"tbody_section"},W=["id","onClick"],R={class:"txt_right"},B={class:"txt_right"},M={class:"txt_right"},T={class:"txt_right"},Z={class:"txt_right"},U={class:"txt_right"},O={class:"txt_right"},L={key:0,class:"no_data"},H=r((()=>(0,n._)("p",null,"No Data",-1))),G=[H];function K(e,t){const a=(0,n.up)("BreadCrumb"),r=(0,n.up)("ion-input"),H=(0,n.up)("SelectOption"),K=(0,n.up)("ion-button"),Y=(0,n.up)("VueDatePicker"),J=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(a),(0,n._)("h1",o,(0,i.zw)(e.$t("pfm203001sc00.label.fee_by_amount_list")),1),(0,n._)("div",d,[(0,n._)("div",u,[(0,n._)("div",c,[(0,n._)("dl",p,[(0,n._)("dt",null,(0,i.zw)(e.$t("pfm203001sc00.label.fee_code")),1),(0,n._)("dd",null,[(0,n._)("div",h,[(0,n._)("div",g,[(0,n.Wm)(r,{class:"",onKeyup:t[0]||(t[0]=(0,s.D2)((t=>e.inquiryFeeByAmounLIst("search")),["enter"])),type:"text",placeholder:"Fee Code",modelValue:e.searchField.productFeeCode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchField.productFeeCode=t)},null,8,["modelValue"])])])])])]),(0,n._)("div",m,[(0,n._)("dl",_,[(0,n._)("dt",null,(0,i.zw)(e.$t("Fee Apply Status Code")),1),(0,n._)("dd",null,[(0,n.Wm)(H,{data:e.$store.state.CommonCodeModule.commonCode.FeeApplyStatusCode,modelValue:e.searchField.feeApplyStatusCode,"onUpdate:modelValue":t[2]||(t[2]=t=>e.searchField.feeApplyStatusCode=t),showOptionAll:!0},null,8,["data","modelValue"])])])]),(0,n._)("div",y,[(0,n._)("dl",f,[(0,n._)("dt",null,(0,i.zw)(e.$t("pfm203001sc00.label.apply_start_date")),1),(0,n._)("dd",null,[(0,n.Wm)(Y,{placeholder:e.$t("pfm204001sc01.enter_date"),modelValue:e.searchField.applyStartDate,"onUpdate:modelValue":t[3]||(t[3]=t=>e.searchField.applyStartDate=t),"enable-time-picker":!1,type:"date","max-date":e.searchField.applyEndDate,"auto-apply":""},{trigger:(0,n.w5)((()=>[(0,n._)("div",P,[(0,n._)("div",C,[(0,n.Wm)(r,{class:"",value:e.formattedStartDate},null,8,["value"]),(0,n.Wm)(K,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar ")])),_:1})])])])),_:1},8,["placeholder","modelValue","max-date"])])])]),(0,n._)("div",w,[(0,n._)("dl",S,[(0,n._)("dt",null,(0,i.zw)(e.$t("pfm203001sc00.label.apply_end_date")),1),(0,n._)("dd",null,[(0,n.Wm)(Y,{placeholder:e.$t("pfm204001sc01.enter_date"),modelValue:e.searchField.applyEndDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.searchField.applyEndDate=t),"enable-time-picker":!1,type:"date","min-date":e.searchField.applyStartDate,"auto-apply":""},{trigger:(0,n.w5)((()=>[(0,n._)("div",b,[(0,n._)("div",F,[(0,n.Wm)(r,{class:"",value:e.formattedEndDate},null,8,["value"]),(0,n.Wm)(K,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar ")])),_:1})])])])),_:1},8,["placeholder","modelValue","min-date"])])])])]),(0,n._)("div",x,[(0,n._)("div",D,[(0,n._)("div",v,[(0,n.Wm)(K,{class:"btn01",onClick:t[5]||(t[5]=t=>e.inquiryFeeByAmounLIst("search"))},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,i.zw)(e.$t("common.search")),1)])),_:1}),(0,n.Wm)(K,{class:"btn_refresh",onClick:t[6]||(t[6]=t=>e.refreshSearch())})])])]),(0,n._)("div",$,[(0,n._)("div",A,[(0,n._)("div",N,[(0,n.Wm)(K,{onClick:e.handleRegister,class:"btn02 btn_ico btn_sm"},{default:(0,n.w5)((()=>[(0,n._)("span",k,(0,i.zw)(e.$t("common.register")),1)])),_:1},8,["onClick"])])]),(0,n._)("div",z,[(0,n._)("table",I,[q,(0,n._)("thead",E,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.headers,(e=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,i.zw)(e.columnName),1)])))),256))])]),(0,n._)("tbody",V,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.dataTable,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{id:`row-${e.startingIndex+a}`,onClick:t=>e.$util.rowFocus(`row-${e.startingIndex+a}`)},[(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.startingIndex+a),1)]),(0,n._)("td",null,[(0,n.Wm)(K,{class:"btn_view",onClick:n=>e.handleClickRow(a+1,t)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("pfm203001sc00.column.view")),1)])),_:2},1032,["onClick"])]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.productFeeCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.feeCurrencyCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.applySeqNo),1)]),(0,n._)("td",R,[(0,n._)("span",null,(0,i.zw)(t.feeApplyStatusCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.applyStartDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.applyEndDate),1)]),(0,n._)("td",B,[(0,n._)("span",null,(0,i.zw)(t.baseFeeRate),1)]),(0,n._)("td",M,[(0,n._)("span",null,(0,i.zw)(t.baseFeeAmount),1)]),(0,n._)("td",T,[(0,n._)("span",null,(0,i.zw)(t.feeMinAmount),1)]),(0,n._)("td",Z,[(0,n._)("span",null,(0,i.zw)(t.feeMaxAmount),1)]),(0,n._)("td",U,[(0,n._)("span",null,(0,i.zw)(t.rangeStartAmount),1)]),(0,n._)("td",O,[(0,n._)("span",null,(0,i.zw)(t.rangeEndAmount),1)])],8,W)))),256))])]),0===e.totalItems?((0,n.wg)(),(0,n.iD)("div",L,G)):(0,n.kq)("",!0)]),(0,n.Wm)(J,{totalCount:e.totalItems,perPage:e.pageSize,resetPage:e.resetPage,onGetPageNumber:e.handlePagination,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","resetPage","onGetPageNumber","onGetStartingIndex"])])])])}}}]);
//# sourceMappingURL=2083.e2938977.js.map