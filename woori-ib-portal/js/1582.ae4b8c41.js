"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[1582],{16503:function(t,e,i){i.a(t,(async function(t,a){try{var n=i(66252),o=i(42615),s=i(21638),r=i(90121),u=i(67201),l=t([r]);r=(l.then?(await l)():l)[0],e["Z"]=(0,n.aZ)({name:"apm201002sc00",components:{Pagination:s.Z,BreadCrumb:r.Z,SelectOption:u.Z},data(){const t=[];return{dataTable:t,searchField:{authorizationBizTypeCode1:"",businessCommonStatusCode:""},totalItems:0,currentPage:1,pageSize:o.IV,startingIndex:1,resetPage:!1}},created(){this.inquiryAuthorizationLine()},computed:{headers(){return[{columnName:"No."},{columnName:"View"},{columnName:"Authorization Code 1"},{columnName:"Authorization Code 2"},{columnName:"Authorization Steps"},{columnName:"Authorization Line"},{columnName:"Status"}]}},methods:{async inquiryAuthorizationLine(t){const e={authorizationBizTypeCode1:this.searchField.authorizationBizTypeCode1,businessCommonStatusCode:this.searchField.businessCommonStatusCode,pageSize:this.pageSize,pageNumber:"search"==t?0:this.currentPage};"search"===t&&(this.currentPage=1,this.resetPage=!0);const i=await this.$request.getRequest("APM20100211",e,!1);i.header.result&&(this.dataTable=JSON.parse(JSON.stringify(this.convertCodeToValue(i.body.list))),this.dataTable.map((t=>{let e=this.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode.find((e=>e.key===t.authorizationBizTypeCode1));return e.key&&(t.authorizationBizTypeCode1Name=e.value),t})),this.totalItems=i.body.totalCount)},convertCodeToValue(t){return t.map((t=>({authorizationBizTypeCode1:t.authorizationBizTypeCode1,authorizationBizTypeCode1Name:t.authorizationBizTypeCode1Name,authorizationBizTypeCode2:t.authorizationBizTypeCode2,authorizationAuthorityTypeCode:t.authorizationAuthorityTypeCode,authorizationLine:t.authorizationLine,authorizationSteps:String(t.authorizationSteps),managerApprovalDescription:t.managerApprovalDescription,businessCommonStatusCode:`${t.businessCommonStatusCode} : ${this.$codeConverter.convertValue("BusinessCommonStatusCode",t.businessCommonStatusCode)}`})))},handleRefresh(){this.searchField.authorizationBizTypeCode1="",this.searchField.businessCommonStatusCode="",this.resetPage=!0,this.currentPage=1,this.inquiryAuthorizationLine()},handleClickAction(t,e,i){"register"===t?this.$router.push({path:"APM201002SC01",query:{type:"register"}}):"detail"===t&&this.$router.push({path:"APM201002SC01",query:{type:"edit",authorizationBizTypeCode1:i.authorizationBizTypeCode1,authorizationBizTypeCode1Name:i.authorizationBizTypeCode1Name,authorizationBizTypeCode2:i.authorizationBizTypeCode2,authorizationAuthorityTypeCode:i.authorizationAuthorityTypeCode}})},handlePagination(t){this.currentPage=t,this.resetPage=!1,this.inquiryAuthorizationLine()},handleStartingIndex(t){this.startingIndex=t}}}),a()}catch(d){a(d)}}))},21638:function(t,e,i){i.d(e,{Z:function(){return p}});var a=i(66252),n=i(3577);const o=t=>((0,a.dD)("data-v-3886d7e2"),t=t(),(0,a.Cn)(),t),s={class:"grid_footer"},r={key:0,class:"grid_option"},u={class:"list_count"},l=o((()=>(0,a._)("dd",null,[(0,a._)("span",null," item(s)")],-1))),d={key:1,class:"paginaton"};function h(t,e){const i=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",s,[t.showTotal?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",u,[(0,a._)("dl",null,[(0,a._)("dt",null,[(0,a._)("strong",null,(0,n.zw)(t.$util.addComma(t.totalCount,3)),1)]),l])])])):(0,a.kq)("",!0),t.perPage>0&&t.totalCount>0&&t.totalCount>t.perPage?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(i,{class:"btn_page_prev",onClick:t.backwardPagination,disabled:t.isDisabledPrev},{default:(0,a.w5)((()=>[(0,a.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.totalPagination,(e=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(i,{class:(0,n.C_)([t.currentPage==e?"on":""]),onClick:i=>t.onClickPagination(e),disabled:"..."===e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,a.Wm)(i,{class:"btn_page_next",onClick:t.forwardPagination,disabled:t.isDisabledNext},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,a.kq)("",!0)])}var c=(0,a.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(t){t&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(t){this.currentPage=t;const e=[];if(this.endPagination-this.currentPage>=this.maxPageShow){e.push(this.currentPage.toString());for(let i=0;i<this.maxPageShow-4;i++)e.push((t+i+1).toString());e.push("..."),e.push((this.endPagination-1).toString()),e.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let i=1;i<=this.endPagination;i++)e.push(i.toString());else for(let i=this.endPagination-this.maxPageShow+1;i<=this.endPagination;i++)e.push(i.toString());return this.totalPagination=e,t},dividePage(){const t=this.totalCount/this.perPage;if(t%1!=0){const e=t.toString().split(".");return(0,n.He)(e[0])+1}return(0,n.He)(t.toFixed())},onClickPagination(t){this.currentPage!=parseInt(t)&&(this.currentPage=parseInt(t),this.findPagination(parseInt(t)),this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let t=10==this.currentPage?9:10,e=this.currentPage-t;e<1?(e=1,await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let t=1==this.currentPage?9:10,e=this.currentPage+t;e>Number(this.totalPagination.slice(-1))?(e=Number(this.totalPagination.slice(-1)),await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),g=i(83744);const m=(0,g.Z)(c,[["render",h],["__scopeId","data-v-3886d7e2"]]);var p=m},23047:function(t,e,i){i.a(t,(async function(t,a){try{i.r(e);var n=i(42671),o=i(47730),s=(i(74964),i(83744)),r=t([o]);o=(r.then?(await r)():r)[0];const u=(0,s.Z)(o.Z,[["render",n.s],["__scopeId","data-v-58f388b4"]]);e["default"]=u,a()}catch(u){a(u)}}))},74964:function(){},47730:function(t,e,i){i.a(t,(async function(t,a){try{i.d(e,{Z:function(){return n.Z}});var n=i(16503),o=t([n]);n=(o.then?(await o)():o)[0],a()}catch(s){a(s)}}))},42671:function(t,e,i){i.d(e,{s:function(){return I}});var a=i(66252),n=i(3577);const o=t=>((0,a.dD)("data-v-58f388b4"),t=t(),(0,a.Cn)(),t),s={class:"contentWrap"},r={class:"title_name"},u={class:"cont"},l={class:"row gap"},d={class:"col-6"},h={class:"form01"},c={class:"col-6"},g={class:"form01"},m={class:"footer_btn"},p={class:"right_side"},P={class:"gridwrap"},C={class:"grid_option"},_={class:"option"},z={class:"add_sm"},b={class:"tableWrap"},y={class:"table01 fixed"},w=o((()=>(0,a._)("colgroup",null,[(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col",{style:{width:"80px"}}),(0,a._)("col"),(0,a._)("col",{style:{width:"80px"}})],-1))),f={class:"sticky_head"},v={class:"tbody_section"},S=["id","onClick"],x={class:"txt_left description"},k={class:"txt_left description"},N={class:""},T={class:"txt_left description"},$={class:""},B={key:0,class:"no_data"},A=o((()=>(0,a._)("p",null,"No Data",-1))),D=[A];function I(t,e){const i=(0,a.up)("BreadCrumb"),o=(0,a.up)("SelectOption"),A=(0,a.up)("ion-button"),I=(0,a.up)("Pagination");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(i,{items:t.breadcrumbs},null,8,["items"]),(0,a._)("h1",r,(0,n.zw)(t.$t("apm201002sc01.label.portal_authorization_line_setting_list")),1),(0,a._)("div",u,[(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("dl",h,[(0,a._)("dt",null,(0,n.zw)(t.$t("apm201002sc00.label.authorization_code_1")),1),(0,a._)("dd",null,[(0,a.Wm)(o,{data:t.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode,modelValue:t.searchField.authorizationBizTypeCode1,"onUpdate:modelValue":e[0]||(e[0]=e=>t.searchField.authorizationBizTypeCode1=e),isDisabled:!1,showKey:!0,showOptionAll:!0},null,8,["data","modelValue"])])])]),(0,a._)("div",c,[(0,a._)("dl",g,[(0,a._)("dt",null,(0,n.zw)(t.$t("common.status")),1),(0,a._)("dd",null,[(0,a.Wm)(o,{data:t.$store.state.CommonCodeModule.commonCode.BusinessCommonStatusCode,modelValue:t.searchField.businessCommonStatusCode,"onUpdate:modelValue":e[1]||(e[1]=e=>t.searchField.businessCommonStatusCode=e),isDisabled:!1,showOptionAll:!0},null,8,["data","modelValue"])])])])]),(0,a._)("div",m,[(0,a._)("div",p,[(0,a.Wm)(A,{class:"btn01",onClick:e[2]||(e[2]=e=>t.inquiryAuthorizationLine("search"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,n.zw)(t.$t("common.search")),1)])),_:1}),(0,a.Wm)(A,{class:"btn_refresh",onClick:t.handleRefresh},null,8,["onClick"])])]),(0,a._)("div",P,[(0,a._)("div",C,[(0,a._)("div",_,[(0,a.Wm)(A,{class:"btn02 btn_sm btn_ico",onClick:e[3]||(e[3]=e=>t.handleClickAction("register"))},{default:(0,a.w5)((()=>[(0,a._)("span",z,(0,n.zw)(t.$t("common.register")),1)])),_:1})])]),(0,a._)("div",b,[(0,a._)("table",y,[w,(0,a._)("thead",f,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.headers,(t=>((0,a.wg)(),(0,a.iD)("th",null,[(0,a._)("span",null,(0,n.zw)(t.columnName),1)])))),256))])]),(0,a._)("tbody",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.dataTable,((e,i)=>((0,a.wg)(),(0,a.iD)("tr",{id:`row-${t.startingIndex+i}`,onClick:e=>t.$util.rowFocus(`row-${t.startingIndex+i}`)},[(0,a._)("td",null,[(0,a._)("span",null,(0,n.zw)(t.startingIndex+i),1)]),(0,a._)("td",null,[(0,a.Wm)(A,{class:"btn_view",onClick:a=>t.handleClickAction("detail",i,e)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.$t("apm201002sc00.column.view")),1)])),_:2},1032,["onClick"])]),(0,a._)("td",x,[(0,a._)("span",null,(0,n.zw)(e.authorizationBizTypeCode1)+" : "+(0,n.zw)(e.authorizationBizTypeCode1Name),1)]),(0,a._)("td",k,[(0,a._)("span",null,(0,n.zw)(e.authorizationBizTypeCode2)+" : "+(0,n.zw)(e.managerApprovalDescription),1)]),(0,a._)("td",N,[(0,a._)("span",null,(0,n.zw)(e.authorizationSteps),1)]),(0,a._)("td",T,[(0,a._)("span",null,(0,n.zw)(e.authorizationLine),1)]),(0,a._)("td",$,[(0,a._)("span",null,(0,n.zw)(e.businessCommonStatusCode),1)])],8,S)))),256))])]),0===t.totalItems?((0,a.wg)(),(0,a.iD)("div",B,D)):(0,a.kq)("",!0)]),(0,a.Wm)(I,{totalCount:t.totalItems,perPage:t.pageSize,resetPage:t.resetPage,onGetPageNumber:t.handlePagination,onGetStartingIndex:t.handleStartingIndex},null,8,["totalCount","perPage","resetPage","onGetPageNumber","onGetStartingIndex"])])])])}}}]);
//# sourceMappingURL=1582.ae4b8c41.js.map