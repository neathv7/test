"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[8072],{68072:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(66252),o=a(3577);const i=e=>((0,n.dD)("data-v-76896345"),e=e(),(0,n.Cn)(),e),r={class:"row"},l={class:"col"},s={class:"form01"},u={class:"inp_box type_datetime"},c={class:"inp"},d={class:"dp__action_buttons"},p=["onClick"],m=["onClick"],h={class:"footer_btn"},_={class:"right_side"},g={class:"gridwrap"},D={class:"grid_option"},y={class:"option"},z={class:"tableWrap"},f={class:"table01 fixed"},N=i((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}})],-1))),w={class:"sticky_head"},b={class:"tbody_section"},R={key:0,class:"no_data"};function v(e,t){const a=(0,n.up)("ion-input"),i=(0,n.up)("ion-button"),v=(0,n.up)("VueDatePicker"),C=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",r,[(0,n._)("div",l,[(0,n._)("dl",s,[(0,n._)("dt",null,(0,o.zw)(e.$t("rpt202001ss07.open_fix_deposit_report")),1),(0,n._)("dd",null,[(0,n.Wm)(v,{placeholder:e.$t("rpt202001ss07.enter_date"),modelValue:e.searchValueBy.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchValueBy.date=t),"enable-time-picker":!1,type:"date"},{trigger:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n._)("div",c,[(0,n.Wm)(a,{class:"",value:e.formattedDate},null,8,["value"]),(0,n.Wm)(i,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar")])),_:1})])])])),"action-row":(0,n.w5)((({closePicker:t,selectDate:a})=>[(0,n._)("div",d,[(0,n._)("button",{type:"button",class:"btn_refresh",onClick:t},(0,o.zw)(e.$t("common.cancel")),9,p),(0,n._)("button",{type:"button",class:"",onClick:a},(0,o.zw)(e.$t("common.select")),9,m)])])),_:1},8,["placeholder","modelValue"])])])])]),(0,n._)("div",h,[(0,n._)("div",_,[(0,n.Wm)(i,{onClick:t[1]||(t[1]=t=>e.handleSearch()),class:"btn01"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,o.zw)(e.$t("common.search")),1)])),_:1}),(0,n.Wm)(i,{onClick:t[2]||(t[2]=t=>e.handleReset()),class:"btn_refresh"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,o.zw)(e.$t("common.refresh")),1)])),_:1})])]),(0,n._)("div",g,[(0,n._)("div",D,[(0,n._)("div",y,[(0,n.Wm)(i,{class:"btn01 btn_ico btn_sm",onClick:e.exportToExcel},{default:(0,n.w5)((()=>[(0,n.Uk)("Download Excel")])),_:1},8,["onClick"])])]),(0,n._)("div",z,[(0,n._)("table",f,[N,(0,n._)("thead",w,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.header,(e=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,o.zw)(e.columnName),1)])))),256))])]),(0,n._)("tbody",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.openFixDepositReportData,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,[(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(e.startingIndex+a),1)])]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.referenceNo),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.bizCid),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.bizName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.accountNumber),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.fixDepositType),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.condition),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.principleAmount),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.currency),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.tenor),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.maturityDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.interestRate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.payoutAccount),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.remark),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.fdAccountStatus),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.authorizationStatuscode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.createBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.createDate),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.authorizationBy),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,o.zw)(t.authorizationDate),1)])])))),256))])]),0===e.totalItems?((0,n.wg)(),(0,n.iD)("div",R,[(0,n._)("p",null,(0,o.zw)(e.$t("common.no_data")),1)])):(0,n.kq)("",!0)]),(0,n.Wm)(C,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,resetPage:e.isResetPage,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])],64)}var C=a(42615),k=a(21638),S=a(41762),$=a(11076);const x=new $.l;var T=(0,n.aZ)({components:{Pagination:k.Z,VueDatePicker:S.Z},data(){return{openFixDepositReportData:[],COMMON_KEY_VALUE:C.ii,header:[{columnName:"No"},{columnName:"Reference No"},{columnName:"Biz CID"},{columnName:"Biz Name"},{columnName:"Account Number "},{columnName:"Fix Deposit Type"},{columnName:"Condition"},{columnName:"Principle Amount"},{columnName:"Currency"},{columnName:"Tenor "},{columnName:"Maturity Date"},{columnName:"Interest Rate"},{columnName:"Payout Account"},{columnName:"Remark"},{columnName:"FD Account Status"},{columnName:"Authorization Status code"},{columnName:"Create By"},{columnName:"Create Date "},{columnName:"Authorization By"},{columnName:"Authorization Date"}],totalItems:0,pageSize:C.IV,currentPage:1,startingIndex:1,isResetPage:!1,searchValueBy:{date:""}}},mounted(){this.getOpenFixDepositReportData()},computed:{formattedDate(){return this.searchValueBy.date?this.$datetime.formatVueDatePicker(this.searchValueBy.date):""}},methods:{async getOpenFixDepositReportData(){const e={pageNumber:this.currentPage,pageSize:C.IV,approvalRequestDate:this.searchValueBy.date?this.$datetime.convertDateToString(this.searchValueBy.date):""},t=await this.$request.getRequest("RPT20500111",e,!1);t.header.result&&(this.openFixDepositReportData=this.onMappingTableData(t.body.list),this.totalItems=t.body.totalCount)},async exportToExcel(){const e=["referenceNo","accountNumber","bizCid","bizName","fixDepositType","condition","principleAmount","currency","tenor","maturityDate","interestRate","payoutAccount","remark","fdAccountStatus","authorizationStatuscode","createBy","createDate","authorizationBy","authorizationDate"],t={approvalRequestDate:this.searchValueBy.date?this.$datetime.convertDateToString(this.searchValueBy.date):"",pageSize:this.totalItems,pageNumber:0},a=await this.$request.getRequest("RPT20500111",t,!1),n=this.onMappingTableData(a.body.list),o={data:n,columnHeader:[e],sheetName:"Open Fix Deposit Report"};x.exportSheet([o],"Open Fix Deposit Report")},onMappingTableData(e){const{CorpBankingApprovalStatusCode:t,DepositRolloverDivideCode:a}=this.$store.state.CommonCodeModule.commonCode;return e.map((e=>({referenceNo:e.serverTransactionID,accountNumber:e.accountNo,bizCid:e.customerNo,bizName:e.customerName,fixDepositType:Number(e.contractMonths)<=6?"Short Term":"Long Term",condition:a&&e.depositRolloverDivideCode?`${a.find((t=>t.key==e.depositRolloverDivideCode))?.key}: ${a.find((t=>t.key===e.depositRolloverDivideCode))?.value}`:"",principleAmount:this.$format.formatCurrency(Number(e.termDepositAmount),e.currencyCode),currency:e.currencyCode,tenor:e.contractMonths,maturityDate:e.maturityDate?this.$datetime.formatStringToStringDate(e.maturityDate):"",interestRate:e.applyInterestRate,payoutAccount:e.sourceOfFundAccountNo,remark:e.remark,fdAccountStatus:e.fDAccountStatus,authorizationStatuscode:t&&e.corpBankingApprovalStatusCode?`${t.find((t=>t.key==e.corpBankingApprovalStatusCode))?.key}: ${t.find((t=>t.key===e.corpBankingApprovalStatusCode))?.value}`:"",createBy:`${e.firstRegisterTellerID?`(${e.firstRegisterTellerID})`:""} ${e.firstRegisterTellerName?e.firstRegisterTellerName:""}`,createDate:`${e.firstRegisterDate?this.$datetime.formatStringToStringDate(e.firstRegisterDate):""} ${e.firstRegisterTime?this.$datetime.formatStringToTime(e.firstRegisterTime):""}`,authorizationBy:`${e.approverID?`(${e.approverID})`:""} ${e.approverName?e.approverName:""}`,authorizationDate:`${e.authorizationDate?this.$datetime.formatStringToStringDate(e.authorizationDate):""} ${e.authorizationTime?this.$datetime.formatStringToTime(e.authorizationTime):""}`})))},handlePagination(e){this.isResetPage=!1,this.currentPage=e,this.getOpenFixDepositReportData()},handleStartingIndex(e){this.startingIndex=e},handleSearch(){this.currentPage>1?(this.currentPage=1,this.isResetPage=!0,this.getOpenFixDepositReportData()):(this.isResetPage=!0,this.getOpenFixDepositReportData())},handleReset(){this.searchValueBy.date="",this.currentPage=1,this.isResetPage=!0,this.getOpenFixDepositReportData()}}}),P=a(83744);const B=(0,P.Z)(T,[["render",v],["__scopeId","data-v-76896345"]]);var A=B}}]);
//# sourceMappingURL=8072.ebb894e2.js.map