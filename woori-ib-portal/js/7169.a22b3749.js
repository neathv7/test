"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[7169],{27169:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var n=a(66252),l=a(3577);const s=e=>((0,n.dD)("data-v-310f4ee3"),e=e(),(0,n.Cn)(),e),i={class:"row"},o={class:"col"},r={class:"form01"},c={class:"inp_box type_datetime"},u={class:"inp"},d={class:"dp__action_buttons"},m=["onClick"],g=["onClick"],p={class:"footer_btn"},_={class:"right_side"},h={class:"gridwrap"},b={class:"grid_option"},D={class:"option"},w={class:"tableWrap"},N={class:"table01 fixed"},v=s((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}})],-1))),f={class:"sticky_head"},P={class:"tbody_section"},y=["id","onClick"],z={class:"txt_left description"},R={key:0,class:"no_data"},C=s((()=>(0,n._)("p",null,"No Data",-1))),k=[C];function I(e,t){const a=(0,n.up)("ion-input"),s=(0,n.up)("ion-button"),C=(0,n.up)("VueDatePicker"),I=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[(0,n._)("div",o,[(0,n._)("dl",r,[(0,n._)("dt",null,(0,l.zw)(e.$t("rpt202001ss14.label.title")),1),(0,n._)("dd",null,[(0,n.Wm)(C,{placeholder:e.$t("rpt202001ss14.label.enter_date"),modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date=t),"enable-time-picker":!1,type:"date"},{trigger:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n._)("div",u,[(0,n.Wm)(a,{class:"",value:e.formattedDate},null,8,["value"]),(0,n.Wm)(s,{class:"btn_date"},{default:(0,n.w5)((()=>[(0,n.Uk)("Calendar")])),_:1})])])])),"action-row":(0,n.w5)((({closePicker:t,selectDate:a})=>[(0,n._)("div",d,[(0,n._)("button",{type:"button",class:"btn_refresh",onClick:t},(0,l.zw)(e.$t("rpt202001ss14.label.cancel")),9,m),(0,n._)("button",{type:"button",class:"",onClick:a},(0,l.zw)(e.$t("rpt202001ss14.label.select")),9,g)])])),_:1},8,["placeholder","modelValue"])])])])]),(0,n._)("div",p,[(0,n._)("div",_,[(0,n.Wm)(s,{onClick:t[1]||(t[1]=t=>e.getIbActivityLogRecordForCustomerDetail("search")),class:"btn01"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.zw)(e.$t("rpt202001ss14.label.search")),1)])),_:1}),(0,n.Wm)(s,{onClick:t[2]||(t[2]=t=>e.handleReset()),class:"btn_refresh"},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.zw)(e.$t("rpt202001ss14.label.refresh")),1)])),_:1})])]),(0,n._)("div",h,[(0,n._)("div",b,[(0,n._)("div",D,[(0,n.Wm)(s,{class:"btn01 btn_ico btn_sm",onClick:e.exportToExcel},{default:(0,n.w5)((()=>[(0,n.Uk)("Download Excel")])),_:1},8,["onClick"])])]),(0,n._)("div",w,[(0,n._)("table",N,[v,(0,n._)("thead",f,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.header,(e=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,l.zw)(e.columnName),1)])))),256))])]),(0,n._)("tbody",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.table,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{id:`row-${e.startingIndex+a}`,onClick:t=>e.$util.rowFocus(`row-${e.startingIndex+a}`)},[(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.startingIndex+a),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.referenceNo),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.customerNo),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.customerName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.username),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.userRole),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.$format.formatPhoneNumber(t.cellPhoneNo)),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.email),1)]),(0,n._)("td",z,[(0,n._)("span",null,(0,l.zw)(t.activityLogType),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.accessDevice),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(t.channel),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.$datetime.formatStringToStringDate(t.firstRegisterDate)),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,l.zw)(e.$datetime.formatStringToStringDate(t.lastChangeDate)),1)])],8,y)))),256))])]),0===e.table.length?((0,n.wg)(),(0,n.iD)("div",R,k)):(0,n.kq)("",!0)]),(0,n.Wm)(I,{totalCount:e.totalItems,perPage:e.pageSize,onGetPageNumber:e.handlePagination,resetPage:e.isResetPage,onGetStartingIndex:e.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])],64)}var S=a(21638),$=a(41762),x=a(42615),L=a(11076);const T=new L.l;var A=(0,n.aZ)({name:"rpt202001ss14",components:{Pagination:S.Z,VueDatePicker:$.Z},data(){return{date:"",header:[{columnName:"No."},{columnName:"Reference No."},{columnName:"Biz CID"},{columnName:"Biz Name"},{columnName:"User Name"},{columnName:"User Role"},{columnName:"Phone Number"},{columnName:"Email ID"},{columnName:"Activity log type"},{columnName:"Access Device"},{columnName:"Channel"},{columnName:"First Login"},{columnName:"Last Login"}],table:[],totalItems:0,currentPage:1,pageSize:x.IV,startingIndex:1,isResetPage:!1}},computed:{formattedDate(){return this.date?this.$datetime.formatVueDatePicker(this.date):""}},mounted(){this.getIbActivityLogRecordForCustomerDetail(!1)},methods:{async getIbActivityLogRecordForCustomerDetail(e){const t={applicationDate:this.date?this.$datetime.convertDateToString(this.date):"",pageSize:this.pageSize,pageNumber:e?0:this.currentPage};e&&(this.currentPage=1,this.isResetPage=!0);const a=await this.$request.getRequest("RPT20400211",t,!1);this.table=this.onMappingTableData(a.body.list),this.totalItems=a.body.totalCount},async exportToExcel(){const e=["Reference No","Biz CID","Biz Name","User Name","User Role","Phone Number","Email ID","Activity log type","Access Device","Channel","First Login","Last Login"],t={applicationDate:this.date?this.$datetime.convertDateToString(this.date):"",pageSize:this.totalItems,pageNumber:0},a=await this.$request.getRequest("RPT20400211",t,!1),n=this.onMappingTableData(a.body.list),l={data:n,columnHeader:[e],sheetName:"Activity Log Record Report"};T.exportSheet([l],"Activity Log Record Report")},onMappingTableData(e){return e.map((e=>({referenceNo:e.referenceNo,customerNo:e.customerNo,customerName:e.customerName,username:e.username,userRole:e.userRole,cellPhoneNo:this.$format.formatPhoneNumber(e.cellPhoneNo),email:e.email,activityLogType:e.activityLogType,accessDevice:e.accessDevice,channel:e.channel,firstRegisterDate:this.$datetime.formatStringToStringDate(e.firstRegisterDate),lastChangeDate:this.$datetime.formatStringToStringDate(e.lastChangeDate)})))},handlePagination(e){this.isResetPage=!1,this.currentPage=e,this.getIbActivityLogRecordForCustomerDetail(!1)},handleStartingIndex(e){this.startingIndex=e},handleReset(){this.date="",this.currentPage=1,this.isResetPage=!0,this.getIbActivityLogRecordForCustomerDetail(!1)}}}),V=a(83744);const F=(0,V.Z)(A,[["render",I],["__scopeId","data-v-310f4ee3"]]);var W=F}}]);
//# sourceMappingURL=7169.a22b3749.js.map