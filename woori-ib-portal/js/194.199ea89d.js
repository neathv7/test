"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[194],{414:function(e,o,n){n.d(o,{Z:function(){return r}});var i=n(66252),s=n(3577);const t={class:"time"};function l(e,o,n,l,a,d){return(0,i.wg)(),(0,i.iD)("span",t,(0,s.zw)(e.countdownValue),1)}var a=(0,i.aZ)({name:"Timer",emits:["stop"],props:{minutes:{type:Number,default:0,required:!0},seconds:{type:Number,default:0,required:!0},isCountingDown:{type:Boolean,default:!1}},data(){return{intervalId:null,countdownValue:"0:00"}},watch:{isCountingDown(e){e?this.startCountdown():this.stopCountdown()}},mounted(){this.countdownValue=`${this.minutes<10?"0"+this.minutes:this.minutes}:${this.seconds<10?"0"+this.seconds:this.seconds}`},methods:{startCountdown(){let e=60*this.minutes+this.seconds;this.intervalId=setInterval((()=>{if(e<=0)clearInterval(this.intervalId),this.$emit("stop");else{e--;const o=Math.floor(e/60),n=e%60;this.countdownValue=`${o<10?"0"+o:o}:${n<10?"0"+n:n}`}}),1e3)},stopCountdown(){this.intervalId&&(this.countdownValue=`${this.minutes<10?"0"+this.minutes:this.minutes}:${this.seconds<10?"0"+this.seconds:this.seconds}`,clearInterval(this.intervalId),this.intervalId=null,this.$emit("stop"))}},unmounted(){this.stopCountdown()}}),d=n(83744);const u=(0,d.Z)(a,[["render",l]]);var r=u},21642:function(e,o,n){n.r(o),n.d(o,{default:function(){return T}});var i=n(66252),s=n(49963),t=n(3577),l=n.p+"img/img_thumbnail_login.60576cad.png";const a=e=>((0,i.dD)("data-v-74e63db1"),e=e(),(0,i.Cn)(),e),d={class:"wrap_login"},u=a((()=>(0,i._)("div",{class:""},[(0,i._)("h1",{class:"logo_woori"},"Woori"),(0,i._)("img",{class:"thumbnail",src:l,alt:""})],-1))),r={class:"form_login"},m=a((()=>(0,i._)("h2",null,"Sign In",-1))),c={key:0,class:"form"},p={class:"inp_box"},h={class:"inp inp_user"},g={class:"inp_box"},w={class:"inp inp_pwd"},C={class:"option"},b={key:1,class:"form verify_email"},_={class:"inp_box"},v={class:"inp"},y={class:"inp_box"},k={class:"inp"},f={key:0,class:"txt_error"};function D(e,o){const n=(0,i.up)("ion-input"),l=(0,i.up)("ion-button"),a=(0,i.up)("ion-checkbox"),D=(0,i.up)("ion-label"),I=(0,i.up)("ion-item"),N=(0,i.up)("Timer");return(0,i.wg)(),(0,i.iD)("div",d,[u,(0,i._)("div",r,[m,"login"===e.mode?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",p,[(0,i._)("div",h,[(0,i.Wm)(n,{class:"line",placeholder:"User ID",modelValue:e.login.employeeNo,"onUpdate:modelValue":o[0]||(o[0]=o=>e.login.employeeNo=o)},null,8,["modelValue"])])]),(0,i._)("div",g,[(0,i._)("div",w,[(0,i.Wm)(n,{class:"line",type:"password",placeholder:"Password",modelValue:e.login.password,"onUpdate:modelValue":o[1]||(o[1]=o=>e.login.password=o),onKeydown:(0,s.D2)(e.onClickSignIn,["enter"])},null,8,["modelValue","onKeydown"])])]),(0,i.Wm)(l,{class:"btn_login btn01",onClick:e.onClickSignIn},{default:(0,i.w5)((()=>[(0,i.Uk)("Sign In")])),_:1},8,["onClick"]),(0,i._)("div",C,[(0,i.Wm)(I,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,{modelValue:e.login.isRemember,"onUpdate:modelValue":o[2]||(o[2]=o=>e.login.isRemember=o)},null,8,["modelValue"]),(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Remember ID")])),_:1})])),_:1})])])):(0,i.kq)("",!0),"otp"===e.mode?((0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",null,[(0,i._)("div",_,[(0,i._)("div",v,[(0,i.Wm)(n,{class:"line inp_email",modelValue:e.preLogin.emailAddress,"onUpdate:modelValue":o[3]||(o[3]=o=>e.preLogin.emailAddress=o),type:"email",placeholder:"Email",disabled:""},null,8,["modelValue"])])]),(0,i.Wm)(l,{class:"btn_login btn01",onClick:e.onClickSendOTP,disabled:e.isCountDown},{default:(0,i.w5)((()=>[(0,i.Uk)((0,t.zw)(e.btnLabel),1)])),_:1},8,["onClick","disabled"]),(0,i.Wm)(l,{class:"btn03",onClick:e.onClickBack},{default:(0,i.w5)((()=>[(0,i.Uk)("Back")])),_:1},8,["onClick"])]),(0,i.wy)((0,i._)("div",{class:(0,t.C_)({inp_error:e.isInvalid&&""===e.otpCode})},[(0,i._)("div",y,[(0,i._)("div",k,[(0,i.Wm)(n,{class:"line",placeholder:"Please enter a 6-digit nember",maxLength:6,readonly:e.isDisableOTP,modelValue:e.otpCode,"onUpdate:modelValue":o[4]||(o[4]=o=>e.otpCode=o),onKeyup:(0,s.D2)(e.onClickConfirm,["enter"])},{default:(0,i.w5)((()=>[(0,i.Wm)(N,{minutes:2,seconds:0,isCountingDown:e.isCountDown,onStop:e.handleStopCountdown},null,8,["isCountingDown","onStop"])])),_:1},8,["readonly","modelValue","onKeyup"])])]),e.isInvalid&&""===e.otpCode?((0,i.wg)(),(0,i.iD)("p",f,"Invalid Code")):(0,i.kq)("",!0),(0,i.Wm)(l,{class:"btn_login btn01",onClick:e.onClickConfirm},{default:(0,i.w5)((()=>[(0,i.Uk)("Confirm")])),_:1},8,["onClick"])],2),[[s.F8,!e.isDisableOTP]])])):(0,i.kq)("",!0)])])}var I=n(414),N=(0,i.aZ)({name:"sec201001sc00Vue",components:{Timer:I.Z},data(){return{login:{employeeNo:"",password:"",isRemember:!1},otp:{authTransactionDate:"",authTransactionSeqNo:0},mode:"login",btnLabel:"Send",preLogin:{employeeNo:"",employeeName:"",emailAddress:"",branchCode:"",branchName:""},isDisableOTP:!0,isCountDown:!1,isInvalid:!1,otpCode:""}},mounted(){this.login.employeeNo=localStorage.getItem("employeeNo"),this.login.isRemember=null!=localStorage.getItem("employeeNo")},methods:{async onClickSignIn(){if(this.login.employeeNo&&this.login.password){const e={employeeNo:this.login.employeeNo,password:this.login.password},o=await this.$auth.onLogin(e);o&&o.header.result&&(this.login.isRemember?localStorage.setItem("employeeNo",this.login.employeeNo):localStorage.removeItem("employeeNo"),this.mode="otp",this.preLogin=o.body)}},async onClickSendOTP(){this.otpCode="";const e={employeeNo:this.preLogin.employeeNo,email:this.preLogin.emailAddress},o=await this.$auth.onSendOTP(e);o&&o.header.result&&(this.isCountDown=!0,this.otp=o.body,this.isDisableOTP=!1)},async onClickConfirm(){if(this.isInvalid=!1,""!==this.otpCode){const e={employeeNo:this.preLogin.employeeNo,emailAddress:this.preLogin.emailAddress,authTransactionDate:this.otp.authTransactionDate,authTransactionSeqNo:this.otp.authTransactionSeqNo,authenticationCode:this.otpCode};await this.$auth.onVerifyOtp(e)}else this.isInvalid=!0},handleStopCountdown(){this.isDisableOTP=!0,this.isCountDown=!1,this.btnLabel="Resend"},onClickBack(){this.mode="login",this.btnLabel="Send",this.isDisableOTP=!0,this.otpCode="",this.isInvalid=!1,this.isCountDown=!1}}}),V=n(83744);const S=(0,V.Z)(N,[["render",D],["__scopeId","data-v-74e63db1"]]);var T=S}}]);
//# sourceMappingURL=194.199ea89d.js.map