"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[7240],{87240:function(t,s,i){i.r(s),i.d(s,{default:function(){return R}});var e=i(66252),a=i(3577);const n={class:"tab_cont"},c={class:"row"},o={class:"col"},u={class:"form01"},d={class:"row gap"},r={class:"col acc_mgmt"},l={class:"row gap"},h={class:"col"},p={class:"form01"},w={class:"col-1"},y={class:"form01"},m={class:"col-1"},A={class:"form01"},g={class:"col-2"},T={class:"form01"},b={class:"cen"},_={class:"row gap"},f={class:"col"},I={class:"form01"},D={class:"inp_box"},v={class:"inp"},C={class:"col-1"},q={class:"form01"},W={class:"align_cen"},N={class:"col-1"},M={class:"form01"},$={class:"align_cen"},k={class:"col-2"},E={class:"form01"},O={class:"align_cen"};function S(t,s){const i=(0,e.up)("ion-radio"),S=(0,e.up)("ion-label"),V=(0,e.up)("ion-item"),B=(0,e.up)("ion-list"),U=(0,e.up)("ion-radio-group"),z=(0,e.up)("ion-input"),J=(0,e.up)("ion-checkbox");return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",c,[(0,e._)("div",o,[(0,e._)("dl",u,[(0,e._)("dt",null,(0,a.zw)(t.$t("cib201003ss06.account_management")),1),(0,e._)("dd",null,[(0,e.Wm)(U,{modelValue:t.accountType,"onUpdate:modelValue":s[0]||(s[0]=s=>t.accountType=s)},{default:(0,e.w5)((()=>[(0,e.Wm)(B,{class:"list_chk"},{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.COMMON_KEY_VALUE.subscriptionAccountManagementType,(s=>((0,e.wg)(),(0,e.j4)(V,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i,{value:s.key,disabled:t.isDisable},null,8,["value","disabled"]),(0,e.Wm)(S,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,a.zw)(s.value),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1},8,["modelValue"])])])])]),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("div",d,[(0,e._)("div",r,[(0,e._)("div",l,[(0,e._)("div",h,[(0,e._)("dl",p,[(0,e._)("dt",null,(0,a.zw)(t.$t("cib201003ss06.account_no")),1)])]),(0,e._)("div",w,[(0,e._)("dl",y,[(0,e._)("dt",null,(0,a.zw)(t.$t("cib201003ss06.view_only")),1)])]),(0,e._)("div",m,[(0,e._)("dl",A,[(0,e._)("dt",null,(0,a.zw)(t.$t("cib201003ss06.full_access")),1)])]),(0,e._)("div",g,[(0,e._)("dl",T,[(0,e._)("dt",b,(0,a.zw)(t.$t("cib201003ss06.main_transfer_account")),1)])])]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.withdrawAccounts,((a,n)=>((0,e.wg)(),(0,e.iD)("div",_,[(0,e._)("div",f,[(0,e._)("dl",I,[(0,e._)("dd",null,[(0,e._)("div",D,[(0,e._)("div",v,[(0,e.Wm)(z,{"clear-input":"",class:"line",placeholder:"",value:a.accountNo,disabled:""},null,8,["value"])])])])])]),(0,e._)("div",C,[(0,e._)("dl",q,[(0,e._)("dd",W,[(0,e.Wm)(J,{modelValue:a.isInquiry,"onUpdate:modelValue":t=>a.isInquiry=t,value:"1",onIonChange:s=>t.isInquiryChange(n,t.accountType),disabled:t.isDisableDesignated||t.isNotAllowEditMainTransferAccount[n]},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])])])]),(0,e._)("div",N,[(0,e._)("dl",M,[(0,e._)("dd",$,[(0,e.Wm)(J,{value:"2",modelValue:a.isWithdraw,"onUpdate:modelValue":t=>a.isWithdraw=t,onIonChange:s=>t.isWithdrawChange(n,t.accountType),disabled:t.isDisableDesignated||t.isNotAllowEditMainTransferAccount[n]},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])])])]),(0,e._)("div",k,[(0,e._)("dl",E,[(0,e._)("dd",O,[(0,e.Wm)(U,{modelValue:t.mainTransferAccount,"onUpdate:modelValue":s[1]||(s[1]=s=>t.mainTransferAccount=s)},{default:(0,e.w5)((()=>[(0,e.Wm)(B,{class:"list_chk"},{default:(0,e.w5)((()=>[(0,e.Wm)(V,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i,{slot:"start",value:a.accountNo,disabled:""},null,8,["value"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue"])])])])])))),256))])])])),_:1})])}var V=i(43493),B=i(42615),U=(0,e.aZ)({name:"cib201003ss06",props:{dataIB:{type:Object,required:!0},currentTab:{type:String,required:!0},approvalPayload:{type:Object,required:!1}},data(){const t=this.$route.query.userID,s=this.$route.query.customerNo,i=this.$route.query.tab;return{userID:t,customerNo:s,approvalTap:i,COMMON_KEY_VALUE:B.ii,withdrawAccounts:[],tempWithdrawAccounts:[],customerDetail:{},isNotAllowEditMainTransferAccount:[],isDisable:!0,isEditable:!1,isDisableDesignated:!0,accountType:"",mainTransferAccount:"",mainAccountNo:"",accountlistDesignated:[],approvalRes:{},operationMode:"normal"}},watch:{approvalPayload(t){if("CIB201003SS06"==this.approvalTap){let s=JSON.parse(t.requestContent);this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal",this.withdrawAccounts=s.accountList,this.accountType=s.accountManagementTypeCode,this.mainTransferAccount=s.mainTransferAccount,this.withdrawAccounts.map((t=>{"02"==s.accountManagementTypeCode&&"02"==t.designatedAccountTypeCode?t.isInquiry=!0:"02"==s.accountManagementTypeCode&&"01"==t.designatedAccountTypeCode?t.isWithdraw=!0:""==t.designatedAccountTypeCode?(t.isInquiry=!1,t.isWithdraw=!1):(t.isInquiry=!0,t.isWithdraw=!0)}))}},dataIB(t){""==this.approvalType&&(this.mainTransferAccount=t.userInfo.mainTransferAccount,this.accountType=t.userInfo.accountManagementTypeCode)},accountType:function(t){if(""==this.approvalType)switch(t){case"01":this.isDisableDesignated=!0,this.handleAccountManagement(t,this.mainTransferAccount);break;case"02":0==this.isDisable&&(this.isDisableDesignated=!1),this.handleAccountManagement(t,this.mainTransferAccount);break}},async currentTab(t){""==this.approvalType&&"cib201003ss06"==t&&(await this.onGetUserSubscriptionDetail(),this.mainTransferAccount=this.customerDetail.userInfo.mainTransferAccount,this.accountType=this.customerDetail.userInfo.accountManagementTypeCode,this.getWithdrawalAccount())},isEditable(t){this.$emit("isBeingEdited",t)}},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},methods:{async getWithdrawalAccount(){this.isDisableDesignated=!0;const t={customerNo:`${this.customerNo}`,userID:`${this.userID}`},s=await this.$request.getRequest("CIB20100312",t,!1);s.header.result&&(this.withdrawAccounts=JSON.parse(JSON.stringify(s.body.list)),this.tempWithdrawAccounts=JSON.parse(JSON.stringify(s.body.list))),this.isNotAllowEditMainTransferAccount=[],this.handleMaintransferAccont(this.accountType,this.withdrawAccounts)},handleMaintransferAccont(t,s){s.map((s=>{"01"==t?"02"==s.designatedAccountTypeCode?s.isInquiry=!0:s.isWithdraw=!0:s.accountNo==this.mainTransferAccount?("02"==s.designatedAccountTypeCode?s.isInquiry=!0:s.isWithdraw=!0,this.isNotAllowEditMainTransferAccount.push(!0)):("02"==s.designatedAccountTypeCode?s.isInquiry=!0:"01"==s.designatedAccountTypeCode?s.isWithdraw=!0:""==s.designatedAccountTypeCode&&(s.isWithdraw=!1,s.isInquiry=!1),this.isNotAllowEditMainTransferAccount.push(!1))}))},async onGetUserSubscriptionDetail(){const t={userID:`${this.$route.query.userID}`,customerNo:`${this.$route.query.customerNo}`},s=await this.$request.getRequest("CIB20100311",t,!1);s.header.result&&(this.customerDetail=JSON.parse(JSON.stringify(s.body)))},onClickOperation(t){switch(t){case"edit":this.isEditable=!0,this.isDisable=!1,"02"==this.accountType&&(this.isDisableDesignated=!1);break;case"cancel":this.isEditable=!1,this.isDisable=!0,this.isDisableDesignated=!0,this.getWithdrawalAccount();break;case"list":this.$router.push("/corporate-internet-banking/subscription");break;case"submit":this.$dialog.onOpen({content:`${this.$t("message.would_you_like_to_save")}`,dialogMode:"Question",callback:()=>{this.handleSubmit(),V.Fy.dismiss()}});break}},async handleSubmit(){this.accountlistDesignated=[],this.withdrawAccounts.map((t=>{1==t.isInquiry&&1==t.isWithdraw?t.designatedAccountTypeCode="01":1==t.isInquiry?t.designatedAccountTypeCode="02":1==t.isWithdraw?t.designatedAccountTypeCode="01":t.isInquiry&&t.isInquiry||(t.designatedAccountTypeCode=""),this.accountlistDesignated.push({accountNo:t.accountNo,designatedAccountTypeCode:t.designatedAccountTypeCode,deleteYN:"N",accountTypeCode:t.accountTypeCode})}));const t={userID:`${this.userID}`,customerNo:`${this.customerNo}`,accountList:this.accountlistDesignated,accountManagementTypeCode:this.accountType,mainTransferAccount:this.mainTransferAccount},s=await this.$request.getRequest("CIB20100336",t,!1,"CIB201003SS06");this.approvalType&&(this.isDisableDesignated=!0,this.isDisable=!0,this.isEditable=!1,this.$emit("isReseTButton",!1)),s.header.result&&(this.isDisableDesignated=!0,this.isDisable=!0,this.isEditable=!1,this.tempWithdrawAccounts=[],this.getWithdrawalAccount(),this.$emit("isReseTButton",!1),this.$dialog.onOpen({content:`${this.$t("message.update_success")}`,dialogMode:"Success",callback:()=>{V.Fy.dismiss()}}))},handleAccountManagement(t,s){"01"==t?this.withdrawAccounts.map((t=>{t.isWithdraw&&t.isInquiry&&("00"==t.designatedAccountTypeCode||""==t.designatedAccountTypeCode)?(t.isWithdraw=!0,t.isInquiry=!1,this.isNotAllowEditMainTransferAccount.push(!1)):(this.isNotAllowEditMainTransferAccount.push(!1),t.isWithdraw=!0,t.isInquiry=!1)})):this.withdrawAccounts.map((t=>{t.accountNo==s?(t.isWithdraw=!0,t.isInquiry=!1,this.isNotAllowEditMainTransferAccount.push(!1)):this.tempWithdrawAccounts.map((s=>{"02"==s.designatedAccountTypeCode?(s.isInquiry=t.isInquiry=!0,s.isWithdraw=t.isWithdraw=!1):"01"==s.designatedAccountTypeCode&&(s.isInquiry=t.isInquiry=!1,s.isWithdraw=t.isWithdraw=!0)}))}))},isInquiryChange(t){"01"==this.accountType?1==this.withdrawAccounts[t].isInquiry&&(this.withdrawAccounts[t].isInquiry=!1,this.withdrawAccounts[t].isWithdraw=!0,this.withdrawAccounts[t].designatedAccountTypeCode="01"):1==this.withdrawAccounts[t].isInquiry&&(this.withdrawAccounts[t].isInquiry=!0,this.withdrawAccounts[t].isWithdraw=!1,this.withdrawAccounts[t].designatedAccountTypeCode="02")},isWithdrawChange(t){this.accountType,1==this.withdrawAccounts[t].isWithdraw&&(this.withdrawAccounts[t].isWithdraw=!0,this.withdrawAccounts[t].isInquiry=!1,this.withdrawAccounts[t].designatedAccountTypeCode="01")}}}),z=i(83744);const J=(0,z.Z)(U,[["render",S],["__scopeId","data-v-32d24eed"]]);var R=J}}]);
//# sourceMappingURL=7240.3c6ecf2c.js.map