"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[9860],{28183:function(e,t,i){i.a(e,(async function(e,a){try{var n=i(66252),r=i(75080),s=i(72224),u=e([s]);s=(u.then?(await u)():u)[0],t["Z"]=(0,n.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(e){"/COM210001SC00"==this.$route.path&&(e&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:e,route:""}))}},methods:{pathDriver(e,t){if(""===this.approvalType){if(this.$route.path==e)return;t?this.$router.push({path:e,query:t}):this.$router.push(e)}},async renderMenuFromState(){return r.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((e=>""!=e.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(e){console.log("Error rendering menu:",e)}},async buildBreadcrumb(e,t){const i=e.find((e=>`/${e.screenID}`==t));if(i){if(this.generateBreadcrumbs(e,i),"/ICM201001SC00"==this.$route.path){const t=e.find((e=>"ICM201001SC00"==e.screenID));s.u.setData("SpecialScreenID",JSON.stringify(t))}}else{if("/CIB202003SC00"==this.$route.path){let t,i;i=e.find((e=>"CIB202002SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID,menuID:"1"},this.generateBreadcrumbs(e,t)}const t=this.$route.path.replace("/","");let i=[];this.menuList.forEach((e=>{i.push(e.screenID)})),i.forEach((i=>{let a;if(this.matchScreenID(i,t)&&(a=e.find((e=>`${e.screenID}`==i)),a&&this.generateBreadcrumbs(e,a)),""!==this.approvalType&&("VBA202002SC00"==t||"CIB201003SC00"==t)&&this.matchApprovalModeScreenID(i,t)){const t=e.find((e=>`${e.screenID}`==i));this.generateBreadcrumbs(e,t)}}));let a=t.charAt(t.length-1);if("1"===a){let e={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`};this.breadcrumbs.push(e),s.u.setData("TempBreadCrumb",JSON.stringify(e))}else if("2"===a)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`});else{let e=JSON.parse(await s.u.getData("TempBreadCrumb"));this.breadcrumbs.push(e,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let i=this.$router.options.history.state.back,a=i.includes("/")?i.replace("/",""):i;const n=await e.find((e=>`${e.screenID}`==a));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,n)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let i=JSON.parse(await s.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/CIB202003SC01"==this.$route.path){let i,a;this.breadcrumbs=[],a=e.find((e=>"CIB202002SC00"==e.screenID)),i={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:a.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/PUM202002SC00"==this.$route.path){let t,i;i=e.find((e=>"COM200001SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID},this.generateBreadcrumbs(e,t)}}},async generateBreadcrumbs(e,t){try{if(t){const i={menuName:t.menuName,route:`/${t.screenID}`,menuIconID:t.menuIconID};if(this.breadcrumbs.unshift(i),t.parentMenuID){const i=e.find((e=>e.menuID==t.parentMenuID));i&&this.generateBreadcrumbs(e,i)}}}catch(i){console.log(i)}},matchScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-1;i++)if(e[i]!==t[i])return!1;return!0},matchApprovalModeScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-5;i++)if(e[i]!==t[i])return!1;return!0}}}),a()}catch(h){a(h)}}))},90121:function(e,t,i){i.a(e,(async function(e,a){try{var n=i(55864),r=i(44104),s=(i(55241),i(83744)),u=e([r]);r=(u.then?(await u)():u)[0];const h=(0,s.Z)(r.Z,[["render",n.s],["__scopeId","data-v-6668b2f2"]]);t["Z"]=h,a()}catch(h){a(h)}}))},21638:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(66252),n=i(3577);const r=e=>((0,a.dD)("data-v-3886d7e2"),e=e(),(0,a.Cn)(),e),s={class:"grid_footer"},u={key:0,class:"grid_option"},h={class:"list_count"},c=r((()=>(0,a._)("dd",null,[(0,a._)("span",null," item(s)")],-1))),o={key:1,class:"paginaton"};function g(e,t){const i=(0,a.up)("ion-button");return(0,a.wg)(),(0,a.iD)("div",s,[e.showTotal?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",h,[(0,a._)("dl",null,[(0,a._)("dt",null,[(0,a._)("strong",null,(0,n.zw)(e.$util.addComma(e.totalCount,3)),1)]),c])])])):(0,a.kq)("",!0),e.perPage>0&&e.totalCount>0&&e.totalCount>e.perPage?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(i,{class:"btn_page_prev",onClick:e.backwardPagination,disabled:e.isDisabledPrev},{default:(0,a.w5)((()=>[(0,a.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.totalPagination,(t=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(i,{class:(0,n.C_)([e.currentPage==t?"on":""]),onClick:i=>e.onClickPagination(t),disabled:"..."===t},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,a.Wm)(i,{class:"btn_page_next",onClick:e.forwardPagination,disabled:e.isDisabledNext},{default:(0,a.w5)((()=>[(0,a.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,a.kq)("",!0)])}var d=(0,a.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(e){e&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(e){this.currentPage=e;const t=[];if(this.endPagination-this.currentPage>=this.maxPageShow){t.push(this.currentPage.toString());for(let i=0;i<this.maxPageShow-4;i++)t.push((e+i+1).toString());t.push("..."),t.push((this.endPagination-1).toString()),t.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let i=1;i<=this.endPagination;i++)t.push(i.toString());else for(let i=this.endPagination-this.maxPageShow+1;i<=this.endPagination;i++)t.push(i.toString());return this.totalPagination=t,e},dividePage(){const e=this.totalCount/this.perPage;if(e%1!=0){const t=e.toString().split(".");return(0,n.He)(t[0])+1}return(0,n.He)(e.toFixed())},onClickPagination(e){this.currentPage!=parseInt(e)&&(this.currentPage=parseInt(e),this.findPagination(parseInt(e)),this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let e=10==this.currentPage?9:10,t=this.currentPage-e;t<1?(t=1,await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let e=1==this.currentPage?9:10,t=this.currentPage+e;t>Number(this.totalPagination.slice(-1))?(t=Number(this.totalPagination.slice(-1)),await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(t).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((e=>{this.$emit("get-page-number",Number(e)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),m=i(83744);const l=(0,m.Z)(d,[["render",g],["__scopeId","data-v-3886d7e2"]]);var p=l},55241:function(){},44104:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Z:function(){return n.Z}});var n=i(28183),r=e([n]);n=(r.then?(await r)():r)[0],a()}catch(s){a(s)}}))},55864:function(e,t,i){i.d(t,{s:function(){return s}});var a=i(66252),n=i(3577);const r={class:"bread_crumb"};function s(e,t){const i=(0,a.up)("ion-label");return(0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.breadcrumbs,((t,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[t.menuIconID&&0==r?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,n.C_)(["icon_menu",[t.menuIconID]])},null,2)):(0,a.kq)("",!0),""==t.route||"/"==t.route?((0,a.wg)(),(0,a.j4)(i,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1024)):(0,a.kq)("",!0),""!=t.route&&"/"!=t.route?((0,a.wg)(),(0,a.j4)(i,{key:2,onClick:i=>e.pathDriver(t.route,e.queryData)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1032,["onClick"])):(0,a.kq)("",!0)],64)))),128))])}}}]);
//# sourceMappingURL=9860.3f8f6295.js.map