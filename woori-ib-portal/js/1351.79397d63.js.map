{"version":3,"file":"js/1351.79397d63.js","mappings":"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","sources":["webpack://bizMOB4Vue/./src/views/cib/cib201003ss02/cib201003ss02.html","webpack://bizMOB4Vue/./src/views/cib/cib201003ss02/cib201003ss02.vue?2d7b","webpack://bizMOB4Vue/./src/views/cib/cib201003ss02/cib201003ss02.vue"],"sourcesContent":["import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0b3dafaa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"tab_cont\" }\nconst _hoisted_2 = { class: \"row gap\" }\nconst _hoisted_3 = { class: \"col\" }\nconst _hoisted_4 = { class: \"form01\" }\nconst _hoisted_5 = { class: \"inp\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"txt_error\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"txt_error\"\n}\nconst _hoisted_8 = { class: \"col\" }\nconst _hoisted_9 = { class: \"form01\" }\nconst _hoisted_10 = { class: \"inp_box\" }\nconst _hoisted_11 = { class: \"inp\" }\n\nexport function render(_ctx, _cache) {\n  const _component_ion_input = _resolveComponent(\"ion-input\")\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"dl\", _hoisted_4, [\n          _createElementVNode(\"dt\", null, _toDisplayString(_ctx.$t(\"common.email\")), 1),\n          _createElementVNode(\"dd\", null, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"inp_box\", { inp_error: (_ctx.isResetPasswaord && !_ctx.tempData.resetPassword.email) || _ctx.isWrongEmailFormat}])\n            }, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(_component_ion_input, {\n                  type: \"email\",\n                  class: \"line\",\n                  placeholder: \"Enter Email\",\n                  modelValue: _ctx.tempData.resetPassword.email,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => ((_ctx.tempData.resetPassword.email) = $event)),\n                  disabled: \"\"\n                }, null, 8, [\"modelValue\"])\n              ]),\n              (_ctx.isResetPasswaord && !_ctx.tempData.resetPassword.email)\n                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString(_ctx.$t(\"error_text.email_is_required\")), 1))\n                : _createCommentVNode(\"\", true),\n              (_ctx.isWrongEmailFormat && _ctx.tempData.resetPassword.email)\n                ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString(_ctx.$t(\"error_text.email_invalid\")), 1))\n                : _createCommentVNode(\"\", true)\n            ], 2)\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createElementVNode(\"dl\", _hoisted_9, [\n          _createElementVNode(\"dt\", null, _toDisplayString(_ctx.$t(\"cib201003ss02.password_error_count\")), 1),\n          _createElementVNode(\"dd\", null, [\n            _createElementVNode(\"div\", _hoisted_10, [\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createVNode(_component_ion_input, {\n                  class: \"line\",\n                  type: \"number\",\n                  disabled: \"\",\n                  modelValue: _ctx.tempData.resetPassword.userPasswordErrorCount,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => ((_ctx.tempData.resetPassword.userPasswordErrorCount) = $event)),\n                  readonly: !_ctx.isEditable\n                }, null, 8, [\"modelValue\", \"readonly\"])\n              ])\n            ])\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","\nimport { PropType, defineComponent } from 'vue'\nimport { IbUserDetail } from '@/shared/type/CIB20100311.type'\nimport { CIB20100332_REQ_BODY, CIB20100332_RES } from '@/shared/type/CIB20100332.type'\nimport { modalController } from '@ionic/vue';\nimport { AuthorizationDetail } from '@/shared/type/APM20200113.type';\nimport { screenMode } from \"@/shared/type/Approval.type\";\n\nexport default defineComponent({\n  name: \"cib201003ss02\",\n\n  props: {\n    data: {\n      type: Object as PropType<IbUserDetail>,\n      required: true\n    },\n    userId: {\n      type: String,\n      required: true\n    },\n    approvalPayload: {\n      type: Object as PropType<AuthorizationDetail>,\n      required: false\n    },\n    currentTab: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    const userID = this.$route.query.userID;\n    const customerNo = this.$route.query.customerNo;\n    const approvalTap = this.$route.query.tab;\n    return {\n      userID,\n      customerNo,\n      approvalTap,\n      tempData: {\n        customerNo: \"\",\n        resetPassword: {\n          email: \"\",\n          userPasswordErrorCount: 0\n        }\n      },\n      isEditable: false,\n      isResetPasswaord: false,\n      isWrongEmailFormat: false,\n      operationMode: 'normal' as screenMode,\n      tempEmail:'',\n      tempUserPasswordErrorCount:0\n    }\n  },\n\n  watch: {\n    data(customerData: IbUserDetail) {\n      if(this.approvalType == ''){\n        this.tempData = JSON.parse(JSON.stringify({ \n          customerNo: customerData.userInfo.customerNo, \n          resetPassword: { \n            email: customerData.userInfo.email, \n            userPasswordErrorCount: customerData.userInfo.userPasswordErrorCount \n          } \n        }))\n        this.tempEmail = customerData.userInfo.email;\n        this.tempUserPasswordErrorCount = customerData.userInfo.userPasswordErrorCount;\n      }else if(this.approvalPayload){\n        if(this.approvalTap == 'CIB201003SS02'){\n          let authDetailParsed = JSON.parse(this.approvalPayload?.requestContent)\n            this.tempData.resetPassword.email = authDetailParsed.email;\n            this.operationMode = this.approvalType == 'my-request' ? 'read' : this.approvalType == 'my-approval' ? 'approval' : 'normal';\n          }\n        }\n    },\n\n    'tempData.resetPassword.email':function(newEmailValue){\n      if(newEmailValue){\n        this.isWrongEmailFormat = false;\n      }\n    },\n\n    isEditable(isAllowTabChange) {\n      this.$emit('isBeingEdited', isAllowTabChange)\n    }\n  },\n\n  computed: {\n\t\tapprovalType(): string {\n\t\t\treturn this.$route.query.approvalType ? this.$route.query.approvalType.toString() : '';\n\t\t},\n  },\n\n  methods: {\n    onClickOperation(btn: string) {\n      switch (btn) {\n        case \"edit\":\n          // in this reset password doesn't need summit button so we check and summit in case edit\n          if(this.currentTab == 'cib201003ss02'){\n            this.$dialog.onOpen({\n              dialogMode: \"Question\",\n              content: `${this.$t(\"message.would_you_like_to_send_password\")}`,\n              callback: async () => {\n                this.handleSendPassword();\n                modalController.dismiss();\n              }\n            })\n          }\n          break;\n\n        case \"cancel\":\n          this.tempData.resetPassword.email = this.tempEmail;\n          this.tempData.resetPassword.userPasswordErrorCount = this.tempUserPasswordErrorCount;\n          this.isEditable = false;\n          break;\n\n        case \"list\":\n          this.$router.push('/corporate-internet-banking/subscription');\n          break;\n\n        case \"submit\":\n          if(this.tempData.resetPassword.email && this.handleValidateEmailFormat()){\n            this.handleSendPassword();\n          }else{\n            this.isResetPasswaord = true;\n            this.handleValidateEmailFormat() == true ? this.isWrongEmailFormat = false : this.isWrongEmailFormat = true; // display error format message\n          }\n          break;\n      }\n    },\n\n    async handleSendPassword() {\n      let reqBody: CIB20100332_REQ_BODY = {\n        customerNo: `${this.customerNo}`,\n        userID: `${this.userID}`,\n        email: this.tempData.resetPassword.email\n      };\n\n      // ---- Adapter: CIB20100332_Adapter_IBResetPassword_Modify\n      const responseData = await this.$request.getRequest('CIB20100332', reqBody, false, 'CIB201003SS02') as CIB20100332_RES;\n      if(this.approvalType){\n        this.isEditable = false;\n        this.$emit(\"isReseTButton\", false);\n      }\n\n      if(responseData.header.result){\n        this.tempData.resetPassword.userPasswordErrorCount = 0;\n        // this.isEditable = false;\n        // this.$emit(\"isReseTButton\", false);\n        this.$dialog.onOpen({\n          content: `${this.$t(\"message.submit_successfully\")}`,\n          callback:()=>{\n            modalController.dismiss();\n          }\n        })\n      }\n    },\n\n    handleValidateEmailFormat(){\n      let validEmailFormat = false;\n      validEmailFormat = this.$validate.validateEmail(this.tempData.resetPassword.email);\n      validEmailFormat ? this.isWrongEmailFormat = false : this.isWrongEmailFormat = true;\n      return validEmailFormat;\n    }\n  }\n})\n","import { render } from \"./cib201003ss02.html?vue&type=template&id=0b3dafaa&scoped=true&ts=true\"\nimport script from \"./cib201003ss02.vue?vue&type=script&lang=ts\"\nexport * from \"./cib201003ss02.vue?vue&type=script&lang=ts\"\n\nimport \"./cib201003ss02.vue?vue&type=style&index=0&id=0b3dafaa&lang=scss&scoped=true\"\n\nimport exportComponent from \"/workspace/source/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b3dafaa\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","render","_ctx","_cache","_component_ion_input","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","$t","_normalizeClass","inp_error","isResetPasswaord","tempData","resetPassword","email","isWrongEmailFormat","_createVNode","type","placeholder","modelValue","$event","disabled","_createCommentVNode","userPasswordErrorCount","readonly","isEditable","defineComponent","name","props","data","Object","required","userId","String","approvalPayload","currentTab","userID","this","$route","query","customerNo","approvalTap","tab","operationMode","tempEmail","tempUserPasswordErrorCount","watch","customerData","approvalType","JSON","parse","stringify","userInfo","authDetailParsed","requestContent","newEmailValue","isAllowTabChange","$emit","computed","toString","methods","onClickOperation","btn","$dialog","onOpen","dialogMode","content","callback","async","handleSendPassword","modalController","$router","push","handleValidateEmailFormat","reqBody","responseData","$request","getRequest","header","result","validEmailFormat","$validate","validateEmail","__exports__"],"sourceRoot":""}