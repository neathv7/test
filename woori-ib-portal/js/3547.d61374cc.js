"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[3547],{54801:function(t,e,a){a.a(t,(async function(t,n){try{var i=a(66252),s=a(2262),o=a(42615),r=a(21638),l=a(90121),c=a(67201),d=t([l]);l=(d.then?(await d)():d)[0],e["Z"]=(0,i.aZ)({name:"com202001sc00",components:{Pagination:r.Z,BreadCrumb:l.Z,SelectOption:c.Z},data(){const t=(0,s.iH)([]),e=(0,s.iH)([]),a=[{columnName:this.$t("com202001sc00.column.no")},{columnName:this.$t("com202001sc00.column.view")},{columnName:this.$t("com202001sc00.column.branch_code")},{columnName:this.$t("com202001sc00.column.branch_dept_full_name"),sortable:!1},{columnName:this.$t("com202001sc00.column.branch_short_name"),sortable:!1},{columnName:this.$t("com202001sc00.column.branch_status_code"),sortable:!1},{columnName:this.$t("com202001sc00.column.branch_type_code"),sortable:!1}],n=(0,s.qj)({branchName:"",branchCode:"",branchTypeCode:"",branchStatusCode:""});return{totalItems:0,currentPage:1,pageSize:o.IV,startingIndex:1,branchDeptListTable:t,header:a,input:n,branchDeptListData:e,isReset:!1,breadcrumbs:[{value:"apm201001sc00.label.home",keyPath:"/COM200001SC00",type:"route"},{value:"com203002sc00.portal_management",keyPath:"",type:"label"},{value:"com202001sc00.branch_dept_list",keyPath:"",type:"label"}]}},created(){this.handleFetchBranchList()},computed:{branchStatusCode(){return this.$store.state.CommonCodeModule.commonCode.BranchStatusCode}},methods:{statusConverter(t){switch(t){case"01: Active":return"success";case"02: Inactive":return"fail";default:return"info"}},onMappingTableData(t){const{BranchTypeCode:e,BranchStatusCode:a}=this.$store.state.CommonCodeModule.commonCode;return t.map(((t,n)=>({No:n+1,branchCode:t.branchCode,branchName:t.branchName,branchShortName:t.branchShortName,branchStatusCode:a&&t.branchStatusCode?`${a.find((e=>e.key===t.branchStatusCode))?.key}: ${a.find((e=>e.key===t.branchStatusCode))?.value}`:"",branchTypeCode:e&&t.branchTypeCode?`${e.find((e=>e.key===t.branchTypeCode))?.key}: ${e.find((e=>e.key===t.branchTypeCode))?.value}`:""})))},handleClickRegister(){this.$router.push({path:"/COM202001SC01",query:{type:"register"}})},handleClickRow(t,e){this.$router.push({path:"/COM202001SC01",query:{type:"edit",branchCode:e.branchCode}})},handleClickSearch(){this.handleFetchBranchList()},async handleClickRefresh(){this.isReset=!0,this.currentPage=1,this.input.branchCode="",this.input.branchName="",this.input.branchTypeCode="",this.input.branchStatusCode="",this.branchDeptListData=this.branchDeptListTable,await this.handleFetchBranchList()},async handleFetchBranchList(t){const e="COM20200111",a=!1,n={branchCode:this.input.branchCode,branchName:this.input.branchName,branchStatusCode:this.input.branchStatusCode,branchTypeCode:this.input.branchTypeCode,pageNumber:"search"==t?0:this.currentPage,pageSize:this.pageSize};"search"===t&&(this.isReset=!0,this.currentPage=1);const i=await this.$request.getRequest(e,n,a);i.header.result&&(this.branchDeptListTable=JSON.parse(JSON.stringify(this.onMappingTableData(i?.body?.list))),this.totalItems=i.body.totalCount)},handlePagination(t){this.isReset=!1,this.currentPage=t,this.handleFetchBranchList()},handleStartingIndex(t){this.startingIndex=t}}}),n()}catch(h){n(h)}}))},21638:function(t,e,a){a.d(e,{Z:function(){return m}});var n=a(66252),i=a(3577);const s=t=>((0,n.dD)("data-v-3886d7e2"),t=t(),(0,n.Cn)(),t),o={class:"grid_footer"},r={key:0,class:"grid_option"},l={class:"list_count"},c=s((()=>(0,n._)("dd",null,[(0,n._)("span",null," item(s)")],-1))),d={key:1,class:"paginaton"};function h(t,e){const a=(0,n.up)("ion-button");return(0,n.wg)(),(0,n.iD)("div",o,[t.showTotal?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",l,[(0,n._)("dl",null,[(0,n._)("dt",null,[(0,n._)("strong",null,(0,i.zw)(t.$util.addComma(t.totalCount,3)),1)]),c])])])):(0,n.kq)("",!0),t.perPage>0&&t.totalCount>0&&t.totalCount>t.perPage?((0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(a,{class:"btn_page_prev",onClick:t.backwardPagination,disabled:t.isDisabledPrev},{default:(0,n.w5)((()=>[(0,n.Uk)("Prev")])),_:1},8,["onClick","disabled"]),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.totalPagination,(e=>((0,n.wg)(),(0,n.iD)("li",null,[(0,n.Wm)(a,{class:(0,i.C_)([t.currentPage==e?"on":""]),onClick:a=>t.onClickPagination(e),disabled:"..."===e},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e),1)])),_:2},1032,["class","onClick","disabled"])])))),256))]),(0,n.Wm)(a,{class:"btn_page_next",onClick:t.forwardPagination,disabled:t.isDisabledNext},{default:(0,n.w5)((()=>[(0,n.Uk)("Next")])),_:1},8,["onClick","disabled"])])):(0,n.kq)("",!0)])}var u=(0,n.aZ)({name:"pagination",component:{},props:{totalCount:{type:Number,default:0,required:!0},perPage:{type:Number,default:0,required:!0},maxPageShow:{type:Number,default:7},resetPage:{type:Boolean,default:!1,required:!0},showTotal:{type:Boolean,default:!0,required:!1}},emits:["get-page-number","get-starting-index"],data(){return{totalPagination:[],endPagination:0,currentPage:1}},computed:{isDisabledPrev(){return 1==this.currentPage},isDisabledNext(){return this.currentPage==this.endPagination}},watch:{totalCount:{handler(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage),this.currentPage=1,this.$emit("get-starting-index",1)},deep:!0},resetPage(t){t&&(this.currentPage=1,this.$emit("get-starting-index",1),this.findPagination(this.currentPage))}},mounted(){this.endPagination=this.dividePage(),this.findPagination(this.currentPage)},methods:{async findPagination(t){this.currentPage=t;const e=[];if(this.endPagination-this.currentPage>=this.maxPageShow){e.push(this.currentPage.toString());for(let a=0;a<this.maxPageShow-4;a++)e.push((t+a+1).toString());e.push("..."),e.push((this.endPagination-1).toString()),e.push(this.endPagination.toString())}else if(this.endPagination-this.maxPageShow+1<1)for(let a=1;a<=this.endPagination;a++)e.push(a.toString());else for(let a=this.endPagination-this.maxPageShow+1;a<=this.endPagination;a++)e.push(a.toString());return this.totalPagination=e,t},dividePage(){const t=this.totalCount/this.perPage;if(t%1!=0){const e=t.toString().split(".");return(0,i.He)(e[0])+1}return(0,i.He)(t.toFixed())},onClickPagination(t){this.currentPage!=parseInt(t)&&(this.currentPage=parseInt(t),this.findPagination(parseInt(t)),this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1))},async backwardPagination(){let t=10==this.currentPage?9:10,e=this.currentPage-t;e<1?(e=1,await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async forwardPagination(){let t=1==this.currentPage?9:10,e=this.currentPage+t;e>Number(this.totalPagination.slice(-1))?(e=Number(this.totalPagination.slice(-1)),await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))):await this.findPagination(e).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async firstPagination(){await this.findPagination(1).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))},async lastPagination(){await this.findPagination(this.endPagination).then((t=>{this.$emit("get-page-number",Number(t)),this.$emit("get-starting-index",this.currentPage*this.perPage-this.perPage+1)}))}}}),g=a(83744);const p=(0,g.Z)(u,[["render",h],["__scopeId","data-v-3886d7e2"]]);var m=p},18776:function(t,e,a){a.a(t,(async function(t,n){try{a.r(e);var i=a(87609),s=a(24789),o=(a(84368),a(83744)),r=t([s]);s=(r.then?(await r)():r)[0];const l=(0,o.Z)(s.Z,[["render",i.s],["__scopeId","data-v-545be64b"]]);e["default"]=l,n()}catch(l){n(l)}}))},84368:function(){},24789:function(t,e,a){a.a(t,(async function(t,n){try{a.d(e,{Z:function(){return i.Z}});var i=a(54801),s=t([i]);i=(s.then?(await s)():s)[0],n()}catch(o){n(o)}}))},87609:function(t,e,a){a.d(e,{s:function(){return O}});var n=a(66252),i=a(3577),s=a(49963);const o=t=>((0,n.dD)("data-v-545be64b"),t=t(),(0,n.Cn)(),t),r={class:"contentWrap"},l={class:"title_name"},c={class:"cont"},d={class:"row gap"},h={class:"col-3"},u={class:"form01"},g={class:"inp_box"},p={class:"inp"},m={class:"col-3"},b={class:"form01"},_={class:"inp_box"},P={class:"inp"},C={class:"col-3"},w={class:"form01"},f={class:"col-3"},y={class:"form01"},v={class:"footer_btn"},k={class:"right_side"},S={class:"gridwrap"},$={class:"grid_option"},x={class:"option"},N={class:"add_sm"},D={class:"tableWrap"},z={class:"table01 fixed"},I=o((()=>(0,n._)("colgroup",null,[(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col"),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}}),(0,n._)("col",{style:{width:"80px"}})],-1))),T={class:"sticky_head"},B={class:"tbody_section"},V=["id","onClick"],W={class:"txt_left"},L={key:0,class:"no_data"},q=o((()=>(0,n._)("p",null,"No Data",-1))),M=[q];function O(t,e){const a=(0,n.up)("BreadCrumb"),o=(0,n.up)("ion-input"),q=(0,n.up)("SelectOption"),O=(0,n.up)("ion-button"),R=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(a,{items:t.breadcrumbs},null,8,["items"]),(0,n._)("h1",l,(0,i.zw)(t.$t("com202001sc00.branch_dept_list")),1),(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",h,[(0,n._)("dl",u,[(0,n._)("dt",null,(0,i.zw)(t.$t("com202001sc01.branch_dept_name")),1),(0,n._)("dd",null,[(0,n._)("div",g,[(0,n._)("div",p,[(0,n.Wm)(o,{placeholder:t.$t("com202001sc00.branch_dept_name"),modelValue:t.input.branchName,"onUpdate:modelValue":e[0]||(e[0]=e=>t.input.branchName=e),onKeyup:e[1]||(e[1]=(0,s.D2)((e=>t.handleFetchBranchList("search")),["enter"])),maxlength:"12","clear-input":""},null,8,["placeholder","modelValue"])])])])])]),(0,n._)("div",m,[(0,n._)("dl",b,[(0,n._)("dt",null,(0,i.zw)(t.$t("com202001sc00.branch_dept_code")),1),(0,n._)("dd",null,[(0,n._)("div",_,[(0,n._)("div",P,[(0,n.Wm)(o,{maxlength:"12",placeholder:t.$t("com202001sc00.branch_dept_code"),modelValue:t.input.branchCode,"onUpdate:modelValue":e[2]||(e[2]=e=>t.input.branchCode=e),onKeyup:e[3]||(e[3]=(0,s.D2)((e=>t.handleFetchBranchList("search")),["enter"])),"clear-input":""},null,8,["placeholder","modelValue"])])])])])]),(0,n._)("div",C,[(0,n._)("dl",w,[(0,n._)("dt",null,(0,i.zw)(t.$t("com202001sc00.branch_dept_type")),1),(0,n._)("dd",null,[(0,n.Wm)(q,{data:t.$store.state.CommonCodeModule.commonCode.BranchTypeCode,modelValue:t.input.branchTypeCode,"onUpdate:modelValue":e[4]||(e[4]=e=>t.input.branchTypeCode=e),value:t.input.branchTypeCode,showOptionAll:!0,showKey:!0},null,8,["data","modelValue","value"])])])]),(0,n._)("div",f,[(0,n._)("dl",y,[(0,n._)("dt",null,(0,i.zw)(t.$t("com202001sc00.branch_status")),1),(0,n._)("dd",null,[(0,n.Wm)(q,{ValidateClass:{invalid:t.isInValidInput&&""===t.input.branchStatusCode},data:t.$store.state.CommonCodeModule.commonCode.BranchStatusCode,modelValue:t.input.branchStatusCode,"onUpdate:modelValue":e[5]||(e[5]=e=>t.input.branchStatusCode=e),value:t.input.branchStatusCode,showOptionAll:!0,classSelectType:""},null,8,["ValidateClass","data","modelValue","value"])])])])]),(0,n._)("div",v,[(0,n._)("div",k,[(0,n.Wm)(O,{class:"btn01",onClick:e[6]||(e[6]=e=>t.handleFetchBranchList("search"))},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,i.zw)(t.$t("common.search")),1)])),_:1}),(0,n.Wm)(O,{class:"btn_refresh",onClick:t.handleClickRefresh},{default:(0,n.w5)((()=>[(0,n._)("span",null,(0,i.zw)(t.$t("common.reset")),1)])),_:1},8,["onClick"])])]),(0,n._)("div",S,[(0,n._)("div",$,[(0,n._)("div",x,[(0,n.Wm)(O,{class:"btn02 btn_ico btn_sm",onClick:t.handleClickRegister},{default:(0,n.w5)((()=>[(0,n._)("span",N,(0,i.zw)(t.$t("common.register")),1)])),_:1},8,["onClick"])])]),(0,n._)("div",D,[(0,n._)("table",z,[I,(0,n._)("thead",T,[(0,n._)("tr",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.header,(t=>((0,n.wg)(),(0,n.iD)("th",null,[(0,n._)("span",null,(0,i.zw)(t.columnName),1)])))),256))])]),(0,n._)("tbody",B,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.branchDeptListTable,((e,a)=>((0,n.wg)(),(0,n.iD)("tr",{id:`row-${t.startingIndex+a}`,onClick:e=>t.$util.rowFocus(`row-${t.startingIndex+a}`)},[(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(t.startingIndex+a),1)]),(0,n._)("td",null,[(0,n.Wm)(O,{class:"btn_view",onClick:n=>t.handleClickRow(t.startingIndex+a,e)},{default:(0,n.w5)((()=>[(0,n.Uk)("View")])),_:2},1032,["onClick"])]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.branchCode),1)]),(0,n._)("td",W,[(0,n._)("span",null,(0,i.zw)(e.branchName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.branchShortName),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.branchStatusCode),1)]),(0,n._)("td",null,[(0,n._)("span",null,(0,i.zw)(e.branchTypeCode),1)])],8,V)))),256))])]),0===t.totalItems?((0,n.wg)(),(0,n.iD)("div",L,M)):(0,n.kq)("",!0)]),(0,n.Wm)(R,{totalCount:t.totalItems,perPage:t.pageSize,onGetPageNumber:t.handlePagination,resetPage:t.isReset,onGetStartingIndex:t.handleStartingIndex},null,8,["totalCount","perPage","onGetPageNumber","resetPage","onGetStartingIndex"])])])])}}}]);
//# sourceMappingURL=3547.d61374cc.js.map