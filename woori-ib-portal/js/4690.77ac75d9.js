"use strict";(self["webpackChunkbizMOB4Vue"]=self["webpackChunkbizMOB4Vue"]||[]).push([[4690],{28183:function(e,t,i){i.a(e,(async function(e,a){try{var o=i(66252),n=i(75080),s=i(72224),r=e([s]);s=(r.then?(await r)():r)[0],t["Z"]=(0,o.aZ)({props:{staticScreenName:{type:String,required:!1},queryData:{type:Array,required:!1}},data(){return{breadcrumbs:[],menuList:[]}},async created(){setTimeout((()=>{this.renderMenuFromState(),this.getMenuList()}),100)},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""}},watch:{staticScreenName(e){"/COM210001SC00"==this.$route.path&&(e&&(2==this.breadcrumbs.length?this.breadcrumbs:this.breadcrumbs.pop()),this.breadcrumbs.push({menuName:e,route:""}))}},methods:{pathDriver(e,t){if(""===this.approvalType){if(this.$route.path==e)return;t?this.$router.push({path:e,query:t}):this.$router.push(e)}},async renderMenuFromState(){return n.Z.getters.getMenuData},async getMenuList(){try{this.menuList=await this.renderMenuFromState(),this.menuList.length>0?(this.menuList=JSON.parse(JSON.stringify(this.menuList)).filter((e=>""!=e.parentMenuID.replace(/\s/g,""))),this.buildBreadcrumb(this.menuList,this.$route.path)):console.log("menu not yet rendered")}catch(e){console.log("Error rendering menu:",e)}},async buildBreadcrumb(e,t){const i=e.find((e=>`/${e.screenID}`==t));if(i){if(this.generateBreadcrumbs(e,i),"/ICM201001SC00"==this.$route.path){const t=e.find((e=>"ICM201001SC00"==e.screenID));s.u.setData("SpecialScreenID",JSON.stringify(t))}}else{if("/CIB202003SC00"==this.$route.path){let t,i;i=e.find((e=>"CIB202002SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID,menuID:"1"},this.generateBreadcrumbs(e,t)}const t=this.$route.path.replace("/","");let i=[];this.menuList.forEach((e=>{i.push(e.screenID)})),i.forEach((i=>{let a;if(this.matchScreenID(i,t)&&(a=e.find((e=>`${e.screenID}`==i)),a&&this.generateBreadcrumbs(e,a)),""!==this.approvalType&&("VBA202002SC00"==t||"CIB201003SC00"==t)&&this.matchApprovalModeScreenID(i,t)){const t=e.find((e=>`${e.screenID}`==i));this.generateBreadcrumbs(e,t)}}));let a=t.charAt(t.length-1);if("1"===a){let e={menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`};this.breadcrumbs.push(e),s.u.setData("TempBreadCrumb",JSON.stringify(e))}else if("2"===a)if("/COM211001SC02"==this.$route.path)this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`});else{let e=JSON.parse(await s.u.getData("TempBreadCrumb"));this.breadcrumbs.push(e,{menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`})}else if("/CIB202003SC00"!=this.$route.path&&"/PUM202002SC00"!=this.$route.path){let i=this.$router.options.history.state.back,a=i.includes("/")?i.replace("/",""):i;const o=await e.find((e=>`${e.screenID}`==a));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,o)}if("/ICM201002SC01"==this.$route.path){this.breadcrumbs=[];let i=JSON.parse(await s.u.getData("SpecialScreenID"));this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/CIB202003SC01"==this.$route.path){let i,a;this.breadcrumbs=[],a=e.find((e=>"CIB202002SC00"==e.screenID)),i={menuName:this.$t("cib202003sc00.sub_user_list"),screenID:"CIB202003SC00",parentMenuID:a.menuID},this.breadcrumbs.push({menuName:this.staticScreenName?this.staticScreenName:"",route:`/${t}`}),this.generateBreadcrumbs(e,i)}else if("/PUM202002SC00"==this.$route.path){let t,i;i=e.find((e=>"COM200001SC00"==e.screenID)),t={menuName:this.staticScreenName?this.staticScreenName:"",screenID:this.$route.path.replace("/",""),parentMenuID:i.menuID},this.generateBreadcrumbs(e,t)}}},async generateBreadcrumbs(e,t){try{if(t){const i={menuName:t.menuName,route:`/${t.screenID}`,menuIconID:t.menuIconID};if(this.breadcrumbs.unshift(i),t.parentMenuID){const i=e.find((e=>e.menuID==t.parentMenuID));i&&this.generateBreadcrumbs(e,i)}}}catch(i){console.log(i)}},matchScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-1;i++)if(e[i]!==t[i])return!1;return!0},matchApprovalModeScreenID(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length-5;i++)if(e[i]!==t[i])return!1;return!0}}}),a()}catch(u){a(u)}}))},92744:function(e,t,i){i.a(e,(async function(e,a){try{var o=i(66252),n=i(43493),s=i(58234),r=i(67609),u=i(15828),l=i(90121),d=i(72224),h=e([l,d]);[l,d]=h.then?(await h)():h;const p=new s.I;t["Z"]=(0,o.aZ)({name:"apm204001sc02",components:{CurrencyInput:r.Z,ModifyCard:u.Z,BreadCrumb:l.Z},data(){const e={registerTellerId:"",registerTellerName:"",registerDate:"",registerTime:"",updatedTellerId:"",updatedTellerName:"",updatedDate:"",updatedTime:""},t={customerNo:"",masterUserID:"",authorizationAuthorityTypeCode:"",authorizationBizTypeCode1:"",authorizationBizTypeCode2:"",authorizationCodeName:"",authorizationLineAssignTypeCode:"",firstRegisterDate:"",firstRegisterTellerID:"",firstRegisterTellerName:"",firstRegisterTime:"",lastChangeDate:"",lastChangeTellerID:"",lastChangeTellerName:"",lastChangeTime:"",requiredAmoungRangeYN:"",subscriptionApprovalTypeCode:"",mainUserRoleID:"",authStepList:[]};return{companyAuthorizationLineSettingInfoDetail:t,requiredAmoungRangeYN:[],userRoleList:[],isEdit:!0,isRequired:!1,isInvalidAmount:!1,isRequiredStepField:!1,isInvalidAmountInList:!1,isRequiredStepFieldList:!1,authorizationStep:{seqNo:0,approverID:"",maxAmount:0,minAmount:0,authorizationRoleCode:"",currencyCode:"USD",approverName:"",userRoleName:"",personList:[]},modifyCard:e,authorizationCode:"",isInvalidMaxAmount:!1,query:{customerNo:this.$route.query.customerNo,masterUserID:this.$route.query.masterUserID},invalidFinal:!1,requireField:!1,operationMode:"normal",approvalRes:{},previousAuthStep:[]}},async mounted(){""===this.approvalType?this.requestAuthorizationSettingDetail().then((()=>this.requestUserRoleList())):await this.$approval.getAuthorizationDetail().then((e=>{let t=JSON.parse(e.body.requestContent);this.approvalRes=e.body,this.operationMode="my-request"==this.approvalType?"read":"my-approval"==this.approvalType?"approval":"normal";const i=t.authStepList.map((e=>{e.authorizationRoleCode&&(e.personList=this.handleRequestPersonList("stepList",e.authorizationRoleCode,t.customerNo))}));console.log("authStepList",i),console.log("authDetailParsed",t),this.companyAuthorizationLineSettingInfoDetail={...t,...i},this.modifyCard={registerTellerId:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTellerID,registerTellerName:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTellerName,registerDate:this.companyAuthorizationLineSettingInfoDetail.firstRegisterDate,registerTime:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTime,updatedTellerId:this.companyAuthorizationLineSettingInfoDetail.lastChangeTellerID,updatedTellerName:this.companyAuthorizationLineSettingInfoDetail.lastChangeTellerName,updatedDate:this.companyAuthorizationLineSettingInfoDetail.lastChangeDate,updatedTime:this.companyAuthorizationLineSettingInfoDetail.lastChangeTime};const a=this.companyAuthorizationLineSettingInfoDetail.authStepList.findIndex((e=>e.approverID==this.$route.query.masterUserID||"FINAL"==e.authorizationRoleCode));if(-1!==a){const e=this.companyAuthorizationLineSettingInfoDetail.authStepList.splice(a,1)[0];this.companyAuthorizationLineSettingInfoDetail.authStepList.push(e)}}))},computed:{approvalType(){return this.$route.query.approvalType?this.$route.query.approvalType.toString():""},authorizationLineOption(){return this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode?`${this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode}:${this.$codeConverter.convertValue("SubscriptionApprovalTypeCode",this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode)}`:""},authorizationLineRolePersonOptionCode(){return this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode?`${this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode}:${this.$codeConverter.convertValue("AuthorizationLineAssignTypeCode",this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode)}`:""},isValidationRole(){return!(!this.isRequiredStepField||this.authorizationStep.authorizationRoleCode)},isValidationPerson(){return!(!this.isRequiredStepField||this.authorizationStep.approverID)},isDiabledSelectPerson(){return!(!this.isEdit&&this.authorizationStep.authorizationRoleCode)},isUseAmountRange(){return!("Y"==this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN&&!this.isEdit)},mappingAuthorizationCode(){return this.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode.find((e=>{e.key==this.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode1&&(this.authorizationCode=e.value,this.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode1=this.authorizationCode)})),this.companyAuthorizationLineSettingInfoDetail},getFinalAuthorizerID(){let e=this.companyAuthorizationLineSettingInfoDetail.authStepList.find((e=>e.approverID==this.$route.query.masterUserID||"FINAL"==e.authorizationRoleCode));return e?`${e.authorizationRoleCode}:${e.userRoleName}`:""},getFinalAuthorizerUserName(){let e,t=this.companyAuthorizationLineSettingInfoDetail.authStepList.find((e=>e.approverID==this.$route.query.masterUserID));return t&&(e=""==t.userName?t.customerName:t.userName,"FINAL"==t.authorizationRoleCode&&Array.isArray(t.personList)&&t.personList.forEach((t=>{e=t.userName.replace(/\s/g,"")?t.userName:t.customerName}))),e},isCurrentMaxAmount(){if("Y"==this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN){const e=[];return this.companyAuthorizationLineSettingInfoDetail.authStepList.map((t=>{"FINAL"!=t.authorizationRoleCode&&"STP"!=t.authorizationRoleCode&&e.push(t)})),e.find((e=>Number(e.maxAmount)>=Number(this.authorizationStep.maxAmount)&&"FINAL"!==this.authorizationStep.authorizationRoleCode&&"STP"!==this.authorizationStep.authorizationRoleCode&&"CHECK"!==this.authorizationStep.authorizationRoleCode))}return null},isNotExistingFinalAuthorizer(){return this.companyAuthorizationLineSettingInfoDetail.authStepList.every((e=>{if(e.approverID!=this.$route.query.masterUserID&&"FINAL"!=e.authorizationRoleCode)return!0}))},isAssignRoleOnly(){return"01"==this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode}},watch:{"authorizationStep.authorizationRoleCode"(e,t){e!==t&&this.handleRequestPersonList("stepObj",e,"")},"companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN"(e){"N"==e&&(this.requireField=!1,this.isInvalidAmountInList=!1)}},methods:{async requestAuthorizationSettingDetail(){const e={authorizationAuthorityTypeCode:`${this.$route.query.authorizationAuthorityTypeCode}`,authorizationBizTypeCode1:`${this.$route.query.authorizationBizTypeCode1}`,authorizationBizTypeCode2:`${this.$route.query.authorizationBizTypeCode2}`,customerNo:`${this.$route.query.customerNo}`,masterUserID:`${this.$route.query.masterUserID}`};await this.$request.getRequest("APM20400113",e,!1).then((async e=>{if(e.header.result){const t=e.body.authStepList.map((e=>{e.authorizationRoleCode&&(e.personList=this.handleRequestPersonList("stepList",e.authorizationRoleCode,""))}));this.companyAuthorizationLineSettingInfoDetail={...e.body,...t},this.modifyCard={registerTellerId:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTellerID,registerTellerName:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTellerName,registerDate:this.companyAuthorizationLineSettingInfoDetail.firstRegisterDate,registerTime:this.companyAuthorizationLineSettingInfoDetail.firstRegisterTime,updatedTellerId:this.companyAuthorizationLineSettingInfoDetail.lastChangeTellerID,updatedTellerName:this.companyAuthorizationLineSettingInfoDetail.lastChangeTellerName,updatedDate:this.companyAuthorizationLineSettingInfoDetail.lastChangeDate,updatedTime:this.companyAuthorizationLineSettingInfoDetail.lastChangeTime};const i=this.companyAuthorizationLineSettingInfoDetail.authStepList.findIndex((e=>e.approverID==this.$route.query.masterUserID||"FINAL"==e.authorizationRoleCode));if(-1!==i){const e=this.companyAuthorizationLineSettingInfoDetail.authStepList.splice(i,1)[0];this.companyAuthorizationLineSettingInfoDetail.authStepList.push(e)}}d.u.setData("COMPANY_AUTH_STEP",this.companyAuthorizationLineSettingInfoDetail.authStepList),console.log(this.companyAuthorizationLineSettingInfoDetail.authStepList),""!=this.approvalType&&(this.previousAuthStep=await d.u.getData("COMPANY_AUTH_STEP"))})),this.mappingAuthorizationCode},async requestUserRoleList(){const e=await this.$request.getRequest("COM21200113",{},!1);e.header.result&&e.body.list.filter((e=>{if("FINAL"==e.userRoleID||"STP"==e.userRoleID||"AUTH"==e.userRoleID||"CHECK"==e.userRoleID){let t;t=this.companyAuthorizationLineSettingInfoDetail.authStepList.find((e=>e.approverID==this.$route.query.masterUserID)),t?e.userRoleID!==this.companyAuthorizationLineSettingInfoDetail.mainUserRoleID&&"FINAL"!=e.userRoleID&&"STP"!=e.userRoleID&&this.userRoleList.push(e):("02"==this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode&&"STP"==e.userRoleID&&this.userRoleList.push(e),"01"==this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode&&"STP"!=e.userRoleID&&this.userRoleList.push(e))}}))},async handleRequestPersonList(e,t,i){switch(e){case"stepList":await this.$request.getRequest("COM21200114",{userRoleID:t,customerNo:""===this.approvalType?this.$route.query.customerNo:i},!1).then((e=>{this.companyAuthorizationLineSettingInfoDetail.authStepList.map((async t=>(e.body.list.forEach((e=>{t.approverID===e.userID&&(t.approverName=e.userName.replace(/\s/g,"")?e.userName:e.customerName)})),t)))}));break;case"stepObj":""!==t&&await this.$request.getRequest("COM21200114",{userRoleID:t,customerNo:this.$route.query.customerNo,userID:"FINAL"==t?this.$route.query.masterUserID:""},!1).then((e=>{e.header.result&&(this.authorizationStep.personList=e.body.list,this.userRoleList.find((e=>{e.userRoleID==this.authorizationStep.authorizationRoleCode&&(this.authorizationStep.userRoleName=e.userRoleName)})),this.userRoleList.map((e=>{this.authorizationStep.approverID===e.userRoleID&&(this.authorizationStep.userRoleName=e.userRoleName)})))})),this.onResetValueWhenUserChangingAction("renderRoleList",!1);break}},handleReorder(e){this.companyAuthorizationLineSettingInfoDetail.authStepList=e.detail.complete(this.companyAuthorizationLineSettingInfoDetail.authStepList),this.onResetValueWhenUserChangingAction("reOrder",!1)},handleAddAuthorizatinoStep(){this.onResetValueWhenUserChangingAction("addStep",!1);let e=!1;this.companyAuthorizationLineSettingInfoDetail.authStepList.forEach((t=>{this.authorizationStep.authorizationRoleCode===t.authorizationRoleCode&&this.authorizationStep.approverID===t.approverID&&(e=!0)})),e?this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("message.can_not_add_duplicated_data"),callback:()=>n.Fy.dismiss()}):this.companyAuthorizationLineSettingInfoDetail.authStepList.length>=5?this.$dialog.onOpen({dialogMode:"Warning",content:this.$t("message.step_must_less_than_or_equal_five"),callback:()=>n.Fy.dismiss()}):"Y"!=this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN||p.minMaxValueValidation(Number(this.authorizationStep.minAmount),Number(this.authorizationStep.maxAmount))?"02"==this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode?this.authorizationStep.authorizationRoleCode&&this.authorizationStep.approverID?this.isCurrentMaxAmount?(this.isInvalidMaxAmount=!0,this.$dialog.onOpen({dialogMode:"Warning",content:"Current step max amount must be greater than previous step.",callback:()=>n.Fy.dismiss()})):(this.companyAuthorizationLineSettingInfoDetail.authStepList.push(JSON.parse(JSON.stringify(this.authorizationStep))),this.isRequiredStepField=!1,this.authorizationStep.maxAmount=0,this.authorizationStep.minAmount=0,this.authorizationStep.approverID="",this.authorizationStep.authorizationRoleCode="",this.isInvalidMaxAmount=!1):(this.isRequired=!1,this.isRequiredStepField=!0,this.isRequiredStepFieldList=!1):this.authorizationStep.authorizationRoleCode?this.isCurrentMaxAmount?(this.isInvalidMaxAmount=!0,this.$dialog.onOpen({dialogMode:"Warning",content:"Current step max amount must be greater than previous step.",callback:()=>n.Fy.dismiss()})):(this.companyAuthorizationLineSettingInfoDetail.authStepList.push(JSON.parse(JSON.stringify(this.authorizationStep))),this.isRequiredStepField=!1,this.authorizationStep.maxAmount=0,this.authorizationStep.minAmount=0,this.authorizationStep.approverID="",this.authorizationStep.authorizationRoleCode="",this.isInvalidMaxAmount=!1):(this.isRequired=!1,this.isRequiredStepField=!0,this.isRequiredStepFieldList=!1):(this.isInvalidAmount=!0,this.isRequiredStepField=!0);const t=this.companyAuthorizationLineSettingInfoDetail.authStepList.findIndex((e=>e.approverID==this.$route.query.masterUserID||"FINAL"==e.authorizationRoleCode));if(-1!==t){const e=this.companyAuthorizationLineSettingInfoDetail.authStepList.splice(t,1)[0];this.companyAuthorizationLineSettingInfoDetail.authStepList.push(e)}},handleDeleteAuthorizationStep(e){this.onResetValueWhenUserChangingAction("deletStep",!1),this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.are_you_sure_you_want_to_delete"),callback:async()=>{n.Fy.dismiss(),this.companyAuthorizationLineSettingInfoDetail.authStepList=this.companyAuthorizationLineSettingInfoDetail.authStepList.filter(((t,i)=>i!==e))}})},async requestAuthorizationCodetEdit(){let e;this.$store.state.CommonCodeModule.commonCode.BusinessCategoryCode.find((t=>{t.value==this.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode1&&(e=t.key)}));const t={customerNo:this.companyAuthorizationLineSettingInfoDetail.customerNo,masterUserID:this.companyAuthorizationLineSettingInfoDetail.masterUserID,requiredAmoungRangeYN:this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN,authorizationBizTypeCode1:e,authorizationBizTypeCode2:this.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode2,subscriptionApprovalTypeCode:this.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode,authorizationAuthorityTypeCode:this.companyAuthorizationLineSettingInfoDetail.authorizationAuthorityTypeCode,authorizationLineAssignTypeCode:this.companyAuthorizationLineSettingInfoDetail.authorizationLineAssignTypeCode,authStepList:this.companyAuthorizationLineSettingInfoDetail.authStepList.map(((e,t)=>(e.seqNo=t+1,e.maxAmount=Number(e.maxAmount),e.minAmount=Number(e.minAmount),delete e.personList,e)))};await this.$request.getRequest("APM20400131",t,!1).then((e=>{e.header.result&&(this.isEdit=!0,this.isRequired=!1,this.isRequiredStepFieldList=!1,this.isInvalidAmountInList=!1,this.requestAuthorizationSettingDetail(),this.$dialog.onOpen({dialogMode:"Success",content:this.$t("message.saved_successfully"),callback:()=>{n.Fy.dismiss()}}))}))},handleClickAction(e){switch(e){case"edit":this.isEdit=!1;break;case"cancel":this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.are_you_sure_you_want_to_cancel_without_saving_data"),callback:()=>{n.Fy.dismiss(),this.isEdit=!0,this.onResetValueWhenUserChangingAction("cancelAction",!1),this.invalidFinal=!1}});break;case"list":this.$router.push({path:"APM204001SC01",query:{customerNo:this.$route.query.customerNo,masterUserID:this.$route.query.masterUserID}});break;case"save":if(this.isNotExistingFinalAuthorizer)this.invalidFinal=!0;else{this.invalidFinal=!1,this.onResetValueWhenUserChangingAction("saveAction",!1);var t,{authStepList:i}=this.companyAuthorizationLineSettingInfoDetail,a=!1;i.find((e=>{"Y"==this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN&&Number(e.minAmount)>Number(e.maxAmount)&&(a=!0)})),i.length>0&&(t=i.find((e=>{if("Y"==this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN&&"FINAL"!=e.authorizationRoleCode&&"CHECK"!=e.authorizationRoleCode)return 0==e.minAmount&&0==e.maxAmount}))),t?this.requireField=!0:(this.requireField=!1,a?this.isInvalidAmountInList=!0:this.checkMaxAmountOrder()?this.isInvalidMaxAmount=!0:(this.$dialog.onOpen({dialogMode:"Question",content:this.$t("message.would_you_like_to_save"),callback:async()=>{n.Fy.dismiss(),this.requestAuthorizationCodetEdit()}}),this.isInvalidMaxAmount=!1))}break}},onResetValueWhenUserChangingAction(e,t){switch(e){case"reOrder":this.isInvalidAmount=t,this.isInvalidAmountInList=t,this.isRequiredStepField=t;break;case"addStep":this.isInvalidAmountInList=t,this.isRequiredStepField=t;break;case"renderRoleList":this.isInvalidAmount=t,this.isInvalidAmountInList=t,this.isRequiredStepField=t,this.authorizationStep.approverID="",this.authorizationStep.approverName="";break;case"saveAction":this.isInvalidAmount=t,this.isRequiredStepField=t,this.authorizationStep.approverID="",this.authorizationStep.approverName="",this.authorizationStep.authorizationRoleCode="",this.authorizationStep.maxAmount=0,this.authorizationStep.minAmount=0;break;case"deletStep":this.isInvalidAmount=t,this.isRequiredStepField=t,this.isInvalidAmountInList=t;break;case"cancelAction":this.isInvalidAmount=t,this.isRequiredStepField=t,this.isInvalidAmountInList=t,this.authorizationStep.approverID="",this.authorizationStep.approverName="",this.authorizationStep.authorizationRoleCode="",this.authorizationStep.maxAmount=0,this.authorizationStep.minAmount=0,this.requestAuthorizationSettingDetail();break}},checkMaxAmountOrder(){if("Y"!=this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN)return null;var{authStepList:e}=this.companyAuthorizationLineSettingInfoDetail;for(let t=1;t<e.length;t++)if("FINAL"!=e[t].authorizationRoleCode&&"STP"!=e[t].authorizationRoleCode&&"CHECK"!=e[t].authorizationRoleCode&&e[t].maxAmount<=e[t-1].maxAmount)return!0},disabledFinalAuthorizerRangeAmount(){return("FINAL"==this.authorizationStep.authorizationRoleCode||"CHECK"==this.authorizationStep.authorizationRoleCode||"STP"==this.authorizationStep.authorizationRoleCode)&&(this.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN="N",!0)},isOptionDisabled(e){if("CHECK"!=e.userRoleID&&"AUTH"!=e.userRoleID&&"FINAL"!=e.userRoleID&&"STP"!=e.userRoleID)return!0},isDisabledFinalAuthorizerSelectOption(e){const t=this.companyAuthorizationLineSettingInfoDetail.authStepList.find((e=>"FINAL"==e.authorizationRoleCode));if(t&&"FINAL"==e.userRoleID)return!0},approvalActiveMode(e,t){console.log("this.previousAuthStep",this.previousAuthStep);const i=this.previousAuthStep.map((e=>e.authorizationRoleCode)),a=this.previousAuthStep.map((e=>e.minAmount)),o=this.previousAuthStep.map((e=>e.maxAmount)),n=this.previousAuthStep.map((e=>e.userName));if(i.indexOf(e.authorizationRoleCode)!==t||!a.includes(e.minAmount)||!o.includes(e.maxAmount)||!n.includes(e.userName))return!0}}}),a()}catch(p){a(p)}}))},90121:function(e,t,i){i.a(e,(async function(e,a){try{var o=i(55864),n=i(44104),s=(i(55241),i(83744)),r=e([n]);n=(r.then?(await r)():r)[0];const u=(0,s.Z)(n.Z,[["render",o.s],["__scopeId","data-v-6668b2f2"]]);t["Z"]=u,a()}catch(u){a(u)}}))},67609:function(e,t,i){i.d(t,{Z:function(){return z}});var a=i(66252),o=i(3577);const n={key:0,class:"unit"};function s(e,t){const i=(0,a.up)("ion-input");return(0,a.wg)(),(0,a.j4)(i,{class:(0,o.C_)([[e.showCurrency&&"inp_amount","line","type_amount","right"===e.textAlign?"align-right":""],"type_amount"]),value:e.displayVal,maxLength:16,style:(0,o.j5)({"text-align":e.textAlign}),onKeydown:e.onKeyDown,onIonInput:e.onChange,onIonBlur:e.onBlur,onIonFocus:e.onFocus},{default:(0,a.w5)((()=>[e.showCurrency?((0,a.wg)(),(0,a.iD)("span",n,(0,o.zw)(e.currency),1)):(0,a.kq)("",!0)])),_:1},8,["class","value","style","onKeydown","onIonInput","onIonBlur","onIonFocus"])}const r=8,u=37,l=39,d=46,h=13,p=190;var m=(0,a.aZ)({name:"CurrencyInput",props:{modelValue:{type:String,required:!0},currency:{type:String,required:!0,default:"USD"},showCurrency:{type:Boolean,default:!0},autoConvert:{type:String,default:"USD"},textAlign:{type:String,default:"right"}},emits:["update:modelValue"],data(){return{displayVal:"0",isFocus:!1}},mounted(){"KHR"==this.autoConvert?this.onFormat(""+4e3*Number(this.modelValue)):this.onFormat(this.modelValue)},watch:{modelValue(e,t){"KHR"==this.autoConvert?e!==t&&(this.isFocus?this.onUnformat(4e3*e):this.onFormat(4e3*e)):e!==t&&(this.isFocus?this.onUnformat(e):this.onFormat(e))},currency(){"KHR"==this.autoConvert?this.isFocus?this.onUnformat(4e3*Number(this.modelValue)):this.onFormat(4e3*Number(this.modelValue)):this.isFocus?this.onUnformat(this.modelValue):this.onFormat(this.modelValue)}},methods:{onUnformat(e){if(!e||"0"==e||0==e||"0.00"==e)return void(this.displayVal="0");const t=e.toString();if("string"==typeof t&&t.includes(",")){const e=t.toString();this.displayVal=this.$format.unformatCurrency(e)}else this.displayVal=t},onFormat(e){if(!e||"0"==e||0==e)return void(this.displayVal="USD"==this.currency?"0.00":"0");const t=e.toString();if("string"!=typeof t||t.includes(","))this.displayVal=t;else{const e=parseFloat(t);this.displayVal=this.$format.formatCurrency(e,this.currency)}},onChange(e){const t=e.target.value;this.$emit("update:modelValue",t)},onKeyDown(e){const t=e,i=t.which?t.which:t.keyCode;if(/\d/.test(e.key)||i===r||i===u||i===l||i===d||i===h||i===p){if(i===h)this.onBlur();else if(i===p)("KHR"==this.currency||"string"===typeof this.modelValue&&this.modelValue.includes("."))&&e.preventDefault();else if(/\d/.test(e.key)&&"string"===typeof this.modelValue&&this.modelValue.includes(".")){const i=this.modelValue.split(".");i.length>1&&e.currentTarget.getInputElement().then((e=>{const a=e.selectionEnd;(a==this.modelValue.length&&2==i[1].length||a==this.modelValue.length-1&&2==i[1].length||a==this.modelValue.length-2&&2==i[1].length)&&t.preventDefault()}))}}else t.preventDefault()},onBlur(){this.onFormat(this.modelValue),this.isFocus=!1},onFocus(){this.onUnformat(this.modelValue),this.isFocus=!0}}}),c=i(83744);const g=(0,c.Z)(m,[["render",s],["__scopeId","data-v-50b37962"]]);var z=g},15828:function(e,t,i){i.d(t,{Z:function(){return z}});var a=i(66252),o=i(3577);const n={key:0,class:"row gap detail_info"},s={key:0,class:"col"},r={class:"sub"},u={key:1,class:"col"},l={class:"sub"},d={key:2,class:"col"},h={class:"sub"};function p(e,t){return e.isShowRegister||e.isShowUpdate||e.isShowDelete?((0,a.wg)(),(0,a.iD)("div",n,[e.isShowRegister?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(e.$t("common.created_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(e.createdEmployee),1),(0,a.Uk)(),(0,a._)("span",r,(0,o.zw)(e.createdDate),1)])])])):(0,a.kq)("",!0),e.isShowUpdate?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(e.$t("common.updated_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(e.updatedEmployee),1),(0,a._)("span",l,(0,o.zw)(e.updatedDate),1)])])])):(0,a.kq)("",!0),e.isShowDelete?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("dl",null,[(0,a._)("dt",null,(0,o.zw)(e.$t("common.deleted_date")),1),(0,a._)("dd",null,[(0,a._)("strong",null,(0,o.zw)(e.deletedEmployee),1),(0,a._)("span",h,(0,o.zw)(e.deletedDate),1)])])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var m=(0,a.aZ)({name:"modify-card",props:{data:{type:Object,required:!0}},computed:{createdEmployee(){return`${this.data.registerTellerName||""} ${this.data.registerTellerId?.trim()?`(${this.data.registerTellerId})`:""}`},createdDate(){return`${this.$datetime.formatStringToTime(this.data.registerTime?this.data.registerTime:"")} ${this.$datetime.formatStringToStringDate(this.data.registerDate?this.data.registerDate:"")}`},updatedEmployee(){return`${this.data.updatedTellerName||""} ${this.data.updatedTellerId?.trim()?`(${this.data.updatedTellerId})`:""}`},updatedDate(){return`${this.$datetime.formatStringToTime(this.data.updatedTime?this.data.updatedTime:"")} ${this.$datetime.formatStringToStringDate(this.data.updatedDate?this.data.updatedDate:"")}`},deletedEmployee(){return`${this.data.deleteTellerName||""} ${this.data.deleteTellerId?.trim()?`(${this.data.deleteTellerId})`:""}`},deletedDate(){return`${this.$datetime.formatStringToTime(this.data.deleteTime?this.data.deleteTime:"")} ${this.$datetime.formatStringToStringDate(this.data.deleteDate?this.data.deleteDate:"")}`},isShowRegister(){return!!(this.data.registerDate?.trim()||this.data.registerTime?.trim()||this.data.registerTellerId?.trim()||this.data.registerTellerName?.trim())},isShowUpdate(){return!!(this.data.updatedDate?.trim()||this.data.updatedTime?.trim()||this.data.updatedTellerId?.trim()||this.data.updatedTellerName?.trim())},isShowDelete(){return!!(this.data.deleteDate?.trim()||this.data.deleteTime?.trim()||this.data.deleteTellerId?.trim()||this.data.deleteTellerName?.trim())}}}),c=i(83744);const g=(0,c.Z)(m,[["render",p]]);var z=g},44690:function(e,t,i){i.a(e,(async function(e,a){try{i.r(t);var o=i(71948),n=i(68357),s=(i(49065),i(83744)),r=e([n]);n=(r.then?(await r)():r)[0];const u=(0,s.Z)(n.Z,[["render",o.s],["__scopeId","data-v-f8ea22ec"]]);t["default"]=u,a()}catch(u){a(u)}}))},55241:function(){},49065:function(){},44104:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Z:function(){return o.Z}});var o=i(28183),n=e([o]);o=(n.then?(await n)():n)[0],a()}catch(s){a(s)}}))},68357:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Z:function(){return o.Z}});var o=i(92744),n=e([o]);o=(n.then?(await n)():n)[0],a()}catch(s){a(s)}}))},55864:function(e,t,i){i.d(t,{s:function(){return s}});var a=i(66252),o=i(3577);const n={class:"bread_crumb"};function s(e,t){const i=(0,a.up)("ion-label");return(0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.breadcrumbs,((t,n)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:n},[t.menuIconID&&0==n?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,o.C_)(["icon_menu",[t.menuIconID]])},null,2)):(0,a.kq)("",!0),""==t.route||"/"==t.route?((0,a.wg)(),(0,a.j4)(i,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1024)):(0,a.kq)("",!0),""!=t.route&&"/"!=t.route?((0,a.wg)(),(0,a.j4)(i,{key:2,onClick:i=>e.pathDriver(t.route,e.queryData)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t(`${t.menuName}`)),1)])),_:2},1032,["onClick"])):(0,a.kq)("",!0)],64)))),128))])}},71948:function(e,t,i){i.d(t,{s:function(){return Ee}});var a=i(66252),o=i(3577),n=i(49963);const s=e=>((0,a.dD)("data-v-f8ea22ec"),e=e(),(0,a.Cn)(),e),r={class:"contentWrap"},u={class:"optwrap"},l={class:"title_name"},d={class:"cont"},h={class:"card_box"},p={class:"row gap"},m={class:"col-6"},c={class:"form01"},g={class:"inp_box"},z={class:"inp"},y={class:"col-6"},A={class:"form01"},S={class:"inp_box"},I={class:"inp"},_={class:"row gap"},D={class:"col-6"},f={class:"form01"},v={class:"inp_box"},C={class:"inp"},L={class:"col-6"},R={class:"form01"},b={class:"title_name"},w={class:"cont"},N={class:"card_box"},$={class:"row gap"},T={class:"col-3"},q={class:"form01"},k=s((()=>(0,a._)("span",{class:"require"},"*",-1))),F={key:0,class:"txt_error"},x={class:"col-3"},M={class:"form01"},U=s((()=>(0,a._)("span",{class:"require"},"*",-1))),V={key:0,class:"txt_error"},O={class:"col"},B={class:"form01"},E=s((()=>(0,a._)("span",{class:"require"},"*",-1))),W={class:"row gap10"},P={class:"col"},Y={class:"inp_box"},H={class:"inp"},K={class:"unit"},Z={key:0,class:"txt_error"},j={class:"col"},J={class:"inp_box"},Q={class:"inp"},G={class:"unit"},X={key:0,class:"txt_error"},ee={class:"col auto"},te={class:"row"},ie={class:"col"},ae={key:0,class:"row gap sub_form"},oe={class:"col"},ne={class:"form02"},se=s((()=>(0,a._)("span",{class:"require"},"*",-1))),re={class:"row gap10"},ue={class:"col-3"},le={class:"col-3"},de={class:"col-3"},he={class:"inp_box"},pe={class:"inp"},me={class:"unit"},ce={key:0,class:"txt_error"},ge={key:1,class:"txt_error"},ze={class:"col-3"},ye={class:"inp_box"},Ae={class:"inp"},Se={class:"unit"},Ie={key:0,class:"txt_error"},_e={key:1,class:"txt_error"},De={key:2,class:"txt_error"},fe={class:"col auto"},ve={class:"row gap10"},Ce={class:"col auto"},Le={class:"col auto"},Re={class:"row gap"},be={class:"col"},we={class:"form01"},Ne={class:"row gap"},$e={class:"col-6"},Te={class:"inp"},qe={key:0,class:"txt_error"},ke={class:"col-6"},Fe={class:"inp"},xe={key:0,class:"txt_error"},Me={key:0,class:"footer_btn"},Ue={class:"left_side"},Ve={class:"right_side"},Oe={class:"edit"},Be={class:"save"};function Ee(e,t){const i=(0,a.up)("BreadCrumb"),s=(0,a.up)("ion-input"),Ee=(0,a.up)("ion-radio"),We=(0,a.up)("ion-label"),Pe=(0,a.up)("ion-item"),Ye=(0,a.up)("ion-list"),He=(0,a.up)("ion-radio-group"),Ke=(0,a.up)("ion-select-option"),Ze=(0,a.up)("ion-select"),je=(0,a.up)("CurrencyInput"),Je=(0,a.up)("ion-button"),Qe=(0,a.up)("ion-reorder"),Ge=(0,a.up)("ion-reorder-group"),Xe=(0,a.up)("ModifyCard"),et=(0,a.up)("ApprovalReason");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",u,[(0,a.Wm)(i,{staticScreenName:e.$t("apm204001sc02.company_authorization_line_register_edit"),queryData:e.query},null,8,["staticScreenName","queryData"])]),(0,a._)("h1",l,(0,o.zw)(e.$t("apm204001sc02.company_authorization_line_register_edit")),1),(0,a._)("div",d,[(0,a._)("div",h,[(0,a._)("div",p,[(0,a._)("div",m,[(0,a._)("dl",c,[(0,a._)("dt",null,(0,o.zw)(e.$t("apm204001sc02.auhtorization_code")),1),(0,a._)("dd",null,[(0,a._)("div",g,[(0,a._)("div",z,[(0,a.Wm)(s,{class:"line",placeholder:"",disabled:"",modelValue:e.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.companyAuthorizationLineSettingInfoDetail.authorizationBizTypeCode1=t)},null,8,["modelValue"])])])])])]),(0,a._)("div",y,[(0,a._)("dl",A,[(0,a._)("dt",null,(0,o.zw)(e.$t("apm204001sc02.auhtorization_line_option")),1),(0,a._)("dd",null,[(0,a._)("div",S,[(0,a._)("div",I,[(0,a.Wm)(s,{class:"line",placeholder:"",value:e.authorizationLineOption,disabled:""},null,8,["value"])])])])])])]),(0,a._)("div",_,[(0,a._)("div",D,[(0,a._)("dl",f,[(0,a._)("dt",null,(0,o.zw)(e.$t("apm204001sc02.authorization_line_role_person_option_code")),1),(0,a._)("dd",null,[(0,a._)("div",v,[(0,a._)("div",C,[(0,a.Wm)(s,{class:"line",placeholder:"",disabled:"",value:e.authorizationLineRolePersonOptionCode},null,8,["value"])])])])])]),(0,a._)("div",L,[(0,a._)("dl",R,[(0,a._)("dt",null,(0,o.zw)(e.$t("apm204001sc02.use_amount_range")),1),(0,a._)("dd",null,[(0,a.Wm)(He,{modelValue:e.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN,"onUpdate:modelValue":t[1]||(t[1]=t=>e.companyAuthorizationLineSettingInfoDetail.requiredAmoungRangeYN=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(Ye,{class:"list_chk"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.CommonCodeModule.commonCode.YnType,(t=>((0,a.wg)(),(0,a.j4)(Pe,{key:t.key},{default:(0,a.w5)((()=>[(0,a.Wm)(Ee,{disabled:e.isEdit||e.disabledFinalAuthorizerRangeAmount()||"read"==e.operationMode||"approval"==e.operationMode,value:t.key},null,8,["disabled","value"]),(0,a.Wm)(We,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.value),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])])])])])]),(0,a._)("h1",b,(0,o.zw)(e.$t("apm204001sc02.auhtorization_step")),1),(0,a._)("div",w,[(0,a._)("div",N,[(0,a._)("div",$,[(0,a._)("div",T,[(0,a._)("dl",q,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(e.$t("apm204001sc02.role")),1),k]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,o.C_)({inp_error:e.isRequiredStepField&&!e.authorizationStep.authorizationRoleCode})},[(0,a.Wm)(Ze,{interface:"popover",interfaceOptions:{size:"cover"},class:(0,o.C_)(["line",{invalidInput:e.isRequiredStepField&&!e.authorizationStep.authorizationRoleCode}]),placeholder:e.$t("apm204001sc02.placeholder.select_role"),disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.authorizationStep.authorizationRoleCode,"onUpdate:modelValue":t[2]||(t[2]=t=>e.authorizationStep.authorizationRoleCode=t)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.userRoleList,((t,i)=>((0,a.wg)(),(0,a.j4)(Ke,{key:i,value:t.userRoleID,disabled:e.isOptionDisabled(t)||e.isDisabledFinalAuthorizerSelectOption(t)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(`${t.userRoleID}:${t.userRoleName}`),1)])),_:2},1032,["value","disabled"])))),128))])),_:1},8,["class","placeholder","disabled","modelValue"]),e.isRequiredStepField&&!e.authorizationStep.authorizationRoleCode?((0,a.wg)(),(0,a.iD)("p",F,(0,o.zw)(e.$t("error_text.please_select_role")),1)):(0,a.kq)("",!0)],2)])])]),(0,a._)("div",x,[(0,a._)("dl",M,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(e.$t("apm204001sc02.person")),1),U]),(0,a._)("dd",null,[(0,a._)("div",{class:(0,o.C_)({inp_error:e.isValidationPerson})},[(0,a.Wm)(Ze,{interface:"popover",interfaceOptions:{size:"cover"},class:(0,o.C_)(["line",{invalidInput:e.isValidationPerson}]),placeholder:e.$t("apm204001sc02.placeholder.select_person"),disabled:e.isDiabledSelectPerson||e.isAssignRoleOnly||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.authorizationStep.approverID,"onUpdate:modelValue":t[3]||(t[3]=t=>e.authorizationStep.approverID=t)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.authorizationStep.personList,(e=>((0,a.wg)(),(0,a.j4)(Ke,{key:e.userID,value:e.userID},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.userName.replace(/\s/g,"")?e.userName:e.customerName),1)])),_:2},1032,["value"])))),128))])),_:1},8,["class","placeholder","disabled","modelValue"]),e.isValidationPerson?((0,a.wg)(),(0,a.iD)("p",V,(0,o.zw)(e.$t("error_text.please_select_person")),1)):(0,a.kq)("",!0)],2)])])]),(0,a._)("div",O,[(0,a._)("dl",B,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(e.$t("apm204001sc02.amount_range")),1),E]),(0,a._)("dd",null,[(0,a._)("div",W,[(0,a._)("div",P,[(0,a._)("div",Y,[(0,a._)("div",{class:(0,o.C_)({inp_error:e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount})},[(0,a._)("div",H,[(0,a.Wm)(je,{class:(0,o.C_)({invalidInput:e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount}),showCurrency:!1,disabled:e.isUseAmountRange||e.disabledFinalAuthorizerRangeAmount()||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.authorizationStep.minAmount,"onUpdate:modelValue":t[4]||(t[4]=t=>e.authorizationStep.minAmount=t)},null,8,["class","disabled","modelValue"]),(0,a._)("span",K,(0,o.zw)(e.authorizationStep.currencyCode),1)]),e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount?((0,a.wg)(),(0,a.iD)("p",Z,(0,o.zw)(e.$t("error_text.min_amount_invalid")),1)):(0,a.kq)("",!0)],2)])]),(0,a._)("div",j,[(0,a._)("div",J,[(0,a._)("div",{class:(0,o.C_)({inp_error:e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount})},[(0,a._)("div",Q,[(0,a.Wm)(je,{class:(0,o.C_)(["line",{inp_error:e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount}]),showCurrency:!1,disabled:e.isUseAmountRange||e.disabledFinalAuthorizerRangeAmount()||"read"==e.operationMode||"approval"==e.operationMode,modelValue:e.authorizationStep.maxAmount,"onUpdate:modelValue":t[5]||(t[5]=t=>e.authorizationStep.maxAmount=t)},null,8,["class","disabled","modelValue"]),(0,a._)("span",G,(0,o.zw)(e.authorizationStep.currencyCode),1)]),e.authorizationStep.minAmount>e.authorizationStep.maxAmount&&e.isInvalidAmount?((0,a.wg)(),(0,a.iD)("p",X,(0,o.zw)(e.$t("error_text.min_amount_invalid")),1)):(0,a.kq)("",!0)],2)])]),(0,a._)("div",ee,[(0,a.Wm)(Je,{class:"btn02",disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,onClick:t[6]||(t[6]=t=>e.handleAddAuthorizatinoStep())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("apm204001sc02.add_step")),1)])),_:1},8,["disabled"])])])])])])]),(0,a._)("div",te,[(0,a._)("div",ie,[(0,a.Wm)(Ge,{disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,onIonItemReorder:t[7]||(t[7]=t=>e.handleReorder(t))},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.companyAuthorizationLineSettingInfoDetail.authStepList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[t.approverID!=this.$route.query.masterUserID&&"FINAL"!=t.authorizationRoleCode?((0,a.wg)(),(0,a.iD)("div",ae,[(0,a._)("div",oe,[(0,a._)("dl",ne,[(0,a._)("dt",null,[(0,a.Uk)((0,o.zw)(`${e.$t("apm204001sc02.step")} ${i+1}`),1),se]),(0,a._)("dd",null,[(0,a._)("div",re,[(0,a._)("div",ue,[(0,a.Wm)(Ze,{interface:"popover",interfaceOptions:{size:"cover"},class:"line","select-text":`${t.authorizationRoleCode}:${t.userRoleName}`,placeholder:t.authorizationRoleCode?`${t.authorizationRoleCode}:${t.userRoleName}`:e.$t("apm204001sc02.placeholder.select_person"),disabled:"",modelValue:t.authorizationRoleCode,"onUpdate:modelValue":e=>t.authorizationRoleCode=e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.userRoleList,((e,t)=>((0,a.wg)(),(0,a.j4)(Ke,{key:t,value:e.userRoleID},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(`${e.userRoleID}:${e.userRoleName}`),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["select-text","placeholder","modelValue","onUpdate:modelValue"])]),(0,a._)("div",le,[(0,a.Wm)(Ze,{interface:"popover",interfaceOptions:{size:"cover"},class:"line","selected-text":t.approverName,placeholder:t.approverID?t.approverName:"",disabled:"",modelValue:t.approverID,"onUpdate:modelValue":e=>t.approverID=e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.personList,((e,t)=>((0,a.wg)(),(0,a.j4)(Ke,{key:t,value:e.userID},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.userName),1)])),_:2},1032,["value"])))),128))])),_:2},1032,["selected-text","placeholder","modelValue","onUpdate:modelValue"])]),(0,a._)("div",de,[(0,a._)("div",he,[(0,a._)("div",{class:(0,o.C_)({inp_error:t.minAmount>t.maxAmount&&e.isInvalidAmountInList||e.requireField&&"FINAL"!=t.authorizationRoleCode&&"CHECK"!=t.authorizationRoleCode&&0==t.maxAmount&&0==t.minAmount})},[(0,a._)("div",pe,[(0,a.Wm)(je,{class:(0,o.C_)(["line",{invalidInput:t.minAmount>t.maxAmount&&e.isInvalidAmountInList}]),showCurrency:!1,disabled:e.isUseAmountRange||"FINAL"==t.authorizationRoleCode||"CHECK"==t.authorizationRoleCode||"STP"==t.authorizationRoleCode||"read"==e.operationMode||"approval"==e.operationMode,modelValue:t.minAmount,"onUpdate:modelValue":e=>t.minAmount=e},null,8,["class","disabled","modelValue","onUpdate:modelValue"]),(0,a._)("span",me,(0,o.zw)(t.currencyCode),1)]),t.minAmount>t.maxAmount&&e.isInvalidAmountInList?((0,a.wg)(),(0,a.iD)("p",ce,(0,o.zw)(e.$t("error_text.min_amount_invalid")),1)):(0,a.kq)("",!0),e.requireField&&"FINAL"!=t.authorizationRoleCode&&"CHECK"!=t.authorizationRoleCode&&0==t.maxAmount&&0==t.minAmount?((0,a.wg)(),(0,a.iD)("p",ge,(0,o.zw)(e.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])]),(0,a._)("div",ze,[(0,a._)("div",ye,[(0,a._)("div",{class:(0,o.C_)({inp_error:t.minAmount>t.maxAmount&&e.isInvalidAmountInList||t.maxAmount&&e.isInvalidMaxAmount||e.requireField&&"FINAL"!=t.authorizationRoleCode&&"CHECK"!=t.authorizationRoleCode&&0==t.maxAmount&&0==t.minAmount})},[(0,a._)("div",Ae,[(0,a.Wm)(je,{class:(0,o.C_)({invalidInput:t.maxAmount<t.minAmount&&e.isInvalidAmountInList}),showCurrency:!1,disabled:e.isUseAmountRange||"FINAL"==t.authorizationRoleCode||"CHECK"==t.authorizationRoleCode||"STP"==t.authorizationRoleCode||"read"==e.operationMode||"approval"==e.operationMode,modelValue:t.maxAmount,"onUpdate:modelValue":e=>t.maxAmount=e},null,8,["class","disabled","modelValue","onUpdate:modelValue"]),(0,a._)("span",Se,(0,o.zw)(t.currencyCode),1)]),t.minAmount>t.maxAmount&&e.isInvalidAmountInList?((0,a.wg)(),(0,a.iD)("p",Ie,(0,o.zw)(e.$t("error_text.min_amount_invalid")),1)):(0,a.kq)("",!0),e.isInvalidMaxAmount?((0,a.wg)(),(0,a.iD)("p",_e,(0,o.zw)(e.$t("error_text.invalid_max_amount_rage_by_seq")),1)):(0,a.kq)("",!0),e.requireField&&"FINAL"!=t.authorizationRoleCode&&"CHECK"!=t.authorizationRoleCode&&0==t.maxAmount&&0==t.minAmount?((0,a.wg)(),(0,a.iD)("p",De,(0,o.zw)(e.$t("error_text.field_empty")),1)):(0,a.kq)("",!0)],2)])]),(0,a._)("div",fe,[(0,a._)("div",ve,[(0,a._)("div",Ce,[(0,a.Wm)(Je,{class:"btn02",disabled:e.isEdit||"read"==e.operationMode||"approval"==e.operationMode,onClick:t=>e.handleDeleteAuthorizationStep(i)},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.$t("common.delete")),1)])),_:2},1032,["disabled","onClick"])]),(0,a._)("div",Le,[(0,a.Wm)(Qe,{slot:"end",disabled:e.isEdit},{default:(0,a.w5)((()=>[(0,a.Wm)(Je,{class:"btn_drag"})])),_:1},8,["disabled"])])])])])])])])])):(0,a.kq)("",!0)],64)))),128))])),_:1},8,["disabled"])])]),(0,a._)("div",Re,[(0,a._)("div",be,[(0,a._)("dl",we,[(0,a._)("dt",null,(0,o.zw)(e.$t("apm204001sc02.final_step")),1),(0,a._)("dd",null,[(0,a._)("div",Ne,[(0,a._)("div",$e,[(0,a._)("div",{class:(0,o.C_)(["inp_box",{inp_error:e.invalidFinal&&!e.getFinalAuthorizerID}])},[(0,a._)("div",Te,[(0,a.Wm)(s,{class:"line",placeholder:"",value:void 0==e.getFinalAuthorizerID?"":e.getFinalAuthorizerID,disabled:""},null,8,["value"])]),e.invalidFinal&&!e.getFinalAuthorizerID?((0,a.wg)(),(0,a.iD)("p",qe,(0,o.zw)(e.$t("common.final_authorizer_required")),1)):(0,a.kq)("",!0)],2)]),(0,a._)("div",ke,[(0,a._)("div",{class:(0,o.C_)(["inp_box",{inp_error:e.invalidFinal&&!e.getFinalAuthorizerID}])},[(0,a._)("div",Fe,[(0,a.Wm)(s,{class:"line",placeholder:"",value:void 0==e.getFinalAuthorizerUserName?"":e.getFinalAuthorizerUserName,disabled:""},null,8,["value"])]),e.invalidFinal&&!e.getFinalAuthorizerID?((0,a.wg)(),(0,a.iD)("p",xe,(0,o.zw)(e.$t("common.final_authorizer_required")),1)):(0,a.kq)("",!0)],2)])])])])])]),(0,a.Wm)(Xe,{data:e.modifyCard},null,8,["data"])])]),"normal"==e.operationMode?((0,a.wg)(),(0,a.iD)("div",Me,[(0,a._)("div",Ue,[(0,a.wy)((0,a.Wm)(Je,{class:"btn03",onClick:t[8]||(t[8]=t=>e.handleClickAction("cancel"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.$t("common.cancel")),1)])),_:1},512),[[n.F8,!e.isEdit]]),(0,a.wy)((0,a.Wm)(Je,{class:"btn02",onClick:t[9]||(t[9]=t=>e.handleClickAction("list"))},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,o.zw)(e.$t("common.list")),1)])),_:1},512),[[n.F8,e.isEdit]])]),(0,a._)("div",Ve,[(0,a.wy)((0,a.Wm)(Je,{class:"btn02 btn_ico",disabled:"02"==e.companyAuthorizationLineSettingInfoDetail.subscriptionApprovalTypeCode&&1==e.companyAuthorizationLineSettingInfoDetail.authStepList.length,onClick:t[10]||(t[10]=t=>e.handleClickAction("edit"))},{default:(0,a.w5)((()=>[(0,a._)("span",Oe,(0,o.zw)(e.$t("common.edit")),1)])),_:1},8,["disabled"]),[[n.F8,e.isEdit]]),(0,a.wy)((0,a.Wm)(Je,{class:"btn01 btn_ico",onClick:t[11]||(t[11]=t=>e.handleClickAction("save"))},{default:(0,a.w5)((()=>[(0,a._)("span",Be,(0,o.zw)(e.$t("common.save")),1)])),_:1},512),[[n.F8,!e.isEdit]])])])):(0,a.kq)("",!0),"normal"!==e.operationMode?((0,a.wg)(),(0,a.j4)(et,{key:1,payload:e.approvalRes},null,8,["payload"])):(0,a.kq)("",!0)])])}}}]);
//# sourceMappingURL=4690.77ac75d9.js.map